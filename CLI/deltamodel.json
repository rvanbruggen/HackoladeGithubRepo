{
    "modelName": "New model",
    "collections": [
        {
            "collectionName": "comparisonModelCollection",
            "type": "object",
            "properties": [
                {
                    "name": "containers",
                    "hackoladeMeta": {},
                    "isActivated": true,
                    "primaryKey": false,
                    "unique": false,
                    "subtype": "object",
                    "properties": [
                        {
                            "name": "added",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "1b2563d3-2e47-490e-b835-41a5a592a049"
                        },
                        {
                            "name": "deleted",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "ffd6caea-522f-41b9-b0e4-64642edf0913"
                        },
                        {
                            "name": "modified",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "public",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "df738482-6d33-4e1e-85c9-11083d777cb4",
                                            "role": {
                                                "name": "public",
                                                "type": "bucket",
                                                "collectionIds": [
                                                    "f2c0d92e-0768-4439-b2e4-d108a4b66dc9",
                                                    "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                    "5288d4e7-503b-4abd-9303-72eae8476379",
                                                    "9acec0ee-8817-446e-8ff3-6f3b1929fa3a",
                                                    "9523c3ce-3481-4a12-8de9-e9866d52580a",
                                                    "bc4695a0-e219-42e9-9d75-8f4d6c77f038",
                                                    "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                    "706b2103-2ecc-4c75-a9cc-b5854d9b87c6",
                                                    "50bb00c7-637f-4e85-9a39-54c0fbd067ed",
                                                    "0b6571d2-b208-41b1-aaf6-d0d30f81529a",
                                                    "bdee74fe-6bbd-4733-8714-9ff1e30e53c9",
                                                    "f05c3a78-8284-4eac-a62a-61a3e04ba553",
                                                    "0930ac46-3122-4d4e-8629-d04d45015b60",
                                                    "977626c1-66d4-4724-a693-c43f86935b9b",
                                                    "15322aaf-80ac-4b5c-af79-0fcba80d21b8"
                                                ],
                                                "backgroundColor": {
                                                    "r": 216,
                                                    "g": 0,
                                                    "b": 115,
                                                    "a": 1
                                                },
                                                "show": true,
                                                "isActivated": true,
                                                "ifNotExist": true,
                                                "GUID": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                "hackoladeMeta": {},
                                                "UDFs": [
                                                    {
                                                        "functionLanguage": "sql",
                                                        "functionVolatility": "IMMUTABLE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                        "name": "_group_concat",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                "argumentMode": "IN",
                                                                "argumentName": null,
                                                                "argumentType": "text",
                                                                "defaultExpression": null
                                                            },
                                                            {
                                                                "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                "argumentMode": "IN",
                                                                "argumentName": null,
                                                                "argumentType": "text",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": false,
                                                        "functionReturnType": "text",
                                                        "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "sql",
                                                        "functionVolatility": "VOLATILE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                        "name": "film_in_stock",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_film_id",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            },
                                                            {
                                                                "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_store_id",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            },
                                                            {
                                                                "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                "argumentMode": "OUT",
                                                                "argumentName": "p_film_count",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": true,
                                                        "functionReturnType": "int4",
                                                        "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "sql",
                                                        "functionVolatility": "VOLATILE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                        "name": "film_not_in_stock",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_film_id",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            },
                                                            {
                                                                "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_store_id",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            },
                                                            {
                                                                "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                "argumentMode": "OUT",
                                                                "argumentName": "p_film_count",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": true,
                                                        "functionReturnType": "int4",
                                                        "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "plpgsql",
                                                        "functionVolatility": "VOLATILE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                        "name": "get_customer_balance",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_customer_id",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            },
                                                            {
                                                                "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_effective_date",
                                                                "argumentType": "timestamp without time zone",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": false,
                                                        "functionReturnType": "numeric",
                                                        "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "plpgsql",
                                                        "functionVolatility": "VOLATILE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                        "name": "inventory_held_by_customer",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_inventory_id",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": false,
                                                        "functionReturnType": "int4",
                                                        "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "plpgsql",
                                                        "functionVolatility": "VOLATILE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                        "name": "inventory_in_stock",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_inventory_id",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": false,
                                                        "functionReturnType": "bool",
                                                        "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "sql",
                                                        "functionVolatility": "IMMUTABLE",
                                                        "functionNullArgs": "STRICT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                        "name": "last_day",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                "argumentMode": "IN",
                                                                "argumentName": null,
                                                                "argumentType": "timestamp without time zone",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": false,
                                                        "functionReturnType": "date",
                                                        "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "plpgsql",
                                                        "functionVolatility": "VOLATILE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                        "name": "last_updated",
                                                        "functionDescription": null,
                                                        "functionArguments": [],
                                                        "functionReturnsSetOf": false,
                                                        "functionReturnType": "trigger",
                                                        "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "plpgsql",
                                                        "functionVolatility": "VOLATILE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "DEFINER",
                                                        "functionParallel": "",
                                                        "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                        "name": "rewards_report",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                "argumentMode": "IN",
                                                                "argumentName": "min_monthly_purchases",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            },
                                                            {
                                                                "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                "argumentMode": "IN",
                                                                "argumentName": "min_dollar_amount_purchased",
                                                                "argumentType": "numeric",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": true,
                                                        "functionReturnType": "customer",
                                                        "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                        "functionLeakProof": false
                                                    }
                                                ],
                                                "Procedures": [],
                                                "code": "",
                                                "addFieldsToBucket": true,
                                                "isPlugin": true,
                                                "compMod": {
                                                    "name": {
                                                        "new": "public",
                                                        "old": "public"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "UDFs": {
                                                        "new": [
                                                            {
                                                                "functionLanguage": "sql",
                                                                "functionVolatility": "IMMUTABLE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                "name": "_group_concat",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": null,
                                                                        "argumentType": "text",
                                                                        "defaultExpression": null
                                                                    },
                                                                    {
                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": null,
                                                                        "argumentType": "text",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": false,
                                                                "functionReturnType": "text",
                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "sql",
                                                                "functionVolatility": "VOLATILE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                "name": "film_in_stock",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_film_id",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    },
                                                                    {
                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_store_id",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    },
                                                                    {
                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                        "argumentMode": "OUT",
                                                                        "argumentName": "p_film_count",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": true,
                                                                "functionReturnType": "int4",
                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "sql",
                                                                "functionVolatility": "VOLATILE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                "name": "film_not_in_stock",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_film_id",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    },
                                                                    {
                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_store_id",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    },
                                                                    {
                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                        "argumentMode": "OUT",
                                                                        "argumentName": "p_film_count",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": true,
                                                                "functionReturnType": "int4",
                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "plpgsql",
                                                                "functionVolatility": "VOLATILE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                "name": "get_customer_balance",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_customer_id",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    },
                                                                    {
                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_effective_date",
                                                                        "argumentType": "timestamp without time zone",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": false,
                                                                "functionReturnType": "numeric",
                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "plpgsql",
                                                                "functionVolatility": "VOLATILE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                "name": "inventory_held_by_customer",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_inventory_id",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": false,
                                                                "functionReturnType": "int4",
                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "plpgsql",
                                                                "functionVolatility": "VOLATILE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                "name": "inventory_in_stock",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_inventory_id",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": false,
                                                                "functionReturnType": "bool",
                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "sql",
                                                                "functionVolatility": "IMMUTABLE",
                                                                "functionNullArgs": "STRICT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                "name": "last_day",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": null,
                                                                        "argumentType": "timestamp without time zone",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": false,
                                                                "functionReturnType": "date",
                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "plpgsql",
                                                                "functionVolatility": "VOLATILE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                "name": "last_updated",
                                                                "functionDescription": null,
                                                                "functionArguments": [],
                                                                "functionReturnsSetOf": false,
                                                                "functionReturnType": "trigger",
                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "plpgsql",
                                                                "functionVolatility": "VOLATILE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "DEFINER",
                                                                "functionParallel": "",
                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                "name": "rewards_report",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "min_monthly_purchases",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    },
                                                                    {
                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                        "argumentType": "numeric",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": true,
                                                                "functionReturnType": "customer",
                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                "functionLeakProof": false
                                                            }
                                                        ]
                                                    },
                                                    "Procedures": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "f63d012c-16f5-4cb8-ab0c-83ed07e00678": "public"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "b3d26ace-fed4-47fd-98c6-3bf59c7f869e": "public"
                                                    }
                                                },
                                                "roleType": "container"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "3fee6883-7c32-4e5c-a2a1-c9ec9559484f",
                                    "arrayItem": true
                                }
                            ],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "2796b151-6f29-40f2-8fd4-78ee6fffbefe"
                        }
                    ],
                    "childType": "object",
                    "type": "document",
                    "compositeKey": [
                        "compositePartitionKey",
                        "compositePrimaryKey",
                        "compositeUniqueKey",
                        "triggerUpdateColumns"
                    ],
                    "compositePartitionKey": false,
                    "compositePrimaryKey": false,
                    "compositeUniqueKey": false,
                    "triggerUpdateColumns": false,
                    "GUID": "47a33b88-dfb1-44b1-9c0d-b03517c27151"
                },
                {
                    "name": "entities",
                    "hackoladeMeta": {},
                    "isActivated": true,
                    "primaryKey": false,
                    "unique": false,
                    "subtype": "object",
                    "properties": [
                        {
                            "name": "added",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "language",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "language_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('language_language_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "language_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "46d91155-c02a-4a1a-b423-3b90a597f950"
                                                        }
                                                    ],
                                                    "GUID": "5833d28e-69e3-400e-81c4-981c8184e9e1",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "5a2914fb-b66d-439e-bcc0-593427170510"
                                                    ],
                                                    "error": {}
                                                },
                                                {
                                                    "code": "",
                                                    "name": "name",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "char",
                                                    "length": 20,
                                                    "childType": "char",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "udt_name": "bpchar",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "481d4092-d35f-48d8-a222-3979988ba172",
                                                    "required": true,
                                                    "error": {}
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "7a2498fe-1e1b-4864-86ab-974a768910b4",
                                                    "required": true,
                                                    "error": {}
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "d6c4c345-1fa1-483f-a9dc-233811fb9a80",
                                            "compMod": {
                                                "keyspaceName": "public",
                                                "bucketProperties": {
                                                    "name": "public",
                                                    "isActivated": true,
                                                    "ifNotExist": true,
                                                    "code": ""
                                                },
                                                "created": true,
                                                "deleted": false
                                            },
                                            "role": {
                                                "collectionName": "language",
                                                "type": "object",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "memory_optimized": false,
                                                "collectionUsers": [],
                                                "ifNotExist": true,
                                                "on_commit": "PRESERVE ROWS",
                                                "table_tablespace_name": "pg_default",
                                                "GUID": "bdee74fe-6bbd-4733-8714-9ff1e30e53c9",
                                                "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                "code": "",
                                                "temporary": false,
                                                "unlogged": false,
                                                "inherits": [],
                                                "primaryKey": [],
                                                "uniqueKey": [],
                                                "Indxs": [
                                                    {
                                                        "isActivated": true,
                                                        "index_method": "btree",
                                                        "ifNotExist": true,
                                                        "only": true,
                                                        "index_tablespace_name": "",
                                                        "GUID": "1b7a5223-226c-4b2d-a84a-f86db5a927ae",
                                                        "indxName": "language_pkey",
                                                        "unique": true,
                                                        "columns": [
                                                            {
                                                                "keyId": "5833d28e-69e3-400e-81c4-981c8184e9e1",
                                                                "sortOrder": "ASC",
                                                                "nullsOrder": "NULLS LAST",
                                                                "collation": null,
                                                                "opclass": "pg_catalog.int4_ops"
                                                            }
                                                        ],
                                                        "include": [],
                                                        "where": ""
                                                    }
                                                ],
                                                "chkConstr": [],
                                                "triggers": [
                                                    {
                                                        "triggerType": "BEFORE",
                                                        "GUID": "f00ff7cd-0180-4fb3-bae3-ffc648f572e3",
                                                        "name": "last_updated",
                                                        "triggerDescription": null,
                                                        "triggerConstraint": false,
                                                        "triggerEvents": [
                                                            {
                                                                "GUID": "1c56411f-67e6-4d71-82b4-a9c111e75532",
                                                                "triggerEvent": "UPDATE"
                                                            }
                                                        ],
                                                        "triggerUpdateColumns": [],
                                                        "triggerReferencing": false,
                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                        "triggerCondition": null,
                                                        "triggerFunction": "last_updated()"
                                                    }
                                                ],
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "created": true,
                                                    "deleted": false
                                                },
                                                "name": "language",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "a6542b5b-fd7f-4e25-bccf-f845b1603914",
                                    "arrayItem": true
                                }
                            ],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "86eb1768-55b4-44aa-9ee1-e5f234e7074d"
                        },
                        {
                            "name": "deleted",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "c4b0a9a3-eedc-41e3-a3ab-133e63e4d738"
                        },
                        {
                            "name": "modified",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "actor",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "actor_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('actor_actor_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "actor_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "f3ce71e2-79cd-4169-b849-5cb60d50c13e"
                                                        }
                                                    ],
                                                    "GUID": "3e3615e8-56e1-4d2a-844a-ce33ac707540",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "35c1fd9a-64d4-4b9d-a6a2-cade4633ccea"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "actor_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "actor_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "91165d3e-670e-41ce-89eb-3ba6740700f7",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "aca2a605-7bb7-4ce8-94c0-505d74e1265d",
                                            "role": {
                                                "collectionName": "actor",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "c526dbcf-e1f2-4e1b-b001-530c685ead52",
                                                        "constraintName": "actor_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "8396c28e-7031-4932-b981-7ecad89f4a7d",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "actor_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('actor_actor_id_seq'::regclass)",
                                                        "GUID": "8396c28e-7031-4932-b981-7ecad89f4a7d",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "3b8f74ab-376d-49fe-8808-6241fa630e32"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "actor_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "actor_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 45,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "first_name",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "5ac0e0fa-12f4-4fc6-88e1-2fb6f931c062",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "first_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "first_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 45,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_name",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "a52ecd66-e408-47bf-aeb9-60059cb6c316",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "last_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "b5ba32a8-8ebd-46d6-ac33-6a1af7e7706c",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "8d8a957e-6eb6-40e3-b9b9-ca06ad21a384",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "598d6c54-2278-4e16-9776-ff10b7fc0049",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "actor",
                                                        "old": "actor"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "c526dbcf-e1f2-4e1b-b001-530c685ead52",
                                                                "constraintName": "actor_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "8396c28e-7031-4932-b981-7ecad89f4a7d",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "70a2e6b2-27e6-4821-b8b5-62901199fc14",
                                                                "indxName": "actor_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "3e3615e8-56e1-4d2a-844a-ce33ac707540",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "f8c59595-da17-4d86-a338-02300e832090",
                                                                "indxName": "idx_actor_last_name",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "c5a272b6-4da0-4052-bc36-9bc764604005",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": "pg_catalog.\"default\"",
                                                                        "opclass": "pg_catalog.text_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "89f31f92-c684-4148-8ef7-eed4fee54222",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "e0ee5c88-8424-4623-b851-ea21ea758167",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "598d6c54-2278-4e16-9776-ff10b7fc0049": "actor",
                                                        "8396c28e-7031-4932-b981-7ecad89f4a7d": "actor_id",
                                                        "5ac0e0fa-12f4-4fc6-88e1-2fb6f931c062": "first_name",
                                                        "a52ecd66-e408-47bf-aeb9-60059cb6c316": "last_name",
                                                        "b5ba32a8-8ebd-46d6-ac33-6a1af7e7706c": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "f2c0d92e-0768-4439-b2e4-d108a4b66dc9": "actor",
                                                        "3e3615e8-56e1-4d2a-844a-ce33ac707540": "actor_id",
                                                        "7057ab47-554a-4f61-87b3-a06c0e62d6d1": "first_name",
                                                        "c5a272b6-4da0-4052-bc36-9bc764604005": "last_name",
                                                        "91165d3e-670e-41ce-89eb-3ba6740700f7": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "actor_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('actor_actor_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "actor_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "f3ce71e2-79cd-4169-b849-5cb60d50c13e"
                                                                }
                                                            ],
                                                            "GUID": "3e3615e8-56e1-4d2a-844a-ce33ac707540",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "35c1fd9a-64d4-4b9d-a6a2-cade4633ccea"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "actor_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "actor_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "first_name",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 45,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "7057ab47-554a-4f61-87b3-a06c0e62d6d1",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "first_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "first_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_name",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 45,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "c5a272b6-4da0-4052-bc36-9bc764604005",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "last_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "91165d3e-670e-41ce-89eb-3ba6740700f7",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "actor",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "1f695f0c-dcb1-42ed-8b89-1aba8e073cf4",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "address",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "address_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('address_address_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "address_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "c9957729-cad1-4185-a434-30a541f3e78c"
                                                        }
                                                    ],
                                                    "GUID": "af25335c-6760-48d3-abb9-55f0b30d0ad4",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "d705d2e1-bc3f-48ce-ba3f-e24723698859",
                                                        "9880e24c-16d5-4d0c-a06c-f8540140a5d1",
                                                        "d457285e-5ff7-4240-934a-ddbcf3016924"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "city_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "ab8503f4-e1ab-4c12-b289-d89d61e443bd",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "9acec0ee-8817-446e-8ff3-6f3b1929fa3a",
                                                    "foreignField": [
                                                        "9acec0ee-8817-446e-8ff3-6f3b1929fa3a",
                                                        "720d157f-0416-41fe-91c3-b3e066b1d762"
                                                    ],
                                                    "parentRelationship": "de48a35a-5c6a-4c1a-a9e8-217ca69ada84",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "city_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "city_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "2f075cc7-9b69-4274-af39-d7488a2bb8a2",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "a3291088-ffd8-4e4f-baa5-acce11865032",
                                            "role": {
                                                "collectionName": "address",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "d70a2f98-f578-4873-9c58-52da9aef96f3",
                                                        "constraintName": "address_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "f551ab81-53d1-4b50-a0c4-3342c7190f7a",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "address_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('address_address_id_seq'::regclass)",
                                                        "GUID": "f551ab81-53d1-4b50-a0c4-3342c7190f7a",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "e538fb3b-8473-4562-8f5a-0eb51f93247f",
                                                            "895c41b9-14d8-4f7c-a4aa-266885a40463",
                                                            "de5d6fab-0969-4e75-8d15-13e259c84972"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 50,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "address",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "d54368df-9490-4755-812a-4028c84fa50c",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "address",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "address",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 50,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "address2",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "177df3a0-2cb3-49e6-a24b-f054a113eebf",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "address2",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "address2",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 20,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "district",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "bd5c0c6b-e68b-496f-9cd9-e2b659dbfcbb",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "district",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "district",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "city_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "eec1da4e-c313-4cd1-99d3-6bf4b095645e",
                                                        "foreignField": [
                                                            "eec1da4e-c313-4cd1-99d3-6bf4b095645e",
                                                            "3dc75929-4994-4a3b-8d1e-b463630e0eb6"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "e743a7f5-ed96-4110-b113-5289fe1d3766",
                                                        "error": {},
                                                        "parentRelationship": "5b249fee-16bc-40e4-9fd1-2cc46c80b472",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "city_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "city_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 10,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "postal_code",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "928683f4-cda3-458c-ab75-8d2c58ddffbd",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "postal_code",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "postal_code",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 20,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "phone",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "f3a7e57a-5fb9-4347-807a-a40b4d85a9de",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "phone",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "phone",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "a86738ad-31a2-490a-91e3-c834be095a39",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "d3f8b385-ecb2-4065-94bf-954c22add4a7",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "3aa8ab42-ca75-4e26-af78-c27ffae0b39d",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "address",
                                                        "old": "address"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "d70a2f98-f578-4873-9c58-52da9aef96f3",
                                                                "constraintName": "address_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "f551ab81-53d1-4b50-a0c4-3342c7190f7a",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "47273ac7-e2cf-4d15-be47-bc6348b104a2",
                                                                "indxName": "address_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "af25335c-6760-48d3-abb9-55f0b30d0ad4",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "ec71afe8-5b11-4ea8-9556-7493a420db71",
                                                                "indxName": "idx_fk_city_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "ab8503f4-e1ab-4c12-b289-d89d61e443bd",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "e3153252-d2ac-452b-a19d-b7e8aa526eb9",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "c0ac543b-0b66-4921-a7e0-6ff2c01c9839",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "3aa8ab42-ca75-4e26-af78-c27ffae0b39d": "address",
                                                        "f551ab81-53d1-4b50-a0c4-3342c7190f7a": "address_id",
                                                        "d54368df-9490-4755-812a-4028c84fa50c": "address",
                                                        "177df3a0-2cb3-49e6-a24b-f054a113eebf": "address2",
                                                        "bd5c0c6b-e68b-496f-9cd9-e2b659dbfcbb": "district",
                                                        "e743a7f5-ed96-4110-b113-5289fe1d3766": "city_id",
                                                        "928683f4-cda3-458c-ab75-8d2c58ddffbd": "postal_code",
                                                        "f3a7e57a-5fb9-4347-807a-a40b4d85a9de": "phone",
                                                        "a86738ad-31a2-490a-91e3-c834be095a39": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "e8113c9e-f07c-414f-97f3-016dd38b46fc": "address",
                                                        "af25335c-6760-48d3-abb9-55f0b30d0ad4": "address_id",
                                                        "aaf3c8d1-0fee-4851-8fa2-cca5a9e7a752": "address",
                                                        "1e79b3f0-13c7-4908-85a3-a042da59afba": "address2",
                                                        "45cd55d9-6dd5-4ed0-974f-0c4690e4632c": "district",
                                                        "ab8503f4-e1ab-4c12-b289-d89d61e443bd": "city_id",
                                                        "6c9067ab-beb6-4203-b2ee-ed9436a79948": "postal_code",
                                                        "42fa149e-69dd-488a-82e8-bc09ef988f6e": "phone",
                                                        "2f075cc7-9b69-4274-af39-d7488a2bb8a2": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "address_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('address_address_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "address_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "c9957729-cad1-4185-a434-30a541f3e78c"
                                                                }
                                                            ],
                                                            "GUID": "af25335c-6760-48d3-abb9-55f0b30d0ad4",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "d705d2e1-bc3f-48ce-ba3f-e24723698859",
                                                                "9880e24c-16d5-4d0c-a06c-f8540140a5d1",
                                                                "d457285e-5ff7-4240-934a-ddbcf3016924"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "address",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 50,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "aaf3c8d1-0fee-4851-8fa2-cca5a9e7a752",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "address",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "address",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "address2",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 50,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "1e79b3f0-13c7-4908-85a3-a042da59afba",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "address2",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "address2",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "district",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 20,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "45cd55d9-6dd5-4ed0-974f-0c4690e4632c",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "district",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "district",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "city_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "ab8503f4-e1ab-4c12-b289-d89d61e443bd",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "9acec0ee-8817-446e-8ff3-6f3b1929fa3a",
                                                            "foreignField": [
                                                                "9acec0ee-8817-446e-8ff3-6f3b1929fa3a",
                                                                "720d157f-0416-41fe-91c3-b3e066b1d762"
                                                            ],
                                                            "parentRelationship": "de48a35a-5c6a-4c1a-a9e8-217ca69ada84",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "city_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "city_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "postal_code",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 10,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "6c9067ab-beb6-4203-b2ee-ed9436a79948",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "postal_code",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "postal_code",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "phone",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 20,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "42fa149e-69dd-488a-82e8-bc09ef988f6e",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "phone",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "phone",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "2f075cc7-9b69-4274-af39-d7488a2bb8a2",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "address",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "d06f3774-7b44-43fb-b9a9-9282d0f6fc8d",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "category",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "category_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('category_category_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "category_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "09ea0caa-f3f9-41d8-bcb5-b5c40e0e7a89"
                                                        }
                                                    ],
                                                    "GUID": "74d7881d-e3cc-4f7a-93b6-7c42f132c1ca",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "b7dd8a18-6a44-47af-8eaf-e6acb061b1b2"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "category_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "category_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "320ec1cd-4a77-42c2-9408-3703dd82c752",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "e5ea9730-dd7d-40b3-8a3e-e6e27ff7d784",
                                            "role": {
                                                "collectionName": "category",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "0cb13e4e-9259-48aa-98f0-7421d0080ff1",
                                                        "constraintName": "category_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "2f943ea8-1fca-4aeb-9b49-956097f6f7ae",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "category_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('category_category_id_seq'::regclass)",
                                                        "GUID": "2f943ea8-1fca-4aeb-9b49-956097f6f7ae",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "d03dd0f4-e0ba-481d-830d-6a3d8a197237"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "category_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "category_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 25,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "name",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "cc65eda3-12fc-476f-a157-9bb954545b25",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "6a012078-303e-4580-b59e-ba463c1098e0",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "5a30d1a3-22d6-4e1a-b375-f5e3b50d4ed0",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "2c2f066f-cb66-4247-b9ae-f8defe49f589",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "category",
                                                        "old": "category"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "0cb13e4e-9259-48aa-98f0-7421d0080ff1",
                                                                "constraintName": "category_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "2f943ea8-1fca-4aeb-9b49-956097f6f7ae",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "0a487001-75b6-40e1-8dff-471201343226",
                                                                "indxName": "category_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "74d7881d-e3cc-4f7a-93b6-7c42f132c1ca",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "70e18771-16f1-437b-98e9-ad885196ad80",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "119a38d4-1239-4e71-850b-a816a3eb2259",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "2c2f066f-cb66-4247-b9ae-f8defe49f589": "category",
                                                        "2f943ea8-1fca-4aeb-9b49-956097f6f7ae": "category_id",
                                                        "cc65eda3-12fc-476f-a157-9bb954545b25": "name",
                                                        "6a012078-303e-4580-b59e-ba463c1098e0": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "5288d4e7-503b-4abd-9303-72eae8476379": "category",
                                                        "74d7881d-e3cc-4f7a-93b6-7c42f132c1ca": "category_id",
                                                        "da51a15d-dc9c-439d-aa2d-1fe6cfc979a6": "name",
                                                        "320ec1cd-4a77-42c2-9408-3703dd82c752": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "category_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('category_category_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "category_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "09ea0caa-f3f9-41d8-bcb5-b5c40e0e7a89"
                                                                }
                                                            ],
                                                            "GUID": "74d7881d-e3cc-4f7a-93b6-7c42f132c1ca",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "b7dd8a18-6a44-47af-8eaf-e6acb061b1b2"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "category_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "category_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "name",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 25,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "da51a15d-dc9c-439d-aa2d-1fe6cfc979a6",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "320ec1cd-4a77-42c2-9408-3703dd82c752",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "category",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "1325d4d2-7cda-4dd6-b7f3-ee0db9ac5446",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "city",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "city_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('city_city_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "city_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "0b19b34f-aad0-4908-98a1-3b8a739102d6"
                                                        }
                                                    ],
                                                    "GUID": "720d157f-0416-41fe-91c3-b3e066b1d762",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "de48a35a-5c6a-4c1a-a9e8-217ca69ada84"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "city_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "city_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "country_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "1ebcce57-acb5-49aa-9985-d81c16aad78c",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "9523c3ce-3481-4a12-8de9-e9866d52580a",
                                                    "foreignField": [
                                                        "9523c3ce-3481-4a12-8de9-e9866d52580a",
                                                        "d3eaeb13-44d5-419f-96cd-69abbdc67f21"
                                                    ],
                                                    "parentRelationship": "5dda9f39-ede1-4032-9cc8-25bdea32137d",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "country_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "country_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "10a5e102-ccf5-4035-a23a-3aa637b5878e",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "f2a3a976-359e-425b-8dca-4590dc15516f",
                                            "role": {
                                                "collectionName": "city",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "f4761962-ef2b-4069-bc2f-80f2b02ae5af",
                                                        "constraintName": "city_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "3dc75929-4994-4a3b-8d1e-b463630e0eb6",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "city_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('city_city_id_seq'::regclass)",
                                                        "GUID": "3dc75929-4994-4a3b-8d1e-b463630e0eb6",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "5b249fee-16bc-40e4-9fd1-2cc46c80b472"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "city_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "city_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 50,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "city",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "423f60f9-f366-4f65-bb40-aaacdab845b7",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "city",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "city",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "country_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "8d07f2f0-9546-49c8-8d00-f51f54b0d71e",
                                                        "foreignField": [
                                                            "8d07f2f0-9546-49c8-8d00-f51f54b0d71e",
                                                            "51bfb776-8fab-487c-b9c3-17399a73169d"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "b26857cb-775e-47a5-a762-7dbb1963c90f",
                                                        "error": {},
                                                        "parentRelationship": "d374bba1-7534-4b1b-8812-6aa507c55623",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "country_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "country_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "4d7e5491-e7d2-46e2-9bcc-16f6ca3fab65",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "e0327239-7fb3-4c0e-8374-a3d5df94f564",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "eec1da4e-c313-4cd1-99d3-6bf4b095645e",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "city",
                                                        "old": "city"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "f4761962-ef2b-4069-bc2f-80f2b02ae5af",
                                                                "constraintName": "city_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "3dc75929-4994-4a3b-8d1e-b463630e0eb6",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "d78a72c2-c66c-4937-991b-5df5c18edccb",
                                                                "indxName": "city_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "720d157f-0416-41fe-91c3-b3e066b1d762",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "25ed5f14-85b7-444c-8d83-4d4a28c73a44",
                                                                "indxName": "idx_fk_country_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "1ebcce57-acb5-49aa-9985-d81c16aad78c",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "c3469578-a312-45cc-9452-49b7e0a47c90",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "d65d715d-e76a-46c8-b75b-442d1156080e",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "eec1da4e-c313-4cd1-99d3-6bf4b095645e": "city",
                                                        "3dc75929-4994-4a3b-8d1e-b463630e0eb6": "city_id",
                                                        "423f60f9-f366-4f65-bb40-aaacdab845b7": "city",
                                                        "b26857cb-775e-47a5-a762-7dbb1963c90f": "country_id",
                                                        "4d7e5491-e7d2-46e2-9bcc-16f6ca3fab65": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "9acec0ee-8817-446e-8ff3-6f3b1929fa3a": "city",
                                                        "720d157f-0416-41fe-91c3-b3e066b1d762": "city_id",
                                                        "2339b2d2-4aee-4ab1-b9c9-e7a02e036ac2": "city",
                                                        "1ebcce57-acb5-49aa-9985-d81c16aad78c": "country_id",
                                                        "10a5e102-ccf5-4035-a23a-3aa637b5878e": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "city_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('city_city_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "city_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "0b19b34f-aad0-4908-98a1-3b8a739102d6"
                                                                }
                                                            ],
                                                            "GUID": "720d157f-0416-41fe-91c3-b3e066b1d762",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "de48a35a-5c6a-4c1a-a9e8-217ca69ada84"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "city_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "city_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "city",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 50,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "2339b2d2-4aee-4ab1-b9c9-e7a02e036ac2",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "city",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "city",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "country_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "1ebcce57-acb5-49aa-9985-d81c16aad78c",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "9523c3ce-3481-4a12-8de9-e9866d52580a",
                                                            "foreignField": [
                                                                "9523c3ce-3481-4a12-8de9-e9866d52580a",
                                                                "d3eaeb13-44d5-419f-96cd-69abbdc67f21"
                                                            ],
                                                            "parentRelationship": "5dda9f39-ede1-4032-9cc8-25bdea32137d",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "country_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "country_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "10a5e102-ccf5-4035-a23a-3aa637b5878e",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "city",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "5ee6039b-59ea-4b64-a8db-1106bf27b18a",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "country",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "country_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('country_country_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "country_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "9aec0745-5d6a-4ea0-a706-9fd5964aaefb"
                                                        }
                                                    ],
                                                    "GUID": "d3eaeb13-44d5-419f-96cd-69abbdc67f21",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "5dda9f39-ede1-4032-9cc8-25bdea32137d"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "country_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "country_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "a8b7143b-ba27-4b23-bfe6-c976d7454534",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "107633fc-fce5-48f7-859c-c0cf72748d78",
                                            "role": {
                                                "collectionName": "country",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "cca1eb8a-31d6-4a3c-9c7d-5c3c9a62adce",
                                                        "constraintName": "country_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "51bfb776-8fab-487c-b9c3-17399a73169d",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "country_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('country_country_id_seq'::regclass)",
                                                        "GUID": "51bfb776-8fab-487c-b9c3-17399a73169d",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "d374bba1-7534-4b1b-8812-6aa507c55623"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "country_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "country_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 50,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "country",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "239e269a-a479-453f-a17d-8748d91a8365",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "country",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "country",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "7730b2f0-d437-4ee1-9f21-508c0e6b6123",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "921c9bc3-4b07-4a14-86b7-18af4e4d2c94",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "8d07f2f0-9546-49c8-8d00-f51f54b0d71e",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "country",
                                                        "old": "country"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "cca1eb8a-31d6-4a3c-9c7d-5c3c9a62adce",
                                                                "constraintName": "country_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "51bfb776-8fab-487c-b9c3-17399a73169d",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "b5caf785-cabe-48d5-8e5f-ab8da1102a7f",
                                                                "indxName": "country_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "d3eaeb13-44d5-419f-96cd-69abbdc67f21",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "6ac07f62-52fd-4d77-95d7-c8af8e57851a",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "95750d9a-8cda-4e77-81c0-d258041a4f60",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "8d07f2f0-9546-49c8-8d00-f51f54b0d71e": "country",
                                                        "51bfb776-8fab-487c-b9c3-17399a73169d": "country_id",
                                                        "239e269a-a479-453f-a17d-8748d91a8365": "country",
                                                        "7730b2f0-d437-4ee1-9f21-508c0e6b6123": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "9523c3ce-3481-4a12-8de9-e9866d52580a": "country",
                                                        "d3eaeb13-44d5-419f-96cd-69abbdc67f21": "country_id",
                                                        "49cf0699-22aa-4d8d-ac7c-bc0742e793c2": "country",
                                                        "a8b7143b-ba27-4b23-bfe6-c976d7454534": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "country_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('country_country_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "country_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "9aec0745-5d6a-4ea0-a706-9fd5964aaefb"
                                                                }
                                                            ],
                                                            "GUID": "d3eaeb13-44d5-419f-96cd-69abbdc67f21",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "5dda9f39-ede1-4032-9cc8-25bdea32137d"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "country_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "country_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "country",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 50,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "49cf0699-22aa-4d8d-ac7c-bc0742e793c2",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "country",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "country",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "a8b7143b-ba27-4b23-bfe6-c976d7454534",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "country",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "4f84ac84-d84f-44d9-9d73-57c384af7eaa",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "customer",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "customer_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('customer_customer_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "customer_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "fbe0f64f-5383-46bb-aeaf-789b4867bb5d"
                                                        }
                                                    ],
                                                    "GUID": "2bedaf45-30e6-4c10-9984-d24202772582",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "f52b3acd-a183-4d03-b96b-9ae4c2d57dda",
                                                        "a4bbc494-6562-45d2-93b7-6538f55d7030"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "customer_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "customer_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "store_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "94e066ab-5b27-43a3-9286-446617f15916",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "address_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "ca148704-fa09-454f-a353-d42e25e538c4",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                    "foreignField": [
                                                        "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                        "af25335c-6760-48d3-abb9-55f0b30d0ad4"
                                                    ],
                                                    "parentRelationship": "9880e24c-16d5-4d0c-a06c-f8540140a5d1",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "create_date",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "date",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "('now'::text)::date",
                                                    "timePrecision": "",
                                                    "udt_name": "date",
                                                    "numberOfArrayDimensions": 0,
                                                    "GUID": "accd212a-16b6-4eed-8527-eb05f4d63265",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "create_date",
                                                            "type": "datetime",
                                                            "mode": "date"
                                                        },
                                                        "newField": {
                                                            "name": "create_date",
                                                            "type": "datetime",
                                                            "mode": "date"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "6fdfa94f-ea9e-4149-aa3e-893407af5d7c",
                                                    "required": false,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "active",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "57b5fa53-f481-485e-ba34-f5ef41b9455b",
                                                    "required": false,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "active",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "active",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "3331f3d8-158d-4c15-bb7b-e5e05b2c54d3",
                                            "role": {
                                                "collectionName": "customer",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "beaf552c-4531-44d7-a8cc-4b5804f1ae6b",
                                                        "constraintName": "customer_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "b92d76ea-08ad-431f-ab1e-0d3ed7115712",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "customer_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('customer_customer_id_seq'::regclass)",
                                                        "GUID": "b92d76ea-08ad-431f-ab1e-0d3ed7115712",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "c1c0d07a-bcfc-4365-9a16-6e69b51b83a7",
                                                            "bb069ade-4229-4938-a44d-e3a732655054"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "customer_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "customer_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "store_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "767e5e56-a602-43dd-9c91-c3c72ff8568b",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 45,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "first_name",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "334ccd4e-ca84-44d0-a6fe-c3ea3d1c893c",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "first_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "first_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 45,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_name",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "a2bd541b-e02b-4687-8b0b-b3091c7b9877",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "last_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 50,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "email",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "fbd137a2-fa29-42fb-8e91-d5838d37e7bc",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "email",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "email",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "address_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "3aa8ab42-ca75-4e26-af78-c27ffae0b39d",
                                                        "foreignField": [
                                                            "3aa8ab42-ca75-4e26-af78-c27ffae0b39d",
                                                            "f551ab81-53d1-4b50-a0c4-3342c7190f7a"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "5fc63a86-d813-42d2-8ae8-ff01a0a9c1c9",
                                                        "error": {},
                                                        "parentRelationship": "895c41b9-14d8-4f7c-a4aa-266885a40463",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "childType": "boolean",
                                                        "type": "boolean",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "name": "activebool",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "default": "true",
                                                        "GUID": "a4cbbda0-f637-4692-9cbc-0f210ea80cd2",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "activebool",
                                                                "type": "boolean"
                                                            },
                                                            "newField": {
                                                                "name": "activebool",
                                                                "type": "boolean"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "date",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "create_date",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "('now'::text)::date",
                                                        "GUID": "0613d079-4e2c-4125-bb80-935debdde444",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "create_date",
                                                                "type": "datetime",
                                                                "mode": "date"
                                                            },
                                                            "newField": {
                                                                "name": "create_date",
                                                                "type": "datetime",
                                                                "mode": "date"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "7d81f328-44c3-4b3a-bf75-c5c62f601603",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "active",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "12ffc75a-64b2-480c-8402-af5b9bffe465",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "active",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "active",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "ae1a37ea-fabd-40a9-afac-c9df6e335562",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "9ffbb409-fe3e-425b-91b7-c63908114dac",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "customer",
                                                        "old": "customer"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "beaf552c-4531-44d7-a8cc-4b5804f1ae6b",
                                                                "constraintName": "customer_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "b92d76ea-08ad-431f-ab1e-0d3ed7115712",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "c7bb4331-7269-4c8e-8ab4-ee28b7f32376",
                                                                "indxName": "customer_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "2bedaf45-30e6-4c10-9984-d24202772582",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "9b196616-ad8a-49d9-9f32-2e34f79b16d0",
                                                                "indxName": "idx_fk_address_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "ca148704-fa09-454f-a353-d42e25e538c4",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "006bba4a-a82d-4522-9d78-82395ff7fa9d",
                                                                "indxName": "idx_fk_store_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "94e066ab-5b27-43a3-9286-446617f15916",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "6aa902cf-aaef-4cfb-9e06-740aa0356577",
                                                                "indxName": "idx_last_name",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "4ee52b98-e2ed-48d5-910c-ce699757e9b4",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": "pg_catalog.\"default\"",
                                                                        "opclass": "pg_catalog.text_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "ac2568ee-8800-42d4-b081-016dacde0251",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "09886e36-2f46-4ed4-8e2d-2521f0050aa5",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "9ffbb409-fe3e-425b-91b7-c63908114dac": "customer",
                                                        "b92d76ea-08ad-431f-ab1e-0d3ed7115712": "customer_id",
                                                        "767e5e56-a602-43dd-9c91-c3c72ff8568b": "store_id",
                                                        "334ccd4e-ca84-44d0-a6fe-c3ea3d1c893c": "first_name",
                                                        "a2bd541b-e02b-4687-8b0b-b3091c7b9877": "last_name",
                                                        "fbd137a2-fa29-42fb-8e91-d5838d37e7bc": "email",
                                                        "5fc63a86-d813-42d2-8ae8-ff01a0a9c1c9": "address_id",
                                                        "a4cbbda0-f637-4692-9cbc-0f210ea80cd2": "activebool",
                                                        "0613d079-4e2c-4125-bb80-935debdde444": "create_date",
                                                        "7d81f328-44c3-4b3a-bf75-c5c62f601603": "last_update",
                                                        "12ffc75a-64b2-480c-8402-af5b9bffe465": "active"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "bc4695a0-e219-42e9-9d75-8f4d6c77f038": "customer",
                                                        "2bedaf45-30e6-4c10-9984-d24202772582": "customer_id",
                                                        "94e066ab-5b27-43a3-9286-446617f15916": "store_id",
                                                        "72caa33f-c5d1-4306-a1f6-ba6db1ac2299": "first_name",
                                                        "4ee52b98-e2ed-48d5-910c-ce699757e9b4": "last_name",
                                                        "c4303723-758c-4282-80f9-d7d15665fd21": "email",
                                                        "ca148704-fa09-454f-a353-d42e25e538c4": "address_id",
                                                        "318b2115-33ea-4fd5-9d8b-c9405dfd657b": "activebool",
                                                        "accd212a-16b6-4eed-8527-eb05f4d63265": "create_date",
                                                        "6fdfa94f-ea9e-4149-aa3e-893407af5d7c": "last_update",
                                                        "57b5fa53-f481-485e-ba34-f5ef41b9455b": "active"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "customer_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('customer_customer_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "customer_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "fbe0f64f-5383-46bb-aeaf-789b4867bb5d"
                                                                }
                                                            ],
                                                            "GUID": "2bedaf45-30e6-4c10-9984-d24202772582",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "f52b3acd-a183-4d03-b96b-9ae4c2d57dda",
                                                                "a4bbc494-6562-45d2-93b7-6538f55d7030"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "customer_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "customer_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "store_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "94e066ab-5b27-43a3-9286-446617f15916",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "first_name",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 45,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "72caa33f-c5d1-4306-a1f6-ba6db1ac2299",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "first_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "first_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_name",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 45,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "4ee52b98-e2ed-48d5-910c-ce699757e9b4",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "last_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "email",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 50,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "c4303723-758c-4282-80f9-d7d15665fd21",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "email",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "email",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "address_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "ca148704-fa09-454f-a353-d42e25e538c4",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                            "foreignField": [
                                                                "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                                "af25335c-6760-48d3-abb9-55f0b30d0ad4"
                                                            ],
                                                            "parentRelationship": "9880e24c-16d5-4d0c-a06c-f8540140a5d1",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "activebool",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "childType": "boolean",
                                                            "type": "boolean",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "true",
                                                            "udt_name": "bool",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "318b2115-33ea-4fd5-9d8b-c9405dfd657b",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "activebool",
                                                                    "type": "boolean"
                                                                },
                                                                "newField": {
                                                                    "name": "activebool",
                                                                    "type": "boolean"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "create_date",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "date",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "('now'::text)::date",
                                                            "timePrecision": "",
                                                            "udt_name": "date",
                                                            "numberOfArrayDimensions": 0,
                                                            "GUID": "accd212a-16b6-4eed-8527-eb05f4d63265",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "create_date",
                                                                    "type": "datetime",
                                                                    "mode": "date"
                                                                },
                                                                "newField": {
                                                                    "name": "create_date",
                                                                    "type": "datetime",
                                                                    "mode": "date"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "6fdfa94f-ea9e-4149-aa3e-893407af5d7c",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "active",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "57b5fa53-f481-485e-ba34-f5ef41b9455b",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "active",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "active",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "customer",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "28afdd56-b256-4295-936e-b3b4063beaa0",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "film_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('film_film_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "film_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "e76b9024-b404-4980-8dcc-128d8e177b38"
                                                        }
                                                    ],
                                                    "GUID": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "83879be8-57dd-42ae-8c89-6d55830f67d7",
                                                        "5f3a7439-69cd-4bb2-902f-2392ba91e61c",
                                                        "cd01e55f-4b8b-4577-8c17-66e2c2c5e1c9"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "language_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "bdee74fe-6bbd-4733-8714-9ff1e30e53c9",
                                                    "foreignField": [
                                                        "bdee74fe-6bbd-4733-8714-9ff1e30e53c9",
                                                        "5833d28e-69e3-400e-81c4-981c8184e9e1"
                                                    ],
                                                    "parentRelationship": "5a2914fb-b66d-439e-bcc0-593427170510",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "language_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "language_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "rental_duration",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "3",
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "09b2d00b-cde4-4c53-89f6-8e61a8eb8aee",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "rental_duration",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "rental_duration",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "length",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "5351d304-4c22-4578-b7c5-4c7a4831c4e7",
                                                    "required": false,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "length",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "length",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "b41c90d5-bd4b-4d0a-9a99-0b30c85f964b",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "special_features",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "text",
                                                    "length": 10,
                                                    "childType": "char",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "udt_name": "_text",
                                                    "numberOfArrayDimensions": 1,
                                                    "timePrecision": "",
                                                    "array_type": [
                                                        {
                                                            "GUID": "ca95a87d-1b5e-4216-ba03-c1d0e20bbd5a"
                                                        }
                                                    ],
                                                    "GUID": "6954c08e-4542-42f4-aa1d-c723085c55da",
                                                    "required": false,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "special_features",
                                                            "type": "char",
                                                            "mode": "text"
                                                        },
                                                        "newField": {
                                                            "name": "special_features",
                                                            "type": "char",
                                                            "mode": "text"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "fulltext",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "tsvector",
                                                    "length": 10,
                                                    "childType": "char",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "udt_name": "tsvector",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "fulltext",
                                                            "type": "char",
                                                            "mode": "char"
                                                        },
                                                        "newField": {
                                                            "name": "fulltext",
                                                            "type": "char",
                                                            "mode": "tsvector"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "5c801c31-43c1-4d69-9afa-56de52c0e893",
                                            "role": {
                                                "collectionName": "film",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "1d5f8066-9cc7-4a41-add6-fdef7dbc12d0",
                                                        "constraintName": "film_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "a9fa5c8c-a0cb-4e0b-86d2-e53a4cecb45e",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "film_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('film_film_id_seq'::regclass)",
                                                        "GUID": "a9fa5c8c-a0cb-4e0b-86d2-e53a4cecb45e",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "b5042932-7c3b-4f73-afec-43ac367c7a1f",
                                                            "fd86f209-5a4b-4ea7-b035-f61e8f5c2380",
                                                            "9a562a77-30a2-4ccb-b5e0-0d8b01ee9f6b"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 255,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "title",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "15be8356-9b66-4ed0-96d7-76822b7ebef5",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "title",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "title",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "text",
                                                        "length": 10,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "description",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "5b68fa77-3de4-41bf-8813-a421d7600b99",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "description",
                                                                "type": "char",
                                                                "mode": "text"
                                                            },
                                                            "newField": {
                                                                "name": "description",
                                                                "type": "char",
                                                                "mode": "text"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "name": "release_year",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "$ref": "#model/definitions/year",
                                                        "refType": "model",
                                                        "refIdPath": [
                                                            "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                            "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                            "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                        ],
                                                        "ref": "52a01f94-9d41-4f97-8576-634c7b91c85f",
                                                        "GUID": "6fefbd25-0e5b-49ea-8597-da8c71a076db",
                                                        "type": "reference",
                                                        "hackoladeMeta": {},
                                                        "error": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "release_year",
                                                                "type": "reference",
                                                                "refIdPath": [
                                                                    "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                    "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                    "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                                ]
                                                            },
                                                            "newField": {
                                                                "name": "release_year",
                                                                "type": "reference",
                                                                "refIdPath": [
                                                                    "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                    "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                    "d50e17e9-da0e-4530-b393-3a5b364a89fe"
                                                                ]
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "language_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "805155e8-1648-411e-8b79-8796f4fd0ca9",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "language_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "language_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "rental_duration",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "3",
                                                        "GUID": "ccbd0170-19c1-48f4-b20f-34144bcaab1b",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "rental_duration",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "rental_duration",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "numeric",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "rental_rate",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "precision": 4,
                                                        "scale": 2,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "4.99",
                                                        "GUID": "514880cd-84af-47a6-bf74-8cacef37cf26",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "rental_rate",
                                                                "type": "numeric",
                                                                "mode": "numeric"
                                                            },
                                                            "newField": {
                                                                "name": "rental_rate",
                                                                "type": "numeric",
                                                                "mode": "numeric"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "length",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "cf6a6bba-0653-418f-8b53-4e699861a9dc",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "length",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "length",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "numeric",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "replacement_cost",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "precision": 5,
                                                        "scale": 2,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "19.99",
                                                        "GUID": "e978d837-ea44-4e57-a708-e227db5074ce",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "replacement_cost",
                                                                "type": "numeric",
                                                                "mode": "numeric"
                                                            },
                                                            "newField": {
                                                                "name": "replacement_cost",
                                                                "type": "numeric",
                                                                "mode": "numeric"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "name": "rating",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "$ref": "#model/definitions/mpaa_rating",
                                                        "refType": "model",
                                                        "refIdPath": [
                                                            "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                            "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                            "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                        ],
                                                        "ref": "aef4047c-1b18-4be6-8785-760ae34f2043",
                                                        "GUID": "e68a1871-76ac-4681-81c3-ec253415c4b5",
                                                        "type": "reference",
                                                        "hackoladeMeta": {},
                                                        "error": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "rating",
                                                                "type": "reference",
                                                                "refIdPath": [
                                                                    "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                    "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                    "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                                ]
                                                            },
                                                            "newField": {
                                                                "name": "rating",
                                                                "type": "reference",
                                                                "refIdPath": [
                                                                    "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                    "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                    "b8a8c2d9-471a-4b9c-8bb8-ccd3a9aac456"
                                                                ]
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "2020b07c-dde4-4681-b68f-e486419ca3e8",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "text",
                                                        "length": 10,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "special_features",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "c0ba7d3b-f202-484a-bc15-9bdc0f3cef41",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "special_features",
                                                                "type": "char",
                                                                "mode": "text"
                                                            },
                                                            "newField": {
                                                                "name": "special_features",
                                                                "type": "char",
                                                                "mode": "text"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "char",
                                                        "length": 10,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "fulltext",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "5322163f-de79-4642-9d27-640926044975",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "fulltext",
                                                                "type": "char",
                                                                "mode": "char"
                                                            },
                                                            "newField": {
                                                                "name": "fulltext",
                                                                "type": "char",
                                                                "mode": "tsvector"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "24047d52-dfe5-4e1c-abb2-153bf368309c",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "film",
                                                        "old": "film"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "storage_parameter": {
                                                        "new": {
                                                            "GUID": "77ca0061-522c-48b1-9082-f94897ddd934"
                                                        }
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "1d5f8066-9cc7-4a41-add6-fdef7dbc12d0",
                                                                "constraintName": "film_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "a9fa5c8c-a0cb-4e0b-86d2-e53a4cecb45e",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "gist",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "f3d6d6cc-06b0-4752-a24e-e7d4d8d72294",
                                                                "indxName": "film_fulltext_idx",
                                                                "columns": [
                                                                    {
                                                                        "keyId": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "b1a26e9d-d4a6-4dc7-b293-2fb016d24826",
                                                                "indxName": "film_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "6ecc62a0-adb6-45d1-a098-9b1ea874c0fe",
                                                                "indxName": "idx_fk_language_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "b15b60e9-03d0-41a0-8cfb-ca4c429ff8e3",
                                                                "indxName": "idx_title",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": "pg_catalog.\"default\"",
                                                                        "opclass": "pg_catalog.text_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "2e6d559d-fb1a-4773-b7dd-6926e9521536",
                                                                "name": "film_fulltext_trigger",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "925b7ee8-6bda-419b-b538-0bac9c472b53",
                                                                        "triggerEvent": "INSERT"
                                                                    },
                                                                    {
                                                                        "GUID": "a60ca72f-7ac7-4129-b69f-51076a5e5483",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                            },
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "0ebee735-2442-41ca-b416-49879fc8fb6d",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "3cca6ea9-e61c-4e64-b0a1-8a1217126487",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "fe8365a0-9834-4bd4-a47b-911a9ae78e06": "film",
                                                        "a9fa5c8c-a0cb-4e0b-86d2-e53a4cecb45e": "film_id",
                                                        "15be8356-9b66-4ed0-96d7-76822b7ebef5": "title",
                                                        "5b68fa77-3de4-41bf-8813-a421d7600b99": "description",
                                                        "6fefbd25-0e5b-49ea-8597-da8c71a076db": "release_year",
                                                        "805155e8-1648-411e-8b79-8796f4fd0ca9": "language_id",
                                                        "ccbd0170-19c1-48f4-b20f-34144bcaab1b": "rental_duration",
                                                        "514880cd-84af-47a6-bf74-8cacef37cf26": "rental_rate",
                                                        "cf6a6bba-0653-418f-8b53-4e699861a9dc": "length",
                                                        "e978d837-ea44-4e57-a708-e227db5074ce": "replacement_cost",
                                                        "e68a1871-76ac-4681-81c3-ec253415c4b5": "rating",
                                                        "2020b07c-dde4-4681-b68f-e486419ca3e8": "last_update",
                                                        "c0ba7d3b-f202-484a-bc15-9bdc0f3cef41": "special_features",
                                                        "5322163f-de79-4642-9d27-640926044975": "fulltext"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "e03ceef3-b908-4da2-8510-2497f5427ff9": "film",
                                                        "1929a9b3-c3e2-4a98-bea8-1241fe33de17": "film_id",
                                                        "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0": "title",
                                                        "1a4553d6-14e3-4746-9e98-dedb2a099b00": "description",
                                                        "b7859878-94d1-4468-b4b2-6c527ef6b898": "release_year",
                                                        "c6952d3e-84f3-4aef-9aa4-79e2f751c686": "language_id",
                                                        "09b2d00b-cde4-4c53-89f6-8e61a8eb8aee": "rental_duration",
                                                        "66bb2149-7561-42a7-8510-d1d92e261d30": "rental_rate",
                                                        "5351d304-4c22-4578-b7c5-4c7a4831c4e7": "length",
                                                        "a585a8f8-c0e2-4702-8ac9-2d9603f869c2": "replacement_cost",
                                                        "16c8cca0-5b9b-4210-ba41-b3eaf0d86395": "rating",
                                                        "b41c90d5-bd4b-4d0a-9a99-0b30c85f964b": "last_update",
                                                        "6954c08e-4542-42f4-aa1d-c723085c55da": "special_features",
                                                        "eb785d4a-53ee-469e-920f-b5ceeca54af3": "fulltext"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "film_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('film_film_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "film_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "e76b9024-b404-4980-8dcc-128d8e177b38"
                                                                }
                                                            ],
                                                            "GUID": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "83879be8-57dd-42ae-8c89-6d55830f67d7",
                                                                "5f3a7439-69cd-4bb2-902f-2392ba91e61c",
                                                                "cd01e55f-4b8b-4577-8c17-66e2c2c5e1c9"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "title",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 255,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "title",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "title",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "description",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "text",
                                                            "length": 10,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "text",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "1a4553d6-14e3-4746-9e98-dedb2a099b00",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "description",
                                                                    "type": "char",
                                                                    "mode": "text"
                                                                },
                                                                "newField": {
                                                                    "name": "description",
                                                                    "type": "char",
                                                                    "mode": "text"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "GUID": "b7859878-94d1-4468-b4b2-6c527ef6b898",
                                                            "type": "reference",
                                                            "name": "release_year",
                                                            "$ref": "#model/definitions/year",
                                                            "refType": "model",
                                                            "ref": "d50e17e9-da0e-4530-b393-3a5b364a89fe",
                                                            "refIdPath": [
                                                                "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                "d50e17e9-da0e-4530-b393-3a5b364a89fe"
                                                            ],
                                                            "code": "",
                                                            "isActivated": true,
                                                            "required": false,
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "release_year",
                                                                    "type": "reference",
                                                                    "refIdPath": [
                                                                        "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                        "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                        "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                                    ]
                                                                },
                                                                "newField": {
                                                                    "name": "release_year",
                                                                    "type": "reference",
                                                                    "refIdPath": [
                                                                        "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                        "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                        "d50e17e9-da0e-4530-b393-3a5b364a89fe"
                                                                    ]
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "language_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "bdee74fe-6bbd-4733-8714-9ff1e30e53c9",
                                                            "foreignField": [
                                                                "bdee74fe-6bbd-4733-8714-9ff1e30e53c9",
                                                                "5833d28e-69e3-400e-81c4-981c8184e9e1"
                                                            ],
                                                            "parentRelationship": "5a2914fb-b66d-439e-bcc0-593427170510",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "language_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "language_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "rental_duration",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "3",
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "09b2d00b-cde4-4c53-89f6-8e61a8eb8aee",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "rental_duration",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "rental_duration",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "rental_rate",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "numeric",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "4.99",
                                                            "precision": 4,
                                                            "scale": 2,
                                                            "udt_name": "numeric",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "66bb2149-7561-42a7-8510-d1d92e261d30",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "rental_rate",
                                                                    "type": "numeric",
                                                                    "mode": "numeric"
                                                                },
                                                                "newField": {
                                                                    "name": "rental_rate",
                                                                    "type": "numeric",
                                                                    "mode": "numeric"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "length",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "5351d304-4c22-4578-b7c5-4c7a4831c4e7",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "length",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "length",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "replacement_cost",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "numeric",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "19.99",
                                                            "precision": 5,
                                                            "scale": 2,
                                                            "udt_name": "numeric",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "a585a8f8-c0e2-4702-8ac9-2d9603f869c2",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "replacement_cost",
                                                                    "type": "numeric",
                                                                    "mode": "numeric"
                                                                },
                                                                "newField": {
                                                                    "name": "replacement_cost",
                                                                    "type": "numeric",
                                                                    "mode": "numeric"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "GUID": "16c8cca0-5b9b-4210-ba41-b3eaf0d86395",
                                                            "type": "reference",
                                                            "name": "rating",
                                                            "$ref": "#model/definitions/mpaa_rating",
                                                            "refType": "model",
                                                            "ref": "b8a8c2d9-471a-4b9c-8bb8-ccd3a9aac456",
                                                            "refIdPath": [
                                                                "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                "b8a8c2d9-471a-4b9c-8bb8-ccd3a9aac456"
                                                            ],
                                                            "code": "",
                                                            "isActivated": true,
                                                            "required": false,
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "rating",
                                                                    "type": "reference",
                                                                    "refIdPath": [
                                                                        "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                        "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                        "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                                    ]
                                                                },
                                                                "newField": {
                                                                    "name": "rating",
                                                                    "type": "reference",
                                                                    "refIdPath": [
                                                                        "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                        "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                        "b8a8c2d9-471a-4b9c-8bb8-ccd3a9aac456"
                                                                    ]
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "b41c90d5-bd4b-4d0a-9a99-0b30c85f964b",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "special_features",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "text",
                                                            "length": 10,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "_text",
                                                            "numberOfArrayDimensions": 1,
                                                            "timePrecision": "",
                                                            "array_type": [
                                                                {
                                                                    "GUID": "ca95a87d-1b5e-4216-ba03-c1d0e20bbd5a"
                                                                }
                                                            ],
                                                            "GUID": "6954c08e-4542-42f4-aa1d-c723085c55da",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "special_features",
                                                                    "type": "char",
                                                                    "mode": "text"
                                                                },
                                                                "newField": {
                                                                    "name": "special_features",
                                                                    "type": "char",
                                                                    "mode": "text"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "fulltext",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "tsvector",
                                                            "length": 10,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "tsvector",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "fulltext",
                                                                    "type": "char",
                                                                    "mode": "char"
                                                                },
                                                                "newField": {
                                                                    "name": "fulltext",
                                                                    "type": "char",
                                                                    "mode": "tsvector"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "film",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "8ea23f47-d179-4e32-a94f-495148795d7e",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film_actor",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "actor_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": true,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "77a5978c-a743-4ac9-8221-dc74e5789d3c",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "f2c0d92e-0768-4439-b2e4-d108a4b66dc9",
                                                    "foreignField": [
                                                        "f2c0d92e-0768-4439-b2e4-d108a4b66dc9",
                                                        "3e3615e8-56e1-4d2a-844a-ce33ac707540"
                                                    ],
                                                    "parentRelationship": "35c1fd9a-64d4-4b9d-a6a2-cade4633ccea",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "actor_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "actor_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "film_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": true,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "c7c38851-2259-4001-8661-0d408bb08012",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                    "foreignField": [
                                                        "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                        "1929a9b3-c3e2-4a98-bea8-1241fe33de17"
                                                    ],
                                                    "parentRelationship": "83879be8-57dd-42ae-8c89-6d55830f67d7",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "0855ad7f-ce93-4aa2-bc11-eeeaba749c6d",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "f78198f7-11d6-428a-a761-dc4c25657dd5",
                                            "role": {
                                                "collectionName": "film_actor",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "7c6072a6-0aaf-4b73-96e7-006b0946e061",
                                                        "constraintName": "film_actor_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "1f50463c-b7ed-4d7f-ad96-af14d758721a",
                                                                "type": ""
                                                            },
                                                            {
                                                                "keyId": "ca6e3f97-adea-478e-8df1-71a13ec1e8eb",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "actor_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "598d6c54-2278-4e16-9776-ff10b7fc0049",
                                                        "foreignField": [
                                                            "598d6c54-2278-4e16-9776-ff10b7fc0049",
                                                            "8396c28e-7031-4932-b981-7ecad89f4a7d"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "1f50463c-b7ed-4d7f-ad96-af14d758721a",
                                                        "error": {},
                                                        "parentRelationship": "3b8f74ab-376d-49fe-8808-6241fa630e32",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "actor_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "actor_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "film_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                        "foreignField": [
                                                            "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                            "a9fa5c8c-a0cb-4e0b-86d2-e53a4cecb45e"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "ca6e3f97-adea-478e-8df1-71a13ec1e8eb",
                                                        "error": {},
                                                        "parentRelationship": "b5042932-7c3b-4f73-afec-43ac367c7a1f",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "5158d70e-cdf4-4fed-8ec5-441be8d52fd8",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "f0c8bafd-4c44-4d10-9892-a361890afe3f",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "778aab3c-fb93-4786-90ff-7cbc4b08b4e0",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "film_actor",
                                                        "old": "film_actor"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [
                                                            {
                                                                "GUID": "c5859b9f-80a7-41b5-9164-ec1fb71de38a",
                                                                "constraintName": "film_actor_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "77a5978c-a743-4ac9-8221-dc74e5789d3c",
                                                                        "type": ""
                                                                    },
                                                                    {
                                                                        "keyId": "c7c38851-2259-4001-8661-0d408bb08012",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ],
                                                        "old": [
                                                            {
                                                                "GUID": "7c6072a6-0aaf-4b73-96e7-006b0946e061",
                                                                "constraintName": "film_actor_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "1f50463c-b7ed-4d7f-ad96-af14d758721a",
                                                                        "type": ""
                                                                    },
                                                                    {
                                                                        "keyId": "ca6e3f97-adea-478e-8df1-71a13ec1e8eb",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "91464bae-14c0-4adc-b230-0cb892bac7cd",
                                                                "indxName": "film_actor_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "77a5978c-a743-4ac9-8221-dc74e5789d3c",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    },
                                                                    {
                                                                        "keyId": "c7c38851-2259-4001-8661-0d408bb08012",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "79999aff-e766-4a28-a242-632ed00bd4fe",
                                                                "indxName": "idx_fk_film_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "c7c38851-2259-4001-8661-0d408bb08012",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "b42abc28-b693-439d-b02f-f7a5cff3b29f",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "16ff096b-eb4b-4691-9eaf-2e97ab9d83f3",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "778aab3c-fb93-4786-90ff-7cbc4b08b4e0": "film_actor",
                                                        "1f50463c-b7ed-4d7f-ad96-af14d758721a": "actor_id",
                                                        "ca6e3f97-adea-478e-8df1-71a13ec1e8eb": "film_id",
                                                        "5158d70e-cdf4-4fed-8ec5-441be8d52fd8": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "706b2103-2ecc-4c75-a9cc-b5854d9b87c6": "film_actor",
                                                        "77a5978c-a743-4ac9-8221-dc74e5789d3c": "actor_id",
                                                        "c7c38851-2259-4001-8661-0d408bb08012": "film_id",
                                                        "0855ad7f-ce93-4aa2-bc11-eeeaba749c6d": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "actor_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": true,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "77a5978c-a743-4ac9-8221-dc74e5789d3c",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "f2c0d92e-0768-4439-b2e4-d108a4b66dc9",
                                                            "foreignField": [
                                                                "f2c0d92e-0768-4439-b2e4-d108a4b66dc9",
                                                                "3e3615e8-56e1-4d2a-844a-ce33ac707540"
                                                            ],
                                                            "parentRelationship": "35c1fd9a-64d4-4b9d-a6a2-cade4633ccea",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "actor_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "actor_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "film_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": true,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "c7c38851-2259-4001-8661-0d408bb08012",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                            "foreignField": [
                                                                "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                                "1929a9b3-c3e2-4a98-bea8-1241fe33de17"
                                                            ],
                                                            "parentRelationship": "83879be8-57dd-42ae-8c89-6d55830f67d7",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "0855ad7f-ce93-4aa2-bc11-eeeaba749c6d",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "film_actor",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "4948cb7b-7678-45cd-b369-11b0a183b11c",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film_category",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "film_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": true,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "2d53ff77-e354-4a7c-a6fa-6b92a22334b5",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                    "foreignField": [
                                                        "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                        "1929a9b3-c3e2-4a98-bea8-1241fe33de17"
                                                    ],
                                                    "parentRelationship": "5f3a7439-69cd-4bb2-902f-2392ba91e61c",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "category_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": true,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "7ee63175-bf73-43cb-afde-938e08a0b9e4",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "5288d4e7-503b-4abd-9303-72eae8476379",
                                                    "foreignField": [
                                                        "5288d4e7-503b-4abd-9303-72eae8476379",
                                                        "74d7881d-e3cc-4f7a-93b6-7c42f132c1ca"
                                                    ],
                                                    "parentRelationship": "b7dd8a18-6a44-47af-8eaf-e6acb061b1b2",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "category_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "category_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "852e7b45-36a5-44d8-8eb9-753042ea8765",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "95d0fcca-820c-4a3a-941b-19c0336884c3",
                                            "role": {
                                                "collectionName": "film_category",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "4ee6686f-2e32-435e-8c9e-9ed6e29fbf48",
                                                        "constraintName": "film_category_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "9929e0b0-0d50-4be3-b0a2-5dc83e3dc0ba",
                                                                "type": ""
                                                            },
                                                            {
                                                                "keyId": "f7babaa1-d6e0-49eb-8f01-680b19cd2e27",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "film_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                        "foreignField": [
                                                            "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                            "a9fa5c8c-a0cb-4e0b-86d2-e53a4cecb45e"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "9929e0b0-0d50-4be3-b0a2-5dc83e3dc0ba",
                                                        "error": {},
                                                        "parentRelationship": "fd86f209-5a4b-4ea7-b035-f61e8f5c2380",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "category_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "2c2f066f-cb66-4247-b9ae-f8defe49f589",
                                                        "foreignField": [
                                                            "2c2f066f-cb66-4247-b9ae-f8defe49f589",
                                                            "2f943ea8-1fca-4aeb-9b49-956097f6f7ae"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "f7babaa1-d6e0-49eb-8f01-680b19cd2e27",
                                                        "error": {},
                                                        "parentRelationship": "d03dd0f4-e0ba-481d-830d-6a3d8a197237",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "category_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "category_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "bfbcd87e-a706-43e8-ba81-9a1ffa2f3bc9",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "1e3526d4-d6e7-4f7e-8d3b-168d05919cbe",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "fe5a1aab-f5e2-4eec-8d67-edf3f2243110",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "film_category",
                                                        "old": "film_category"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [
                                                            {
                                                                "GUID": "376eaf0f-1e8d-4cf3-ab94-6c30ee9ef413",
                                                                "constraintName": "film_category_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "2d53ff77-e354-4a7c-a6fa-6b92a22334b5",
                                                                        "type": ""
                                                                    },
                                                                    {
                                                                        "keyId": "7ee63175-bf73-43cb-afde-938e08a0b9e4",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ],
                                                        "old": [
                                                            {
                                                                "GUID": "4ee6686f-2e32-435e-8c9e-9ed6e29fbf48",
                                                                "constraintName": "film_category_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "9929e0b0-0d50-4be3-b0a2-5dc83e3dc0ba",
                                                                        "type": ""
                                                                    },
                                                                    {
                                                                        "keyId": "f7babaa1-d6e0-49eb-8f01-680b19cd2e27",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "ade67f78-a8e9-4c64-9bdf-402e6ae19f83",
                                                                "indxName": "film_category_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "2d53ff77-e354-4a7c-a6fa-6b92a22334b5",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    },
                                                                    {
                                                                        "keyId": "7ee63175-bf73-43cb-afde-938e08a0b9e4",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "62754525-9dde-4abe-9e5a-c04ce6e10da3",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "69271b21-47b4-433d-bf0d-3458fa66c45f",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "fe5a1aab-f5e2-4eec-8d67-edf3f2243110": "film_category",
                                                        "9929e0b0-0d50-4be3-b0a2-5dc83e3dc0ba": "film_id",
                                                        "f7babaa1-d6e0-49eb-8f01-680b19cd2e27": "category_id",
                                                        "bfbcd87e-a706-43e8-ba81-9a1ffa2f3bc9": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "50bb00c7-637f-4e85-9a39-54c0fbd067ed": "film_category",
                                                        "2d53ff77-e354-4a7c-a6fa-6b92a22334b5": "film_id",
                                                        "7ee63175-bf73-43cb-afde-938e08a0b9e4": "category_id",
                                                        "852e7b45-36a5-44d8-8eb9-753042ea8765": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "film_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": true,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "2d53ff77-e354-4a7c-a6fa-6b92a22334b5",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                            "foreignField": [
                                                                "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                                "1929a9b3-c3e2-4a98-bea8-1241fe33de17"
                                                            ],
                                                            "parentRelationship": "5f3a7439-69cd-4bb2-902f-2392ba91e61c",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "category_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": true,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "7ee63175-bf73-43cb-afde-938e08a0b9e4",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "5288d4e7-503b-4abd-9303-72eae8476379",
                                                            "foreignField": [
                                                                "5288d4e7-503b-4abd-9303-72eae8476379",
                                                                "74d7881d-e3cc-4f7a-93b6-7c42f132c1ca"
                                                            ],
                                                            "parentRelationship": "b7dd8a18-6a44-47af-8eaf-e6acb061b1b2",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "category_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "category_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "852e7b45-36a5-44d8-8eb9-753042ea8765",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "film_category",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "30609143-6837-4f45-b3cb-c13a60096911",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "inventory",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "inventory_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('inventory_inventory_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "inventory_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "aae97716-9bcf-4e8d-8694-8aa9d3647cd2"
                                                        }
                                                    ],
                                                    "GUID": "75daa307-e569-44a8-bc17-2cfd58686914",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "0b1fbbb4-799a-40f8-a0f0-712c284f24ff"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "inventory_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "inventory_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "film_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "55efea3d-80e9-4caf-aa9f-b87ad88f7629",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                    "foreignField": [
                                                        "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                        "1929a9b3-c3e2-4a98-bea8-1241fe33de17"
                                                    ],
                                                    "parentRelationship": "cd01e55f-4b8b-4577-8c17-66e2c2c5e1c9",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "store_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "c83559eb-39f7-4d1f-82da-d1ecd65235e6",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "a38e71ef-127f-43ce-95cb-4256924cf965",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "f9f74b93-69be-4f5b-8369-c34bc82b11cc",
                                            "role": {
                                                "collectionName": "inventory",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "bb63ce69-b922-44e8-ac9c-d1d5b0e9a489",
                                                        "constraintName": "inventory_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "381414cf-90be-4185-bb4d-18bb3131b617",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "inventory_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('inventory_inventory_id_seq'::regclass)",
                                                        "GUID": "381414cf-90be-4185-bb4d-18bb3131b617",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "7e0103a3-1f38-493a-aa5a-86fa4266ffc4"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "inventory_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "inventory_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "film_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                        "foreignField": [
                                                            "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                            "a9fa5c8c-a0cb-4e0b-86d2-e53a4cecb45e"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "0092b49c-2eb7-4266-b5ad-027cd2018a7b",
                                                        "error": {},
                                                        "parentRelationship": "9a562a77-30a2-4ccb-b5e0-0d8b01ee9f6b",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "store_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "21f29958-1473-416e-89ab-e4724836073c",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "21efdf95-de4e-49bb-903b-2dbee25ca728",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "efd5431c-1b9a-4393-be20-11f62d860403",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "f29c19d2-bda9-4560-bb22-439e8789d495",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "inventory",
                                                        "old": "inventory"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "bb63ce69-b922-44e8-ac9c-d1d5b0e9a489",
                                                                "constraintName": "inventory_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "381414cf-90be-4185-bb4d-18bb3131b617",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "123eac51-ae82-4a4c-981f-d5237428b8e8",
                                                                "indxName": "idx_store_id_film_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "c83559eb-39f7-4d1f-82da-d1ecd65235e6",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    },
                                                                    {
                                                                        "keyId": "55efea3d-80e9-4caf-aa9f-b87ad88f7629",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "8df47301-0586-426d-b505-3cf913abd729",
                                                                "indxName": "inventory_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "75daa307-e569-44a8-bc17-2cfd58686914",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "6e66b1d7-3448-4e22-a2e5-e8c315f136bb",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "73d446b7-2294-4987-87d0-2cda0db13ad2",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "f29c19d2-bda9-4560-bb22-439e8789d495": "inventory",
                                                        "381414cf-90be-4185-bb4d-18bb3131b617": "inventory_id",
                                                        "0092b49c-2eb7-4266-b5ad-027cd2018a7b": "film_id",
                                                        "21f29958-1473-416e-89ab-e4724836073c": "store_id",
                                                        "21efdf95-de4e-49bb-903b-2dbee25ca728": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "0b6571d2-b208-41b1-aaf6-d0d30f81529a": "inventory",
                                                        "75daa307-e569-44a8-bc17-2cfd58686914": "inventory_id",
                                                        "55efea3d-80e9-4caf-aa9f-b87ad88f7629": "film_id",
                                                        "c83559eb-39f7-4d1f-82da-d1ecd65235e6": "store_id",
                                                        "a38e71ef-127f-43ce-95cb-4256924cf965": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "inventory_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('inventory_inventory_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "inventory_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "aae97716-9bcf-4e8d-8694-8aa9d3647cd2"
                                                                }
                                                            ],
                                                            "GUID": "75daa307-e569-44a8-bc17-2cfd58686914",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "0b1fbbb4-799a-40f8-a0f0-712c284f24ff"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "inventory_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "inventory_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "film_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "55efea3d-80e9-4caf-aa9f-b87ad88f7629",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                            "foreignField": [
                                                                "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                                "1929a9b3-c3e2-4a98-bea8-1241fe33de17"
                                                            ],
                                                            "parentRelationship": "cd01e55f-4b8b-4577-8c17-66e2c2c5e1c9",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "store_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "c83559eb-39f7-4d1f-82da-d1ecd65235e6",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "a38e71ef-127f-43ce-95cb-4256924cf965",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "inventory",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "4239426e-fafe-4db1-9c72-cce77b4da914",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "payment",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "payment_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('payment_payment_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "payment_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "d1e937c2-805b-4dce-a95d-fa1896cd24b8"
                                                        }
                                                    ],
                                                    "GUID": "43c5c175-7506-4ca2-ba0e-a9ea5de9a826",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "payment_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "payment_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "customer_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "57bee1ff-9676-453d-b581-6adb95bb0b01",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "bc4695a0-e219-42e9-9d75-8f4d6c77f038",
                                                    "foreignField": [
                                                        "bc4695a0-e219-42e9-9d75-8f4d6c77f038",
                                                        "2bedaf45-30e6-4c10-9984-d24202772582"
                                                    ],
                                                    "parentRelationship": "a4bbc494-6562-45d2-93b7-6538f55d7030",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "customer_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "customer_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "staff_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "891afaa2-d334-412a-a844-1143286828d5",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "977626c1-66d4-4724-a693-c43f86935b9b",
                                                    "foreignField": [
                                                        "977626c1-66d4-4724-a693-c43f86935b9b",
                                                        "65f2e1a8-93ec-4bea-be10-95d74ba53239"
                                                    ],
                                                    "parentRelationship": "0c47fa9c-5b12-4f64-95cb-a9b543c961c2",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "staff_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "staff_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "rental_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "7e173ae3-edb0-450d-a7b6-4baf4fd7592e",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "0930ac46-3122-4d4e-8629-d04d45015b60",
                                                    "foreignField": [
                                                        "0930ac46-3122-4d4e-8629-d04d45015b60",
                                                        "a1414e93-9ecb-4c0d-b00f-e693a984f029"
                                                    ],
                                                    "parentRelationship": "b7838df1-b3cd-4241-a4a6-07f536699620",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "rental_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "rental_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "payment_date",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "2b97f127-a11d-4952-9559-fd10497d2864",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "payment_date",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "payment_date",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "498e442b-600d-4b5e-afed-ab6b101f181d",
                                            "role": {
                                                "collectionName": "payment",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "c482aa92-1588-4041-9c55-96c9931facb0",
                                                        "constraintName": "payment_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "ba5e9c9a-4c30-49cd-826f-63b6b5fd9951",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "payment_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('payment_payment_id_seq'::regclass)",
                                                        "GUID": "ba5e9c9a-4c30-49cd-826f-63b6b5fd9951",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "payment_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "payment_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "customer_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "9ffbb409-fe3e-425b-91b7-c63908114dac",
                                                        "foreignField": [
                                                            "9ffbb409-fe3e-425b-91b7-c63908114dac",
                                                            "b92d76ea-08ad-431f-ab1e-0d3ed7115712"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "f8a277d8-cba6-4c04-96f7-0c3a8ba24c61",
                                                        "error": {},
                                                        "parentRelationship": "bb069ade-4229-4938-a44d-e3a732655054",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "customer_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "customer_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "staff_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "606710fd-3963-4876-894f-4a67c06a802d",
                                                        "foreignField": [
                                                            "606710fd-3963-4876-894f-4a67c06a802d",
                                                            "c3ef01b3-9bb7-4f79-9c94-729a5b2e6960"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "a158d0f8-8069-48d4-a411-5733b1c14597",
                                                        "error": {},
                                                        "parentRelationship": "0efc6208-cac1-4e6c-8ec7-f48a71ad5742",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "staff_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "staff_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "rental_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "3090385d-d8f0-4b82-9df0-35bfe792ec63",
                                                        "foreignField": [
                                                            "3090385d-d8f0-4b82-9df0-35bfe792ec63",
                                                            "45f11667-8dcb-42d3-b77c-3dfd65857e08"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "8d5cc006-39bf-4615-a55c-7ec1b275c231",
                                                        "error": {},
                                                        "parentRelationship": "e0c8efb3-5638-47c5-97f9-0d1c7ac7bfe8",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "rental_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "rental_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "numeric",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "amount",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "precision": 5,
                                                        "scale": 2,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "271c4b84-b861-4b95-8ccc-e874a8ccf11a",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "amount",
                                                                "type": "numeric",
                                                                "mode": "numeric"
                                                            },
                                                            "newField": {
                                                                "name": "amount",
                                                                "type": "numeric",
                                                                "mode": "numeric"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "payment_date",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "3daf93b9-e633-408a-ba8d-7fea480e0fbf",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "payment_date",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "payment_date",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "11d7ccf7-3c02-40c1-bd3c-dd7ddca7b9b2",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "9fe85521-30b3-4ab0-af6d-72071b837174",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "payment",
                                                        "old": "payment"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "c482aa92-1588-4041-9c55-96c9931facb0",
                                                                "constraintName": "payment_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "ba5e9c9a-4c30-49cd-826f-63b6b5fd9951",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "acd3caa7-98a7-42d9-93fa-66f0a246dcde",
                                                                "indxName": "idx_fk_customer_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "57bee1ff-9676-453d-b581-6adb95bb0b01",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "8d50d421-3608-4187-86b9-1aa329b244e8",
                                                                "indxName": "idx_fk_rental_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "7e173ae3-edb0-450d-a7b6-4baf4fd7592e",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "5c6f347f-7644-44ca-807d-3da292adb29e",
                                                                "indxName": "idx_fk_staff_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "891afaa2-d334-412a-a844-1143286828d5",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "73f35f8f-2611-417f-b871-af77747ac1f8",
                                                                "indxName": "payment_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "43c5c175-7506-4ca2-ba0e-a9ea5de9a826",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "9fe85521-30b3-4ab0-af6d-72071b837174": "payment",
                                                        "ba5e9c9a-4c30-49cd-826f-63b6b5fd9951": "payment_id",
                                                        "f8a277d8-cba6-4c04-96f7-0c3a8ba24c61": "customer_id",
                                                        "a158d0f8-8069-48d4-a411-5733b1c14597": "staff_id",
                                                        "8d5cc006-39bf-4615-a55c-7ec1b275c231": "rental_id",
                                                        "271c4b84-b861-4b95-8ccc-e874a8ccf11a": "amount",
                                                        "3daf93b9-e633-408a-ba8d-7fea480e0fbf": "payment_date"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "f05c3a78-8284-4eac-a62a-61a3e04ba553": "payment",
                                                        "43c5c175-7506-4ca2-ba0e-a9ea5de9a826": "payment_id",
                                                        "57bee1ff-9676-453d-b581-6adb95bb0b01": "customer_id",
                                                        "891afaa2-d334-412a-a844-1143286828d5": "staff_id",
                                                        "7e173ae3-edb0-450d-a7b6-4baf4fd7592e": "rental_id",
                                                        "31b869ca-92bb-4058-ac3c-b46547a0bb2e": "amount",
                                                        "2b97f127-a11d-4952-9559-fd10497d2864": "payment_date"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "payment_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('payment_payment_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "payment_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "d1e937c2-805b-4dce-a95d-fa1896cd24b8"
                                                                }
                                                            ],
                                                            "GUID": "43c5c175-7506-4ca2-ba0e-a9ea5de9a826",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "payment_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "payment_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "customer_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "57bee1ff-9676-453d-b581-6adb95bb0b01",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "bc4695a0-e219-42e9-9d75-8f4d6c77f038",
                                                            "foreignField": [
                                                                "bc4695a0-e219-42e9-9d75-8f4d6c77f038",
                                                                "2bedaf45-30e6-4c10-9984-d24202772582"
                                                            ],
                                                            "parentRelationship": "a4bbc494-6562-45d2-93b7-6538f55d7030",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "customer_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "customer_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "staff_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "891afaa2-d334-412a-a844-1143286828d5",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "977626c1-66d4-4724-a693-c43f86935b9b",
                                                            "foreignField": [
                                                                "977626c1-66d4-4724-a693-c43f86935b9b",
                                                                "65f2e1a8-93ec-4bea-be10-95d74ba53239"
                                                            ],
                                                            "parentRelationship": "0c47fa9c-5b12-4f64-95cb-a9b543c961c2",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "rental_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "7e173ae3-edb0-450d-a7b6-4baf4fd7592e",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "0930ac46-3122-4d4e-8629-d04d45015b60",
                                                            "foreignField": [
                                                                "0930ac46-3122-4d4e-8629-d04d45015b60",
                                                                "a1414e93-9ecb-4c0d-b00f-e693a984f029"
                                                            ],
                                                            "parentRelationship": "b7838df1-b3cd-4241-a4a6-07f536699620",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "rental_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "rental_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "amount",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "numeric",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 5,
                                                            "scale": 2,
                                                            "udt_name": "numeric",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "31b869ca-92bb-4058-ac3c-b46547a0bb2e",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "amount",
                                                                    "type": "numeric",
                                                                    "mode": "numeric"
                                                                },
                                                                "newField": {
                                                                    "name": "amount",
                                                                    "type": "numeric",
                                                                    "mode": "numeric"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "payment_date",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "2b97f127-a11d-4952-9559-fd10497d2864",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "payment_date",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "payment_date",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "payment",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "f3eb757d-d0e8-4774-bd47-a4d4b464e482",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "rental",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "rental_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('rental_rental_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "rental_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "22da2626-a27d-4e9e-82e8-6350c258d9ae"
                                                        }
                                                    ],
                                                    "GUID": "a1414e93-9ecb-4c0d-b00f-e693a984f029",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "b7838df1-b3cd-4241-a4a6-07f536699620"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "rental_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "rental_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "rental_date",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "07190063-af1d-4815-b26e-094a581c5e43",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "rental_date",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "rental_date",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "inventory_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "848234d7-d902-4fee-8e9b-d94c910b523a",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "0b6571d2-b208-41b1-aaf6-d0d30f81529a",
                                                    "foreignField": [
                                                        "0b6571d2-b208-41b1-aaf6-d0d30f81529a",
                                                        "75daa307-e569-44a8-bc17-2cfd58686914"
                                                    ],
                                                    "parentRelationship": "0b1fbbb4-799a-40f8-a0f0-712c284f24ff",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "inventory_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "inventory_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "customer_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "3a0c6d98-de84-431f-ac9b-ee0e0c6474a5",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "bc4695a0-e219-42e9-9d75-8f4d6c77f038",
                                                    "foreignField": [
                                                        "bc4695a0-e219-42e9-9d75-8f4d6c77f038",
                                                        "2bedaf45-30e6-4c10-9984-d24202772582"
                                                    ],
                                                    "parentRelationship": "f52b3acd-a183-4d03-b96b-9ae4c2d57dda",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "customer_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "customer_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "return_date",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "45c02365-9721-439a-9abb-6dca8f4f14bb",
                                                    "required": false,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "return_date",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "return_date",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "staff_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "36228c15-f559-4764-800d-52c41cd47925",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "977626c1-66d4-4724-a693-c43f86935b9b",
                                                    "foreignField": [
                                                        "977626c1-66d4-4724-a693-c43f86935b9b",
                                                        "65f2e1a8-93ec-4bea-be10-95d74ba53239"
                                                    ],
                                                    "parentRelationship": "56da40cc-7178-4252-9b45-79b519716868",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "staff_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "staff_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "f6a34170-4b33-4339-9e00-8337dd6ac57d",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "0656b983-18a6-470b-a128-f03a38c159c4",
                                            "role": {
                                                "collectionName": "rental",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "0b53bbd9-aa76-4547-a137-1c4496c5f771",
                                                        "constraintName": "rental_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "45f11667-8dcb-42d3-b77c-3dfd65857e08",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "rental_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('rental_rental_id_seq'::regclass)",
                                                        "GUID": "45f11667-8dcb-42d3-b77c-3dfd65857e08",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "e0c8efb3-5638-47c5-97f9-0d1c7ac7bfe8"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "rental_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "rental_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "rental_date",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "d7ee10b4-6ea2-4dbd-ae9e-5ccbf8aea69c",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "rental_date",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "rental_date",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "inventory_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "f29c19d2-bda9-4560-bb22-439e8789d495",
                                                        "foreignField": [
                                                            "f29c19d2-bda9-4560-bb22-439e8789d495",
                                                            "381414cf-90be-4185-bb4d-18bb3131b617"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "dba65db0-dadf-4454-a3a6-21f0d4ed8fc3",
                                                        "error": {},
                                                        "parentRelationship": "7e0103a3-1f38-493a-aa5a-86fa4266ffc4",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "inventory_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "inventory_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "customer_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "9ffbb409-fe3e-425b-91b7-c63908114dac",
                                                        "foreignField": [
                                                            "9ffbb409-fe3e-425b-91b7-c63908114dac",
                                                            "b92d76ea-08ad-431f-ab1e-0d3ed7115712"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "bb07b5a0-98b4-4a31-be7c-d818d3bf3bc4",
                                                        "error": {},
                                                        "parentRelationship": "c1c0d07a-bcfc-4365-9a16-6e69b51b83a7",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "customer_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "customer_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "return_date",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "f8374611-652c-4529-b636-5b98bf343bd1",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "return_date",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "return_date",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "staff_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "606710fd-3963-4876-894f-4a67c06a802d",
                                                        "foreignField": [
                                                            "606710fd-3963-4876-894f-4a67c06a802d",
                                                            "c3ef01b3-9bb7-4f79-9c94-729a5b2e6960"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "3f19dcae-eedf-4182-8cc6-16c30e70218a",
                                                        "error": {},
                                                        "parentRelationship": "1176da73-580a-44d1-bb64-b194cfe0c480",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "staff_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "staff_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "d769bd74-c2d2-42f8-90e3-796b62333f63",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "a011cafd-947f-4549-9857-20821242dc8c",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "3090385d-d8f0-4b82-9df0-35bfe792ec63",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "rental",
                                                        "old": "rental"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "0b53bbd9-aa76-4547-a137-1c4496c5f771",
                                                                "constraintName": "rental_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "45f11667-8dcb-42d3-b77c-3dfd65857e08",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "ca18013f-9b66-4f34-99a8-78d678775743",
                                                                "indxName": "idx_fk_inventory_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "848234d7-d902-4fee-8e9b-d94c910b523a",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "b05765da-ad2d-4b0d-9bb2-b1c25c034c3d",
                                                                "indxName": "idx_unq_rental_rental_date_inventory_id_customer_id",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "07190063-af1d-4815-b26e-094a581c5e43",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.timestamp_ops"
                                                                    },
                                                                    {
                                                                        "keyId": "848234d7-d902-4fee-8e9b-d94c910b523a",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    },
                                                                    {
                                                                        "keyId": "3a0c6d98-de84-431f-ac9b-ee0e0c6474a5",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "3217bbe7-b5cc-45a6-ab3f-ca5769507a9c",
                                                                "indxName": "rental_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "a1414e93-9ecb-4c0d-b00f-e693a984f029",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "5ecdcdd3-1e3c-4972-9467-7fb517d64392",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "a8eb3dcd-0756-438f-af50-b3cddfb42b4f",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "3090385d-d8f0-4b82-9df0-35bfe792ec63": "rental",
                                                        "45f11667-8dcb-42d3-b77c-3dfd65857e08": "rental_id",
                                                        "d7ee10b4-6ea2-4dbd-ae9e-5ccbf8aea69c": "rental_date",
                                                        "dba65db0-dadf-4454-a3a6-21f0d4ed8fc3": "inventory_id",
                                                        "bb07b5a0-98b4-4a31-be7c-d818d3bf3bc4": "customer_id",
                                                        "f8374611-652c-4529-b636-5b98bf343bd1": "return_date",
                                                        "3f19dcae-eedf-4182-8cc6-16c30e70218a": "staff_id",
                                                        "d769bd74-c2d2-42f8-90e3-796b62333f63": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "0930ac46-3122-4d4e-8629-d04d45015b60": "rental",
                                                        "a1414e93-9ecb-4c0d-b00f-e693a984f029": "rental_id",
                                                        "07190063-af1d-4815-b26e-094a581c5e43": "rental_date",
                                                        "848234d7-d902-4fee-8e9b-d94c910b523a": "inventory_id",
                                                        "3a0c6d98-de84-431f-ac9b-ee0e0c6474a5": "customer_id",
                                                        "45c02365-9721-439a-9abb-6dca8f4f14bb": "return_date",
                                                        "36228c15-f559-4764-800d-52c41cd47925": "staff_id",
                                                        "f6a34170-4b33-4339-9e00-8337dd6ac57d": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "rental_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('rental_rental_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "rental_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "22da2626-a27d-4e9e-82e8-6350c258d9ae"
                                                                }
                                                            ],
                                                            "GUID": "a1414e93-9ecb-4c0d-b00f-e693a984f029",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "b7838df1-b3cd-4241-a4a6-07f536699620"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "rental_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "rental_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "rental_date",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "07190063-af1d-4815-b26e-094a581c5e43",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "rental_date",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "rental_date",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "inventory_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "848234d7-d902-4fee-8e9b-d94c910b523a",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "0b6571d2-b208-41b1-aaf6-d0d30f81529a",
                                                            "foreignField": [
                                                                "0b6571d2-b208-41b1-aaf6-d0d30f81529a",
                                                                "75daa307-e569-44a8-bc17-2cfd58686914"
                                                            ],
                                                            "parentRelationship": "0b1fbbb4-799a-40f8-a0f0-712c284f24ff",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "inventory_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "inventory_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "customer_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "3a0c6d98-de84-431f-ac9b-ee0e0c6474a5",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "bc4695a0-e219-42e9-9d75-8f4d6c77f038",
                                                            "foreignField": [
                                                                "bc4695a0-e219-42e9-9d75-8f4d6c77f038",
                                                                "2bedaf45-30e6-4c10-9984-d24202772582"
                                                            ],
                                                            "parentRelationship": "f52b3acd-a183-4d03-b96b-9ae4c2d57dda",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "customer_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "customer_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "return_date",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "45c02365-9721-439a-9abb-6dca8f4f14bb",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "return_date",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "return_date",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "staff_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "36228c15-f559-4764-800d-52c41cd47925",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "977626c1-66d4-4724-a693-c43f86935b9b",
                                                            "foreignField": [
                                                                "977626c1-66d4-4724-a693-c43f86935b9b",
                                                                "65f2e1a8-93ec-4bea-be10-95d74ba53239"
                                                            ],
                                                            "parentRelationship": "56da40cc-7178-4252-9b45-79b519716868",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "f6a34170-4b33-4339-9e00-8337dd6ac57d",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "rental",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "49da9a29-d312-4bf1-b78a-83e59c79f30c",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "staff",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "staff_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('staff_staff_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "staff_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "829d0e68-8b04-4de3-b11a-eb66ed78d741"
                                                        }
                                                    ],
                                                    "GUID": "65f2e1a8-93ec-4bea-be10-95d74ba53239",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "1151d3ae-aef8-4d66-84f9-7246519f0912",
                                                        "56da40cc-7178-4252-9b45-79b519716868",
                                                        "0c47fa9c-5b12-4f64-95cb-a9b543c961c2"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "staff_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "staff_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "address_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "7d5e8889-9855-4bc3-8e82-118ca2829648",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                    "foreignField": [
                                                        "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                        "af25335c-6760-48d3-abb9-55f0b30d0ad4"
                                                    ],
                                                    "parentRelationship": "d457285e-5ff7-4240-934a-ddbcf3016924",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "store_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "5074a1e1-5f4b-49b7-94c4-82f381dcdf29",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "f070be70-575c-4845-960e-d4b2dbdf45cb",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "picture",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "bytea",
                                                    "length": 10,
                                                    "childType": "binary",
                                                    "type": "binary",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "udt_name": "bytea",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "2ae7a1f2-3249-4715-a2e9-d373489ae8ef",
                                                    "required": false,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "picture",
                                                            "type": "binary",
                                                            "mode": "bytea"
                                                        },
                                                        "newField": {
                                                            "name": "picture",
                                                            "type": "binary",
                                                            "mode": "bytea"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "d4a1eded-45e2-43f2-941b-085dcf4e189a",
                                            "role": {
                                                "collectionName": "staff",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "bfa3343a-15bb-4ea0-8062-6b1c8fab243c",
                                                        "constraintName": "staff_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "c3ef01b3-9bb7-4f79-9c94-729a5b2e6960",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "staff_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('staff_staff_id_seq'::regclass)",
                                                        "GUID": "c3ef01b3-9bb7-4f79-9c94-729a5b2e6960",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "f9b0f681-a0da-4772-a56f-7635f3edea6a",
                                                            "1176da73-580a-44d1-bb64-b194cfe0c480",
                                                            "0efc6208-cac1-4e6c-8ec7-f48a71ad5742"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "staff_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "staff_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 45,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "first_name",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "2ac4c690-1a22-46d7-af14-e5cb4cdffd36",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "first_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "first_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 45,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_name",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "f44ada4c-8768-4400-a6f0-890a8111c480",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "last_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "address_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "3aa8ab42-ca75-4e26-af78-c27ffae0b39d",
                                                        "foreignField": [
                                                            "3aa8ab42-ca75-4e26-af78-c27ffae0b39d",
                                                            "f551ab81-53d1-4b50-a0c4-3342c7190f7a"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "b3f7b188-dd4b-44ce-b7b7-32bd9c5c6cd6",
                                                        "error": {},
                                                        "parentRelationship": "de5d6fab-0969-4e75-8d15-13e259c84972",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 50,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "email",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "4649034a-7010-4101-ab56-b4652c0ee1f3",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "email",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "email",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "store_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "133171aa-3e06-418d-9983-990760caf960",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "childType": "boolean",
                                                        "type": "boolean",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "name": "active",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "default": "true",
                                                        "GUID": "149fa76f-b3bd-4512-ad96-ba857ceb91c5",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "active",
                                                                "type": "boolean"
                                                            },
                                                            "newField": {
                                                                "name": "active",
                                                                "type": "boolean"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 16,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "username",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "ee569d16-e3fa-48b5-ad37-fe61fd2bb111",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "username",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "username",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 40,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "password",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "71b49d23-829e-4659-adfe-71d13f32ec1d",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "password",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "password",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "952ca56c-135e-4740-b0e8-14f3dc011325",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "bytea",
                                                        "childType": "binary",
                                                        "type": "binary",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "picture",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "bc718715-8a9a-483e-a726-57451c3c7e5e",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "picture",
                                                                "type": "binary",
                                                                "mode": "bytea"
                                                            },
                                                            "newField": {
                                                                "name": "picture",
                                                                "type": "binary",
                                                                "mode": "bytea"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "6524246a-d4b6-4afe-be19-ad0f11d0128c",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "606710fd-3963-4876-894f-4a67c06a802d",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "staff",
                                                        "old": "staff"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "storage_parameter": {
                                                        "new": {
                                                            "GUID": "59b83880-bbc5-4250-9808-1ab024831ad2"
                                                        }
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "bfa3343a-15bb-4ea0-8062-6b1c8fab243c",
                                                                "constraintName": "staff_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "c3ef01b3-9bb7-4f79-9c94-729a5b2e6960",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "c3105347-1f89-446a-aa27-59ef38755796",
                                                                "indxName": "staff_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "65f2e1a8-93ec-4bea-be10-95d74ba53239",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "5187fb99-7310-4000-8399-9bf973355560",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "a8d0d299-0e63-4af5-8baf-d1ffaa2b5c57",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "606710fd-3963-4876-894f-4a67c06a802d": "staff",
                                                        "c3ef01b3-9bb7-4f79-9c94-729a5b2e6960": "staff_id",
                                                        "2ac4c690-1a22-46d7-af14-e5cb4cdffd36": "first_name",
                                                        "f44ada4c-8768-4400-a6f0-890a8111c480": "last_name",
                                                        "b3f7b188-dd4b-44ce-b7b7-32bd9c5c6cd6": "address_id",
                                                        "4649034a-7010-4101-ab56-b4652c0ee1f3": "email",
                                                        "133171aa-3e06-418d-9983-990760caf960": "store_id",
                                                        "149fa76f-b3bd-4512-ad96-ba857ceb91c5": "active",
                                                        "ee569d16-e3fa-48b5-ad37-fe61fd2bb111": "username",
                                                        "71b49d23-829e-4659-adfe-71d13f32ec1d": "password",
                                                        "952ca56c-135e-4740-b0e8-14f3dc011325": "last_update",
                                                        "bc718715-8a9a-483e-a726-57451c3c7e5e": "picture"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "977626c1-66d4-4724-a693-c43f86935b9b": "staff",
                                                        "65f2e1a8-93ec-4bea-be10-95d74ba53239": "staff_id",
                                                        "0bc42e21-c04d-4439-a6b8-78dec2e37578": "first_name",
                                                        "150b161a-5817-4e98-9974-e5c42f1128b3": "last_name",
                                                        "7d5e8889-9855-4bc3-8e82-118ca2829648": "address_id",
                                                        "6f7647a0-63ca-4c42-9a6c-a1a86d07f6cc": "email",
                                                        "5074a1e1-5f4b-49b7-94c4-82f381dcdf29": "store_id",
                                                        "a7d63fdd-bcc0-48f9-81cd-9d3a5caf0e17": "active",
                                                        "3217c159-b03b-4095-a8d9-bc4490dda348": "username",
                                                        "b4c9a666-9428-4fde-90b8-6b8d01b47533": "password",
                                                        "f070be70-575c-4845-960e-d4b2dbdf45cb": "last_update",
                                                        "2ae7a1f2-3249-4715-a2e9-d373489ae8ef": "picture"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "staff_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('staff_staff_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "staff_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "829d0e68-8b04-4de3-b11a-eb66ed78d741"
                                                                }
                                                            ],
                                                            "GUID": "65f2e1a8-93ec-4bea-be10-95d74ba53239",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "1151d3ae-aef8-4d66-84f9-7246519f0912",
                                                                "56da40cc-7178-4252-9b45-79b519716868",
                                                                "0c47fa9c-5b12-4f64-95cb-a9b543c961c2"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "first_name",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 45,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "0bc42e21-c04d-4439-a6b8-78dec2e37578",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "first_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "first_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_name",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 45,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "150b161a-5817-4e98-9974-e5c42f1128b3",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "last_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "address_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "7d5e8889-9855-4bc3-8e82-118ca2829648",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                            "foreignField": [
                                                                "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                                "af25335c-6760-48d3-abb9-55f0b30d0ad4"
                                                            ],
                                                            "parentRelationship": "d457285e-5ff7-4240-934a-ddbcf3016924",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "email",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 50,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "6f7647a0-63ca-4c42-9a6c-a1a86d07f6cc",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "email",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "email",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "store_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "5074a1e1-5f4b-49b7-94c4-82f381dcdf29",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "active",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "childType": "boolean",
                                                            "type": "boolean",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "true",
                                                            "udt_name": "bool",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "a7d63fdd-bcc0-48f9-81cd-9d3a5caf0e17",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "active",
                                                                    "type": "boolean"
                                                                },
                                                                "newField": {
                                                                    "name": "active",
                                                                    "type": "boolean"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "username",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 16,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "3217c159-b03b-4095-a8d9-bc4490dda348",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "username",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "username",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "password",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 40,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "b4c9a666-9428-4fde-90b8-6b8d01b47533",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "password",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "password",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "f070be70-575c-4845-960e-d4b2dbdf45cb",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "picture",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "bytea",
                                                            "length": 10,
                                                            "childType": "binary",
                                                            "type": "binary",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "bytea",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "2ae7a1f2-3249-4715-a2e9-d373489ae8ef",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "picture",
                                                                    "type": "binary",
                                                                    "mode": "bytea"
                                                                },
                                                                "newField": {
                                                                    "name": "picture",
                                                                    "type": "binary",
                                                                    "mode": "bytea"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "staff",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "e0d3f5ad-b06f-4d39-b7ac-6a2eeb5d0965",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "store",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "store_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('store_store_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "store_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "50c1ab4f-0133-44a1-837e-adfed0ffcae6"
                                                        }
                                                    ],
                                                    "GUID": "a9573c0a-9669-4a76-aea1-42cd7f74c8a0",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "manager_staff_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "5c426951-a569-4e1e-975f-289bf174f2d5",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "977626c1-66d4-4724-a693-c43f86935b9b",
                                                    "foreignField": [
                                                        "977626c1-66d4-4724-a693-c43f86935b9b",
                                                        "65f2e1a8-93ec-4bea-be10-95d74ba53239"
                                                    ],
                                                    "parentRelationship": "1151d3ae-aef8-4d66-84f9-7246519f0912",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "manager_staff_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "manager_staff_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "address_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "8717a4fe-4af8-4257-9916-e6f1814b10be",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                    "foreignField": [
                                                        "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                        "af25335c-6760-48d3-abb9-55f0b30d0ad4"
                                                    ],
                                                    "parentRelationship": "d705d2e1-bc3f-48ce-ba3f-e24723698859",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "54240294-da77-436b-a327-c7e1b0c50ab8",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "fb887bb9-7bb9-4b59-bd9e-4f3834e110f8",
                                            "role": {
                                                "collectionName": "store",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "f9043024-960f-4f9e-af23-5c1b16d41121",
                                                        "constraintName": "store_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "4121f481-ea1b-4c61-b8c4-95e320824768",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "store_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('store_store_id_seq'::regclass)",
                                                        "GUID": "4121f481-ea1b-4c61-b8c4-95e320824768",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "manager_staff_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "606710fd-3963-4876-894f-4a67c06a802d",
                                                        "foreignField": [
                                                            "606710fd-3963-4876-894f-4a67c06a802d",
                                                            "c3ef01b3-9bb7-4f79-9c94-729a5b2e6960"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "d5d8ab19-7df5-4b22-89a5-bcea9fe4d565",
                                                        "error": {},
                                                        "parentRelationship": "f9b0f681-a0da-4772-a56f-7635f3edea6a",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "manager_staff_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "manager_staff_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "address_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "3aa8ab42-ca75-4e26-af78-c27ffae0b39d",
                                                        "foreignField": [
                                                            "3aa8ab42-ca75-4e26-af78-c27ffae0b39d",
                                                            "f551ab81-53d1-4b50-a0c4-3342c7190f7a"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "d698fa85-302f-41c0-84c0-925caf1b9257",
                                                        "error": {},
                                                        "parentRelationship": "e538fb3b-8473-4562-8f5a-0eb51f93247f",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "649f5ac6-6ca6-4cc2-88fe-faad8f116849",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "87ca496b-ace9-45c6-9488-90a017413f04",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "4fd7816d-5c9e-442a-912f-5724cc5c7d60",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "store",
                                                        "old": "store"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "f9043024-960f-4f9e-af23-5c1b16d41121",
                                                                "constraintName": "store_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "4121f481-ea1b-4c61-b8c4-95e320824768",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "ca70746c-dca2-4575-9b83-8258fe190be7",
                                                                "indxName": "idx_unq_manager_staff_id",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "5c426951-a569-4e1e-975f-289bf174f2d5",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "b5d28145-25f7-496e-a153-e94275ccc30a",
                                                                "indxName": "store_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "a9573c0a-9669-4a76-aea1-42cd7f74c8a0",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "44885431-1cef-46bb-9e9a-fd6ebf070dc2",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "a83b0aa3-9538-41ea-bcdd-88fa27b8bc1c",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "4fd7816d-5c9e-442a-912f-5724cc5c7d60": "store",
                                                        "4121f481-ea1b-4c61-b8c4-95e320824768": "store_id",
                                                        "d5d8ab19-7df5-4b22-89a5-bcea9fe4d565": "manager_staff_id",
                                                        "d698fa85-302f-41c0-84c0-925caf1b9257": "address_id",
                                                        "649f5ac6-6ca6-4cc2-88fe-faad8f116849": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "15322aaf-80ac-4b5c-af79-0fcba80d21b8": "store",
                                                        "a9573c0a-9669-4a76-aea1-42cd7f74c8a0": "store_id",
                                                        "5c426951-a569-4e1e-975f-289bf174f2d5": "manager_staff_id",
                                                        "8717a4fe-4af8-4257-9916-e6f1814b10be": "address_id",
                                                        "54240294-da77-436b-a327-c7e1b0c50ab8": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "store_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('store_store_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "store_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "50c1ab4f-0133-44a1-837e-adfed0ffcae6"
                                                                }
                                                            ],
                                                            "GUID": "a9573c0a-9669-4a76-aea1-42cd7f74c8a0",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "manager_staff_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "5c426951-a569-4e1e-975f-289bf174f2d5",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "977626c1-66d4-4724-a693-c43f86935b9b",
                                                            "foreignField": [
                                                                "977626c1-66d4-4724-a693-c43f86935b9b",
                                                                "65f2e1a8-93ec-4bea-be10-95d74ba53239"
                                                            ],
                                                            "parentRelationship": "1151d3ae-aef8-4d66-84f9-7246519f0912",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "manager_staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "manager_staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "address_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "8717a4fe-4af8-4257-9916-e6f1814b10be",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                            "foreignField": [
                                                                "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                                "af25335c-6760-48d3-abb9-55f0b30d0ad4"
                                                            ],
                                                            "parentRelationship": "d705d2e1-bc3f-48ce-ba3f-e24723698859",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "54240294-da77-436b-a327-c7e1b0c50ab8",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "store",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "5a3150c7-49ca-472f-a888-6f0ac36e260f",
                                    "arrayItem": true
                                }
                            ],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "997fd2df-db44-4db3-8ec6-a32ade49421b"
                        }
                    ],
                    "childType": "object",
                    "type": "document",
                    "compositeKey": [
                        "compositePartitionKey",
                        "compositePrimaryKey",
                        "compositeUniqueKey",
                        "triggerUpdateColumns"
                    ],
                    "compositePartitionKey": false,
                    "compositePrimaryKey": false,
                    "compositeUniqueKey": false,
                    "triggerUpdateColumns": false,
                    "GUID": "2280d165-105a-4b6b-87e6-68192933023a"
                },
                {
                    "name": "relationships",
                    "hackoladeMeta": {},
                    "isActivated": true,
                    "primaryKey": false,
                    "unique": false,
                    "subtype": "object",
                    "properties": [
                        {
                            "name": "added",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film_language_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "1fbad153-6792-4974-973a-6571e17625c1",
                                            "role": {
                                                "name": "film_language_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "bdee74fe-6bbd-4733-8714-9ff1e30e53c9",
                                                        "5833d28e-69e3-400e-81c4-981c8184e9e1"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                        "c6952d3e-84f3-4aef-9aa4-79e2f751c686"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "5a2914fb-b66d-439e-bcc0-593427170510",
                                                "parentCollection": "bdee74fe-6bbd-4733-8714-9ff1e30e53c9",
                                                "childCollection": "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "1e3fce76-c907-4b56-b89a-b2fa3754bb5b",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1718,
                                                            "y": 1701.0000009536743
                                                        },
                                                        {
                                                            "x": 1743,
                                                            "y": 1701.0000009536743
                                                        },
                                                        {
                                                            "x": 1743,
                                                            "y": 1487.0000009536743
                                                        },
                                                        {
                                                            "x": 1671.5,
                                                            "y": 1487.0000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "right",
                                                        "right"
                                                    ]
                                                },
                                                "compMod": {
                                                    "created": true,
                                                    "deleted": false,
                                                    "parent": {
                                                        "bucketName": "public",
                                                        "collectionName": "language",
                                                        "fieldNames": [
                                                            "language_id"
                                                        ]
                                                    },
                                                    "child": {
                                                        "bucketName": "public",
                                                        "collectionName": "film",
                                                        "fieldNames": [
                                                            "language_id"
                                                        ]
                                                    },
                                                    "name": {
                                                        "new": "film_language_id_fkey",
                                                        "old": ""
                                                    },
                                                    "isActivated": {
                                                        "new": true
                                                    }
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "ab983d76-3098-41b8-9f6d-ab58fae13667",
                                    "arrayItem": true
                                }
                            ],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "7407b408-905e-4220-b45a-b82009e96bf4"
                        },
                        {
                            "name": "deleted",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "3661a183-397c-43a9-8b97-a454a85de186"
                        },
                        {
                            "name": "modified",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "store_address_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "be5f5fbc-c5cc-4ee6-a2b3-08e0d0e26fc2",
                                            "role": {
                                                "name": "store_address_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                        "af25335c-6760-48d3-abb9-55f0b30d0ad4"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "15322aaf-80ac-4b5c-af79-0fcba80d21b8",
                                                        "8717a4fe-4af8-4257-9916-e6f1814b10be"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "d705d2e1-bc3f-48ce-ba3f-e24723698859",
                                                "parentCollection": "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                "childCollection": "15322aaf-80ac-4b5c-af79-0fcba80d21b8",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "0de808b0-53b4-42e6-8bce-4ea5a8df0287",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 2338.4999995231624,
                                                            "y": 2232.9999990463257
                                                        },
                                                        {
                                                            "x": 2338.4999995231624,
                                                            "y": 2021.75
                                                        },
                                                        {
                                                            "x": 2338.499999523163,
                                                            "y": 2021.75
                                                        },
                                                        {
                                                            "x": 2338.499999523163,
                                                            "y": 1810.5000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "compMod": {
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "parent": {
                                                        "bucketName": "public",
                                                        "collectionName": "address",
                                                        "fieldNames": [
                                                            "address_id"
                                                        ]
                                                    },
                                                    "child": {
                                                        "bucketName": "public",
                                                        "collectionName": "store",
                                                        "fieldNames": [
                                                            "address_id"
                                                        ]
                                                    },
                                                    "isActivated": {
                                                        "old": true,
                                                        "new": true
                                                    }
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "802c8717-99af-46c3-a4ac-c43821315e81",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "store_manager_staff_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "fee31bfe-033e-4f93-9c8e-065aa99074d1",
                                            "role": {
                                                "name": "store_manager_staff_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "977626c1-66d4-4724-a693-c43f86935b9b",
                                                        "65f2e1a8-93ec-4bea-be10-95d74ba53239"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "15322aaf-80ac-4b5c-af79-0fcba80d21b8",
                                                        "5c426951-a569-4e1e-975f-289bf174f2d5"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "1151d3ae-aef8-4d66-84f9-7246519f0912",
                                                "parentCollection": "977626c1-66d4-4724-a693-c43f86935b9b",
                                                "childCollection": "15322aaf-80ac-4b5c-af79-0fcba80d21b8",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "023520b6-c597-4ce6-b8d9-4ede663faa85",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 2240.1666661898294,
                                                            "y": 2232.9999990463257
                                                        },
                                                        {
                                                            "x": 2240.1666661898294,
                                                            "y": 2174.999999523163
                                                        },
                                                        {
                                                            "x": 2176.5,
                                                            "y": 2174.999999523163
                                                        },
                                                        {
                                                            "x": 2176.5,
                                                            "y": 2117
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "compMod": {
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "parent": {
                                                        "bucketName": "public",
                                                        "collectionName": "staff",
                                                        "fieldNames": [
                                                            "staff_id"
                                                        ]
                                                    },
                                                    "child": {
                                                        "bucketName": "public",
                                                        "collectionName": "store",
                                                        "fieldNames": [
                                                            "manager_staff_id"
                                                        ]
                                                    },
                                                    "isActivated": {
                                                        "old": true,
                                                        "new": true
                                                    }
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "7843187a-de10-4654-be13-8695ddb89d14",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "fk_address_city",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "aa7686e9-959d-4a16-93e8-66c24b4a79d5",
                                            "role": {
                                                "name": "fk_address_city",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "9acec0ee-8817-446e-8ff3-6f3b1929fa3a",
                                                        "720d157f-0416-41fe-91c3-b3e066b1d762"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                        "ab8503f4-e1ab-4c12-b289-d89d61e443bd"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "de48a35a-5c6a-4c1a-a9e8-217ca69ada84",
                                                "parentCollection": "9acec0ee-8817-446e-8ff3-6f3b1929fa3a",
                                                "childCollection": "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                "customProperties": {
                                                    "relationshipOnDelete": "NO ACTION",
                                                    "relationshipOnUpdate": "NO ACTION",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "617ded3f-a14a-4bb1-bb9e-d3bef2fb9977",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 2338.499999523163,
                                                            "y": 1636.5000009536743
                                                        },
                                                        {
                                                            "x": 2338.499999523163,
                                                            "y": 1582.7500009536743
                                                        },
                                                        {
                                                            "x": 2338.499999523163,
                                                            "y": 1582.7500009536743
                                                        },
                                                        {
                                                            "x": 2338.499999523163,
                                                            "y": 1529.0000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "compMod": {
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "parent": {
                                                        "bucketName": "public",
                                                        "collectionName": "city",
                                                        "fieldNames": [
                                                            "city_id"
                                                        ]
                                                    },
                                                    "child": {
                                                        "bucketName": "public",
                                                        "collectionName": "address",
                                                        "fieldNames": [
                                                            "city_id"
                                                        ]
                                                    },
                                                    "isActivated": {
                                                        "old": true,
                                                        "new": true
                                                    }
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "444d68aa-9e3b-4824-812c-5c9688e7ddc9",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "fk_city",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "c867ef0e-7aeb-4acf-aecd-4d3a0a266f2e",
                                            "role": {
                                                "name": "fk_city",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "9523c3ce-3481-4a12-8de9-e9866d52580a",
                                                        "d3eaeb13-44d5-419f-96cd-69abbdc67f21"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "9acec0ee-8817-446e-8ff3-6f3b1929fa3a",
                                                        "1ebcce57-acb5-49aa-9985-d81c16aad78c"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "5dda9f39-ede1-4032-9cc8-25bdea32137d",
                                                "parentCollection": "9523c3ce-3481-4a12-8de9-e9866d52580a",
                                                "childCollection": "9acec0ee-8817-446e-8ff3-6f3b1929fa3a",
                                                "customProperties": {
                                                    "relationshipOnDelete": "NO ACTION",
                                                    "relationshipOnUpdate": "NO ACTION",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "64b9cd3d-fee6-498a-9bb7-eecc2d1f6f24",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 2472.499999523163,
                                                            "y": 1478.0000009536743
                                                        },
                                                        {
                                                            "x": 2497.499999523163,
                                                            "y": 1478.0000009536743
                                                        },
                                                        {
                                                            "x": 2497.499999523163,
                                                            "y": 1345.0000009536743
                                                        },
                                                        {
                                                            "x": 2472.499999523163,
                                                            "y": 1345.0000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "right",
                                                        "right"
                                                    ]
                                                },
                                                "compMod": {
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "parent": {
                                                        "bucketName": "public",
                                                        "collectionName": "country",
                                                        "fieldNames": [
                                                            "country_id"
                                                        ]
                                                    },
                                                    "child": {
                                                        "bucketName": "public",
                                                        "collectionName": "city",
                                                        "fieldNames": [
                                                            "country_id"
                                                        ]
                                                    },
                                                    "isActivated": {
                                                        "old": true,
                                                        "new": true
                                                    }
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "feb37b5d-1f40-4b24-b129-21397438af69",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "customer_address_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "c5f8660f-4683-4b7f-b565-308aa45848a1",
                                            "role": {
                                                "name": "customer_address_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                        "af25335c-6760-48d3-abb9-55f0b30d0ad4"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "bc4695a0-e219-42e9-9d75-8f4d6c77f038",
                                                        "ca148704-fa09-454f-a353-d42e25e538c4"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "9880e24c-16d5-4d0c-a06c-f8540140a5d1",
                                                "parentCollection": "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                "childCollection": "bc4695a0-e219-42e9-9d75-8f4d6c77f038",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "b982de0a-883d-428c-a039-258a1536b5fa",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 2503.4999990463257,
                                                            "y": 1901
                                                        },
                                                        {
                                                            "x": 2503.4999990463257,
                                                            "y": 1855.7500004768372
                                                        },
                                                        {
                                                            "x": 2405.999999523163,
                                                            "y": 1855.7500004768372
                                                        },
                                                        {
                                                            "x": 2405.999999523163,
                                                            "y": 1810.5000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "compMod": {
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "parent": {
                                                        "bucketName": "public",
                                                        "collectionName": "address",
                                                        "fieldNames": [
                                                            "address_id"
                                                        ]
                                                    },
                                                    "child": {
                                                        "bucketName": "public",
                                                        "collectionName": "customer",
                                                        "fieldNames": [
                                                            "address_id"
                                                        ]
                                                    },
                                                    "isActivated": {
                                                        "old": true,
                                                        "new": true
                                                    }
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "701a9866-7253-490e-be2b-40ee777139e8",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film_actor_actor_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "3b2de996-7ae0-48aa-bc5d-a1c5742389f1",
                                            "role": {
                                                "name": "film_actor_actor_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "f2c0d92e-0768-4439-b2e4-d108a4b66dc9",
                                                        "3e3615e8-56e1-4d2a-844a-ce33ac707540"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "706b2103-2ecc-4c75-a9cc-b5854d9b87c6",
                                                        "77a5978c-a743-4ac9-8221-dc74e5789d3c"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "35c1fd9a-64d4-4b9d-a6a2-cade4633ccea",
                                                "parentCollection": "f2c0d92e-0768-4439-b2e4-d108a4b66dc9",
                                                "childCollection": "706b2103-2ecc-4c75-a9cc-b5854d9b87c6",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "338ce35b-9ea9-42dc-a20c-4334b8d57e93",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1905.8333333333333,
                                                            "y": 1889
                                                        },
                                                        {
                                                            "x": 1905.8333333333333,
                                                            "y": 1861.0000004768372
                                                        },
                                                        {
                                                            "x": 1905.8333333333333,
                                                            "y": 1861.0000004768372
                                                        },
                                                        {
                                                            "x": 1905.8333333333333,
                                                            "y": 1833.0000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "compMod": {
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "parent": {
                                                        "bucketName": "public",
                                                        "collectionName": "actor",
                                                        "fieldNames": [
                                                            "actor_id"
                                                        ]
                                                    },
                                                    "child": {
                                                        "bucketName": "public",
                                                        "collectionName": "film_actor",
                                                        "fieldNames": [
                                                            "actor_id"
                                                        ]
                                                    },
                                                    "isActivated": {
                                                        "old": true,
                                                        "new": true
                                                    }
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "32dd52f8-9c13-4050-bdcc-f8e7f05d6061",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film_actor_film_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "3ead2ac8-dfae-42c6-b9fb-e6d30cc7a222",
                                            "role": {
                                                "name": "film_actor_film_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                        "1929a9b3-c3e2-4a98-bea8-1241fe33de17"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "706b2103-2ecc-4c75-a9cc-b5854d9b87c6",
                                                        "c7c38851-2259-4001-8661-0d408bb08012"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "83879be8-57dd-42ae-8c89-6d55830f67d7",
                                                "parentCollection": "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                "childCollection": "706b2103-2ecc-4c75-a9cc-b5854d9b87c6",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "4ce60c54-123b-41d4-bafa-07b96448de50",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1809.1666666666667,
                                                            "y": 1889
                                                        },
                                                        {
                                                            "x": 1809.1666666666667,
                                                            "y": 1861.0000004768372
                                                        },
                                                        {
                                                            "x": 1628,
                                                            "y": 1861.0000004768372
                                                        },
                                                        {
                                                            "x": 1628,
                                                            "y": 1833.0000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "compMod": {
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "parent": {
                                                        "bucketName": "public",
                                                        "collectionName": "film",
                                                        "fieldNames": [
                                                            "film_id"
                                                        ]
                                                    },
                                                    "child": {
                                                        "bucketName": "public",
                                                        "collectionName": "film_actor",
                                                        "fieldNames": [
                                                            "film_id"
                                                        ]
                                                    },
                                                    "isActivated": {
                                                        "old": true,
                                                        "new": true
                                                    }
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "654c841d-22dd-40aa-ac25-247e833de2c0",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film_category_category_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "e56124a2-a5fa-4e24-9496-89e348991114",
                                            "role": {
                                                "name": "film_category_category_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "5288d4e7-503b-4abd-9303-72eae8476379",
                                                        "74d7881d-e3cc-4f7a-93b6-7c42f132c1ca"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "50bb00c7-637f-4e85-9a39-54c0fbd067ed",
                                                        "7ee63175-bf73-43cb-afde-938e08a0b9e4"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "b7dd8a18-6a44-47af-8eaf-e6acb061b1b2",
                                                "parentCollection": "5288d4e7-503b-4abd-9303-72eae8476379",
                                                "childCollection": "50bb00c7-637f-4e85-9a39-54c0fbd067ed",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "1278bb6e-ed42-4939-a4fc-1b9707ead6c8",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1184,
                                                            "y": 1889
                                                        },
                                                        {
                                                            "x": 1184,
                                                            "y": 1861.0000004768372
                                                        },
                                                        {
                                                            "x": 1184,
                                                            "y": 1861.0000004768372
                                                        },
                                                        {
                                                            "x": 1184,
                                                            "y": 1833.0000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "compMod": {
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "parent": {
                                                        "bucketName": "public",
                                                        "collectionName": "category",
                                                        "fieldNames": [
                                                            "category_id"
                                                        ]
                                                    },
                                                    "child": {
                                                        "bucketName": "public",
                                                        "collectionName": "film_category",
                                                        "fieldNames": [
                                                            "category_id"
                                                        ]
                                                    },
                                                    "isActivated": {
                                                        "old": true,
                                                        "new": true
                                                    }
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "d7bdbee1-130b-46da-83da-5547f0435a7a",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film_category_film_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "62d8b542-f877-4e4c-bea1-656967d1f023",
                                            "role": {
                                                "name": "film_category_film_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                        "1929a9b3-c3e2-4a98-bea8-1241fe33de17"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "50bb00c7-637f-4e85-9a39-54c0fbd067ed",
                                                        "2d53ff77-e354-4a7c-a6fa-6b92a22334b5"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "5f3a7439-69cd-4bb2-902f-2392ba91e61c",
                                                "parentCollection": "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                "childCollection": "50bb00c7-637f-4e85-9a39-54c0fbd067ed",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "2564068d-4f5c-4f93-b87b-a2859750fb2d",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1272,
                                                            "y": 1889
                                                        },
                                                        {
                                                            "x": 1272,
                                                            "y": 1861.0000004768372
                                                        },
                                                        {
                                                            "x": 1448,
                                                            "y": 1861.0000004768372
                                                        },
                                                        {
                                                            "x": 1448,
                                                            "y": 1833.0000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "compMod": {
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "parent": {
                                                        "bucketName": "public",
                                                        "collectionName": "film",
                                                        "fieldNames": [
                                                            "film_id"
                                                        ]
                                                    },
                                                    "child": {
                                                        "bucketName": "public",
                                                        "collectionName": "film_category",
                                                        "fieldNames": [
                                                            "film_id"
                                                        ]
                                                    },
                                                    "isActivated": {
                                                        "old": true,
                                                        "new": true
                                                    }
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "5908ae0e-50f4-4f79-9d40-8f48349ac7ce",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "inventory_film_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "709dfc47-503c-48a8-a718-4e10ea0bbc55",
                                            "role": {
                                                "name": "inventory_film_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                        "1929a9b3-c3e2-4a98-bea8-1241fe33de17"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "0b6571d2-b208-41b1-aaf6-d0d30f81529a",
                                                        "55efea3d-80e9-4caf-aa9f-b87ad88f7629"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "cd01e55f-4b8b-4577-8c17-66e2c2c5e1c9",
                                                "parentCollection": "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                "childCollection": "0b6571d2-b208-41b1-aaf6-d0d30f81529a",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "1bfcd37f-ecc4-4f14-ab6e-8745fa0eccb6",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1538,
                                                            "y": 1952
                                                        },
                                                        {
                                                            "x": 1538,
                                                            "y": 1892.5000004768372
                                                        },
                                                        {
                                                            "x": 1538,
                                                            "y": 1892.5000004768372
                                                        },
                                                        {
                                                            "x": 1538,
                                                            "y": 1833.0000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "compMod": {
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "parent": {
                                                        "bucketName": "public",
                                                        "collectionName": "film",
                                                        "fieldNames": [
                                                            "film_id"
                                                        ]
                                                    },
                                                    "child": {
                                                        "bucketName": "public",
                                                        "collectionName": "inventory",
                                                        "fieldNames": [
                                                            "film_id"
                                                        ]
                                                    },
                                                    "isActivated": {
                                                        "old": true,
                                                        "new": true
                                                    }
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "47deb9d9-32ab-475e-8363-4684f266d789",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "rental_customer_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "2f8e856d-3a7f-4066-82c8-d56d33eedd23",
                                            "role": {
                                                "name": "rental_customer_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "bc4695a0-e219-42e9-9d75-8f4d6c77f038",
                                                        "2bedaf45-30e6-4c10-9984-d24202772582"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "0930ac46-3122-4d4e-8629-d04d45015b60",
                                                        "3a0c6d98-de84-431f-ac9b-ee0e0c6474a5"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "f52b3acd-a183-4d03-b96b-9ae4c2d57dda",
                                                "parentCollection": "bc4695a0-e219-42e9-9d75-8f4d6c77f038",
                                                "childCollection": "0930ac46-3122-4d4e-8629-d04d45015b60",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "7b7c38ca-bca4-4216-9c3b-dda7a2f29e57",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1759.25,
                                                            "y": 2336.9999990463257
                                                        },
                                                        {
                                                            "x": 2063.374999523163,
                                                            "y": 2336.9999990463257
                                                        },
                                                        {
                                                            "x": 2063.374999523163,
                                                            "y": 1971
                                                        },
                                                        {
                                                            "x": 2367.4999990463257,
                                                            "y": 1971
                                                        }
                                                    ],
                                                    "sides": [
                                                        "right",
                                                        "left"
                                                    ]
                                                },
                                                "compMod": {
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "parent": {
                                                        "bucketName": "public",
                                                        "collectionName": "customer",
                                                        "fieldNames": [
                                                            "customer_id"
                                                        ]
                                                    },
                                                    "child": {
                                                        "bucketName": "public",
                                                        "collectionName": "rental",
                                                        "fieldNames": [
                                                            "customer_id"
                                                        ]
                                                    },
                                                    "isActivated": {
                                                        "old": true,
                                                        "new": true
                                                    }
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "4cd1e26a-ed17-42cb-9f10-9d8c4c87e05d",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "rental_inventory_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "bf8262e8-480d-4741-a60b-ea2767d97f45",
                                            "role": {
                                                "name": "rental_inventory_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "0b6571d2-b208-41b1-aaf6-d0d30f81529a",
                                                        "75daa307-e569-44a8-bc17-2cfd58686914"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "0930ac46-3122-4d4e-8629-d04d45015b60",
                                                        "848234d7-d902-4fee-8e9b-d94c910b523a"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "0b1fbbb4-799a-40f8-a0f0-712c284f24ff",
                                                "parentCollection": "0b6571d2-b208-41b1-aaf6-d0d30f81529a",
                                                "childCollection": "0930ac46-3122-4d4e-8629-d04d45015b60",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "4ffbcbaa-c83a-4b59-97ba-27cddff64ae1",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1611.75,
                                                            "y": 2232.9999990463257
                                                        },
                                                        {
                                                            "x": 1611.75,
                                                            "y": 2143.499999523163
                                                        },
                                                        {
                                                            "x": 1538,
                                                            "y": 2143.499999523163
                                                        },
                                                        {
                                                            "x": 1538,
                                                            "y": 2054
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "compMod": {
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "parent": {
                                                        "bucketName": "public",
                                                        "collectionName": "inventory",
                                                        "fieldNames": [
                                                            "inventory_id"
                                                        ]
                                                    },
                                                    "child": {
                                                        "bucketName": "public",
                                                        "collectionName": "rental",
                                                        "fieldNames": [
                                                            "inventory_id"
                                                        ]
                                                    },
                                                    "isActivated": {
                                                        "old": true,
                                                        "new": true
                                                    }
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "59b8bce6-4112-490b-9a2d-520baddbdb85",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "rental_staff_id_key",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "2574bccb-edcf-40b4-bf02-5fc5134f9a9b",
                                            "role": {
                                                "name": "rental_staff_id_key",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "977626c1-66d4-4724-a693-c43f86935b9b",
                                                        "65f2e1a8-93ec-4bea-be10-95d74ba53239"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "0930ac46-3122-4d4e-8629-d04d45015b60",
                                                        "36228c15-f559-4764-800d-52c41cd47925"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "56da40cc-7178-4252-9b45-79b519716868",
                                                "parentCollection": "977626c1-66d4-4724-a693-c43f86935b9b",
                                                "childCollection": "0930ac46-3122-4d4e-8629-d04d45015b60",
                                                "customProperties": {
                                                    "relationshipOnDelete": "NO ACTION",
                                                    "relationshipOnUpdate": "NO ACTION",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "35753977-e597-478a-bedb-dc44495d0ea2",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1759.25,
                                                            "y": 2284.9999990463257
                                                        },
                                                        {
                                                            "x": 1900.875,
                                                            "y": 2284.9999990463257
                                                        },
                                                        {
                                                            "x": 1900.875,
                                                            "y": 1965
                                                        },
                                                        {
                                                            "x": 2042.5,
                                                            "y": 1965
                                                        }
                                                    ],
                                                    "sides": [
                                                        "right",
                                                        "left"
                                                    ]
                                                },
                                                "compMod": {
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "parent": {
                                                        "bucketName": "public",
                                                        "collectionName": "staff",
                                                        "fieldNames": [
                                                            "staff_id"
                                                        ]
                                                    },
                                                    "child": {
                                                        "bucketName": "public",
                                                        "collectionName": "rental",
                                                        "fieldNames": [
                                                            "staff_id"
                                                        ]
                                                    },
                                                    "isActivated": {
                                                        "old": true,
                                                        "new": true
                                                    }
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "8955a8c2-6b01-4d11-802d-8f57e10962cf",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "staff_address_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "a52720d6-42fb-46cc-bae8-fe5f8dac791d",
                                            "role": {
                                                "name": "staff_address_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                        "af25335c-6760-48d3-abb9-55f0b30d0ad4"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "977626c1-66d4-4724-a693-c43f86935b9b",
                                                        "7d5e8889-9855-4bc3-8e82-118ca2829648"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "d457285e-5ff7-4240-934a-ddbcf3016924",
                                                "parentCollection": "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                "childCollection": "977626c1-66d4-4724-a693-c43f86935b9b",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "4c9d309e-92b8-4044-a237-9d1108212ace",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 2176.5,
                                                            "y": 1889
                                                        },
                                                        {
                                                            "x": 2176.5,
                                                            "y": 1849.7500004768372
                                                        },
                                                        {
                                                            "x": 2270.999999523163,
                                                            "y": 1849.7500004768372
                                                        },
                                                        {
                                                            "x": 2270.999999523163,
                                                            "y": 1810.5000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "compMod": {
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "parent": {
                                                        "bucketName": "public",
                                                        "collectionName": "address",
                                                        "fieldNames": [
                                                            "address_id"
                                                        ]
                                                    },
                                                    "child": {
                                                        "bucketName": "public",
                                                        "collectionName": "staff",
                                                        "fieldNames": [
                                                            "address_id"
                                                        ]
                                                    },
                                                    "isActivated": {
                                                        "old": true,
                                                        "new": true
                                                    }
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "f57d87d3-4530-442e-a9e8-d7b0d11cee94",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "payment_customer_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "fc4e669e-025d-4286-9d2f-67ae6498d33b",
                                            "role": {
                                                "name": "payment_customer_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "bc4695a0-e219-42e9-9d75-8f4d6c77f038",
                                                        "2bedaf45-30e6-4c10-9984-d24202772582"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "f05c3a78-8284-4eac-a62a-61a3e04ba553",
                                                        "57bee1ff-9676-453d-b581-6adb95bb0b01"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "a4bbc494-6562-45d2-93b7-6538f55d7030",
                                                "parentCollection": "bc4695a0-e219-42e9-9d75-8f4d6c77f038",
                                                "childCollection": "f05c3a78-8284-4eac-a62a-61a3e04ba553",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "7311410e-caa8-49a9-9240-58577148198c",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1654.2500004768372,
                                                            "y": 2556.9999980926514
                                                        },
                                                        {
                                                            "x": 2010.8749997615814,
                                                            "y": 2556.9999980926514
                                                        },
                                                        {
                                                            "x": 2010.8749997615814,
                                                            "y": 2041
                                                        },
                                                        {
                                                            "x": 2367.4999990463257,
                                                            "y": 2041
                                                        }
                                                    ],
                                                    "sides": [
                                                        "right",
                                                        "left"
                                                    ]
                                                },
                                                "compMod": {
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "parent": {
                                                        "bucketName": "public",
                                                        "collectionName": "customer",
                                                        "fieldNames": [
                                                            "customer_id"
                                                        ]
                                                    },
                                                    "child": {
                                                        "bucketName": "public",
                                                        "collectionName": "payment",
                                                        "fieldNames": [
                                                            "customer_id"
                                                        ]
                                                    },
                                                    "isActivated": {
                                                        "old": true,
                                                        "new": true
                                                    }
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "ea89f41c-8a87-4a98-aba4-1a0df7615f15",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "payment_rental_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "dea8f2f8-8737-460f-9820-94b0b97c094b",
                                            "role": {
                                                "name": "payment_rental_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "0930ac46-3122-4d4e-8629-d04d45015b60",
                                                        "a1414e93-9ecb-4c0d-b00f-e693a984f029"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "f05c3a78-8284-4eac-a62a-61a3e04ba553",
                                                        "7e173ae3-edb0-450d-a7b6-4baf4fd7592e"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "b7838df1-b3cd-4241-a4a6-07f536699620",
                                                "parentCollection": "0930ac46-3122-4d4e-8629-d04d45015b60",
                                                "childCollection": "f05c3a78-8284-4eac-a62a-61a3e04ba553",
                                                "customProperties": {
                                                    "relationshipOnDelete": "SET NULL",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "f7e3f61c-25db-47d9-a8dc-eba783c1b95d",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1508.2500004768372,
                                                            "y": 2464.9999980926514
                                                        },
                                                        {
                                                            "x": 1508.2500004768372,
                                                            "y": 2426.9999985694885
                                                        },
                                                        {
                                                            "x": 1611.75,
                                                            "y": 2426.9999985694885
                                                        },
                                                        {
                                                            "x": 1611.75,
                                                            "y": 2388.9999990463257
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "compMod": {
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "parent": {
                                                        "bucketName": "public",
                                                        "collectionName": "rental",
                                                        "fieldNames": [
                                                            "rental_id"
                                                        ]
                                                    },
                                                    "child": {
                                                        "bucketName": "public",
                                                        "collectionName": "payment",
                                                        "fieldNames": [
                                                            "rental_id"
                                                        ]
                                                    },
                                                    "isActivated": {
                                                        "old": true,
                                                        "new": true
                                                    }
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "b848da45-61f3-4595-a949-fdd52139a244",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "payment_staff_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "cd27ddfb-cba5-47e7-95ac-9138c589198e",
                                            "role": {
                                                "name": "payment_staff_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "977626c1-66d4-4724-a693-c43f86935b9b",
                                                        "65f2e1a8-93ec-4bea-be10-95d74ba53239"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "f05c3a78-8284-4eac-a62a-61a3e04ba553",
                                                        "891afaa2-d334-412a-a844-1143286828d5"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "0c47fa9c-5b12-4f64-95cb-a9b543c961c2",
                                                "parentCollection": "977626c1-66d4-4724-a693-c43f86935b9b",
                                                "childCollection": "f05c3a78-8284-4eac-a62a-61a3e04ba553",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "8251f439-dd47-49d6-b04f-35ae4753485c",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1654.2500004768372,
                                                            "y": 2510.9999980926514
                                                        },
                                                        {
                                                            "x": 1848.3750002384186,
                                                            "y": 2510.9999980926514
                                                        },
                                                        {
                                                            "x": 1848.3750002384186,
                                                            "y": 2041
                                                        },
                                                        {
                                                            "x": 2042.5,
                                                            "y": 2041
                                                        }
                                                    ],
                                                    "sides": [
                                                        "right",
                                                        "left"
                                                    ]
                                                },
                                                "compMod": {
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "parent": {
                                                        "bucketName": "public",
                                                        "collectionName": "staff",
                                                        "fieldNames": [
                                                            "staff_id"
                                                        ]
                                                    },
                                                    "child": {
                                                        "bucketName": "public",
                                                        "collectionName": "payment",
                                                        "fieldNames": [
                                                            "staff_id"
                                                        ]
                                                    },
                                                    "isActivated": {
                                                        "old": true,
                                                        "new": true
                                                    }
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "1ca6c1ac-6d00-41e2-b994-c23b12608be9",
                                    "arrayItem": true
                                }
                            ],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "ccef4716-bcfe-4507-8db1-74c6531ad109"
                        }
                    ],
                    "childType": "object",
                    "type": "document",
                    "compositeKey": [
                        "compositePartitionKey",
                        "compositePrimaryKey",
                        "compositeUniqueKey",
                        "triggerUpdateColumns"
                    ],
                    "compositePartitionKey": false,
                    "compositePrimaryKey": false,
                    "compositeUniqueKey": false,
                    "triggerUpdateColumns": false,
                    "GUID": "40f80381-ae87-4d43-83a1-ca935bffec4f"
                },
                {
                    "name": "views",
                    "hackoladeMeta": {},
                    "isActivated": true,
                    "primaryKey": false,
                    "unique": false,
                    "subtype": "object",
                    "properties": [
                        {
                            "name": "added",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "ba0cac20-89c4-46b5-a211-ade32d51861b"
                        },
                        {
                            "name": "deleted",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "68e7949f-5f73-43fd-b8cb-5f42123a5501"
                        },
                        {
                            "name": "modified",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "actor_info",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "9a640175-147b-4cd4-8072-b7c87ca4382a",
                                            "role": {
                                                "name": "actor_info",
                                                "code": "",
                                                "isActivated": true,
                                                "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                "orReplace": false,
                                                "temporary": false,
                                                "recursive": false,
                                                "viewOptions": {
                                                    "GUID": "32e94e27-25a4-49d5-87ef-3c3772193970"
                                                },
                                                "selectStatement": "SELECT a.actor_id,\n    a.first_name,\n    a.last_name,\n    group_concat(DISTINCT (((c.name)::text || ': '::text) || ( SELECT group_concat((f.title)::text) AS group_concat\n           FROM ((film f\n             JOIN film_category fc_1 ON ((f.film_id = fc_1.film_id)))\n             JOIN film_actor fa_1 ON ((f.film_id = fa_1.film_id)))\n          WHERE ((fc_1.category_id = c.category_id) AND (fa_1.actor_id = a.actor_id))\n          GROUP BY fa_1.actor_id))) AS film_info\n   FROM (((actor a\n     LEFT JOIN film_actor fa ON ((a.actor_id = fa.actor_id)))\n     LEFT JOIN film_category fc ON ((fa.film_id = fc.film_id)))\n     LEFT JOIN category c ON ((fc.category_id = c.category_id)))\n  GROUP BY a.actor_id, a.first_name, a.last_name",
                                                "withCheckOption": false,
                                                "viewOn": "f2c0d92e-0768-4439-b2e4-d108a4b66dc9",
                                                "triggers": [],
                                                "type": "object",
                                                "properties": [
                                                    {
                                                        "code": "",
                                                        "name": "actor_id",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/actor/actor_id",
                                                        "GUID": "39704e65-3386-44d1-8bbd-42c66c19b6b8",
                                                        "refIdPath": [
                                                            "f2c0d92e-0768-4439-b2e4-d108a4b66dc9",
                                                            "3e3615e8-56e1-4d2a-844a-ce33ac707540"
                                                        ],
                                                        "ref": "3e3615e8-56e1-4d2a-844a-ce33ac707540",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "first_name",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/actor/first_name",
                                                        "GUID": "65f12a07-28dd-4cfb-b99c-c3d34cb22799",
                                                        "refIdPath": [
                                                            "f2c0d92e-0768-4439-b2e4-d108a4b66dc9",
                                                            "7057ab47-554a-4f61-87b3-a06c0e62d6d1"
                                                        ],
                                                        "ref": "7057ab47-554a-4f61-87b3-a06c0e62d6d1",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "last_name",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/actor/last_name",
                                                        "GUID": "c1c410e3-22cd-4018-930e-9723b0399a10",
                                                        "refIdPath": [
                                                            "f2c0d92e-0768-4439-b2e4-d108a4b66dc9",
                                                            "c5a272b6-4da0-4052-bc36-9bc764604005"
                                                        ],
                                                        "ref": "c5a272b6-4da0-4052-bc36-9bc764604005",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "film_info",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/actor/film_info",
                                                        "GUID": "577df7d2-6bc8-4c78-bcaf-1fed68a64ced",
                                                        "refIdPath": [],
                                                        "error": {}
                                                    }
                                                ],
                                                "GUID": "122e7e7e-335e-430d-8d98-e709675f10b7",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "name": {
                                                        "new": "actor_info",
                                                        "old": "actor_info"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "viewOptions": {
                                                        "new": {
                                                            "GUID": "32e94e27-25a4-49d5-87ef-3c3772193970"
                                                        }
                                                    },
                                                    "selectStatement": {
                                                        "new": "SELECT a.actor_id,\n    a.first_name,\n    a.last_name,\n    group_concat(DISTINCT (((c.name)::text || ': '::text) || ( SELECT group_concat((f.title)::text) AS group_concat\n           FROM ((film f\n             JOIN film_category fc_1 ON ((f.film_id = fc_1.film_id)))\n             JOIN film_actor fa_1 ON ((f.film_id = fa_1.film_id)))\n          WHERE ((fc_1.category_id = c.category_id) AND (fa_1.actor_id = a.actor_id))\n          GROUP BY fa_1.actor_id))) AS film_info\n   FROM (((actor a\n     LEFT JOIN film_actor fa ON ((a.actor_id = fa.actor_id)))\n     LEFT JOIN film_category fc ON ((fa.film_id = fc.film_id)))\n     LEFT JOIN category c ON ((fc.category_id = c.category_id)))\n  GROUP BY a.actor_id, a.first_name, a.last_name"
                                                    },
                                                    "viewOn": {
                                                        "new": "f2c0d92e-0768-4439-b2e4-d108a4b66dc9",
                                                        "old": "598d6c54-2278-4e16-9776-ff10b7fc0049"
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "6031f9e9-f39e-408b-8db4-749873a39ef6": "actor_info",
                                                        "80113a54-e68f-4bfe-b035-0b09a960a5ca": "actor_id",
                                                        "d8d60f40-ebf3-4fe8-b654-6d3e895ce783": "first_name",
                                                        "8e847f04-50a7-4285-9cb3-140f240e50f5": "last_name",
                                                        "6ab4bdca-2f10-45c4-b0cc-4f1900a7b0bb": "film_info"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "122e7e7e-335e-430d-8d98-e709675f10b7": "actor_info",
                                                        "39704e65-3386-44d1-8bbd-42c66c19b6b8": "actor_id",
                                                        "65f12a07-28dd-4cfb-b99c-c3d34cb22799": "first_name",
                                                        "c1c410e3-22cd-4018-930e-9723b0399a10": "last_name",
                                                        "577df7d2-6bc8-4c78-bcaf-1fed68a64ced": "film_info"
                                                    },
                                                    "collectionData": {
                                                        "collectionRefsDefinitionsMap": {
                                                            "39704e65-3386-44d1-8bbd-42c66c19b6b8": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "actor",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "70a2e6b2-27e6-4821-b8b5-62901199fc14",
                                                                                "indxName": "actor_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "3e3615e8-56e1-4d2a-844a-ce33ac707540",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "f8c59595-da17-4d86-a338-02300e832090",
                                                                                "indxName": "idx_actor_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c5a272b6-4da0-4052-bc36-9bc764604005",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "89f31f92-c684-4148-8ef7-eed4fee54222",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "e0ee5c88-8424-4623-b851-ea21ea758167",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "3e3615e8-56e1-4d2a-844a-ce33ac707540",
                                                                "name": "actor_id",
                                                                "definition": {
                                                                    "name": "actor_id",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "integer",
                                                                    "precision": 32,
                                                                    "scale": 0,
                                                                    "required": true,
                                                                    "default": "nextval('actor_actor_id_seq'::regclass)",
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": true,
                                                                    "primaryKeyOptions": [
                                                                        {
                                                                            "constraintName": "actor_pkey",
                                                                            "indexStorageParameters": "",
                                                                            "indexTablespace": null,
                                                                            "GUID": "f3ce71e2-79cd-4169-b849-5cb60d50c13e"
                                                                        }
                                                                    ],
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "65f12a07-28dd-4cfb-b99c-c3d34cb22799": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "actor",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "70a2e6b2-27e6-4821-b8b5-62901199fc14",
                                                                                "indxName": "actor_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "3e3615e8-56e1-4d2a-844a-ce33ac707540",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "f8c59595-da17-4d86-a338-02300e832090",
                                                                                "indxName": "idx_actor_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c5a272b6-4da0-4052-bc36-9bc764604005",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "89f31f92-c684-4148-8ef7-eed4fee54222",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "e0ee5c88-8424-4623-b851-ea21ea758167",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "7057ab47-554a-4f61-87b3-a06c0e62d6d1",
                                                                "name": "first_name",
                                                                "definition": {
                                                                    "name": "first_name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 45,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "c1c410e3-22cd-4018-930e-9723b0399a10": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "actor",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "70a2e6b2-27e6-4821-b8b5-62901199fc14",
                                                                                "indxName": "actor_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "3e3615e8-56e1-4d2a-844a-ce33ac707540",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "f8c59595-da17-4d86-a338-02300e832090",
                                                                                "indxName": "idx_actor_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c5a272b6-4da0-4052-bc36-9bc764604005",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "89f31f92-c684-4148-8ef7-eed4fee54222",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "e0ee5c88-8424-4623-b851-ea21ea758167",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "c5a272b6-4da0-4052-bc36-9bc764604005",
                                                                "name": "last_name",
                                                                "definition": {
                                                                    "name": "last_name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 45,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "577df7d2-6bc8-4c78-bcaf-1fed68a64ced": {
                                                                "bucket": [
                                                                    {},
                                                                    {},
                                                                    {},
                                                                    {}
                                                                ],
                                                                "collection": [
                                                                    {},
                                                                    {},
                                                                    {},
                                                                    {},
                                                                    {},
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definition": {}
                                                            }
                                                        },
                                                        "entityData": [
                                                            {
                                                                "collectionName": "actor",
                                                                "code": "",
                                                                "isActivated": true,
                                                                "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                "additionalProperties": true,
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "ifNotExist": true,
                                                                "inherits": [],
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default"
                                                            },
                                                            {
                                                                "primaryKey": [],
                                                                "uniqueKey": []
                                                            },
                                                            {
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "70a2e6b2-27e6-4821-b8b5-62901199fc14",
                                                                        "indxName": "actor_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "3e3615e8-56e1-4d2a-844a-ce33ac707540",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "f8c59595-da17-4d86-a338-02300e832090",
                                                                        "indxName": "idx_actor_last_name",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "c5a272b6-4da0-4052-bc36-9bc764604005",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": "pg_catalog.\"default\"",
                                                                                "opclass": "pg_catalog.text_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "chkConstr": []
                                                            },
                                                            {
                                                                "triggers": [
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "89f31f92-c684-4148-8ef7-eed4fee54222",
                                                                        "name": "last_updated",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "e0ee5c88-8424-4623-b851-ea21ea758167",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "last_updated()"
                                                                    }
                                                                ]
                                                            },
                                                            {},
                                                            {}
                                                        ],
                                                        "relatedSchemas": {},
                                                        "relatedContainers": {}
                                                    }
                                                },
                                                "roleType": "view"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "7ea83ba7-8674-433c-b39d-58bb1738314c",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "customer_list",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "c1a0e942-ac6c-4d4a-810e-fae924cbc2ea",
                                            "role": {
                                                "name": "customer_list",
                                                "code": "",
                                                "isActivated": true,
                                                "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                "orReplace": false,
                                                "temporary": false,
                                                "recursive": false,
                                                "viewOptions": {
                                                    "GUID": "6ccd1c7d-02da-4753-8984-af47d9ae03b6"
                                                },
                                                "selectStatement": "SELECT cu.customer_id AS id,\n    (((cu.first_name)::text || ' '::text) || (cu.last_name)::text) AS name,\n    a.address,\n    a.postal_code AS \"zip code\",\n    a.phone,\n    city.city,\n    country.country,\n        CASE\n            WHEN cu.activebool THEN 'active'::text\n            ELSE ''::text\n        END AS notes,\n    cu.store_id AS sid\n   FROM (((customer cu\n     JOIN address a ON ((cu.address_id = a.address_id)))\n     JOIN city ON ((a.city_id = city.city_id)))\n     JOIN country ON ((city.country_id = country.country_id)))",
                                                "withCheckOption": false,
                                                "viewOn": "bc4695a0-e219-42e9-9d75-8f4d6c77f038",
                                                "triggers": [],
                                                "type": "object",
                                                "properties": [
                                                    {
                                                        "code": "",
                                                        "name": "id",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/customer/customer_id",
                                                        "GUID": "4a05dd8a-f229-4043-b2ce-4ffa749bf197",
                                                        "refIdPath": [
                                                            "bc4695a0-e219-42e9-9d75-8f4d6c77f038",
                                                            "2bedaf45-30e6-4c10-9984-d24202772582"
                                                        ],
                                                        "ref": "2bedaf45-30e6-4c10-9984-d24202772582",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "name",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/customer/first_name",
                                                        "GUID": "472bd1a0-b54d-40b8-af3d-dfc4163fe2d0",
                                                        "refIdPath": [
                                                            "bc4695a0-e219-42e9-9d75-8f4d6c77f038",
                                                            "72caa33f-c5d1-4306-a1f6-ba6db1ac2299"
                                                        ],
                                                        "ref": "72caa33f-c5d1-4306-a1f6-ba6db1ac2299",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "address",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/address/address",
                                                        "GUID": "65786076-c9c2-43b9-a09c-2664ed3fbfec",
                                                        "refIdPath": [
                                                            "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                            "aaf3c8d1-0fee-4851-8fa2-cca5a9e7a752"
                                                        ],
                                                        "ref": "aaf3c8d1-0fee-4851-8fa2-cca5a9e7a752",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "zip code",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/address/postal_code",
                                                        "GUID": "a686eb9d-cc32-40cc-9d46-be1e878245b9",
                                                        "refIdPath": [
                                                            "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                            "6c9067ab-beb6-4203-b2ee-ed9436a79948"
                                                        ],
                                                        "ref": "6c9067ab-beb6-4203-b2ee-ed9436a79948",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "phone",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/address/phone",
                                                        "GUID": "27c432d8-870a-4545-86e8-ebf599c811eb",
                                                        "refIdPath": [
                                                            "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                            "42fa149e-69dd-488a-82e8-bc09ef988f6e"
                                                        ],
                                                        "ref": "42fa149e-69dd-488a-82e8-bc09ef988f6e",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "city",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/city/city",
                                                        "GUID": "b4ec2a16-67e5-4cc0-bc46-287378046916",
                                                        "refIdPath": [
                                                            "9acec0ee-8817-446e-8ff3-6f3b1929fa3a",
                                                            "2339b2d2-4aee-4ab1-b9c9-e7a02e036ac2"
                                                        ],
                                                        "ref": "2339b2d2-4aee-4ab1-b9c9-e7a02e036ac2",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "country",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/country/country",
                                                        "GUID": "d6405a48-427b-4759-a919-ae732c02d5b6",
                                                        "refIdPath": [
                                                            "9523c3ce-3481-4a12-8de9-e9866d52580a",
                                                            "49cf0699-22aa-4d8d-ac7c-bc0742e793c2"
                                                        ],
                                                        "ref": "49cf0699-22aa-4d8d-ac7c-bc0742e793c2",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "notes",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/customer/activebool",
                                                        "GUID": "f83998a6-521f-495a-a117-d29fbe943ffb",
                                                        "refIdPath": [
                                                            "bc4695a0-e219-42e9-9d75-8f4d6c77f038",
                                                            "318b2115-33ea-4fd5-9d8b-c9405dfd657b"
                                                        ],
                                                        "ref": "318b2115-33ea-4fd5-9d8b-c9405dfd657b",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "sid",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/customer/store_id",
                                                        "GUID": "e563d08c-ae1b-4a0d-a98d-442c2fc17ac7",
                                                        "refIdPath": [
                                                            "bc4695a0-e219-42e9-9d75-8f4d6c77f038",
                                                            "94e066ab-5b27-43a3-9286-446617f15916"
                                                        ],
                                                        "ref": "94e066ab-5b27-43a3-9286-446617f15916",
                                                        "error": {}
                                                    }
                                                ],
                                                "GUID": "ca8db3b3-4d89-4314-be21-34de49147ae1",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "name": {
                                                        "new": "customer_list",
                                                        "old": "customer_list"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "viewOptions": {
                                                        "new": {
                                                            "GUID": "6ccd1c7d-02da-4753-8984-af47d9ae03b6"
                                                        }
                                                    },
                                                    "selectStatement": {
                                                        "new": "SELECT cu.customer_id AS id,\n    (((cu.first_name)::text || ' '::text) || (cu.last_name)::text) AS name,\n    a.address,\n    a.postal_code AS \"zip code\",\n    a.phone,\n    city.city,\n    country.country,\n        CASE\n            WHEN cu.activebool THEN 'active'::text\n            ELSE ''::text\n        END AS notes,\n    cu.store_id AS sid\n   FROM (((customer cu\n     JOIN address a ON ((cu.address_id = a.address_id)))\n     JOIN city ON ((a.city_id = city.city_id)))\n     JOIN country ON ((city.country_id = country.country_id)))"
                                                    },
                                                    "viewOn": {
                                                        "new": "bc4695a0-e219-42e9-9d75-8f4d6c77f038",
                                                        "old": "9ffbb409-fe3e-425b-91b7-c63908114dac"
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "8e64d6b2-7304-4cd3-9fea-9396f39e4ff3": "customer_list",
                                                        "d634ba9f-baba-4319-8e1b-dd23f2507936": "id",
                                                        "20c79e40-c8f5-406a-b4f1-86655b740c2a": "name",
                                                        "91ac79d3-3749-4af7-8809-20964afb850a": "address",
                                                        "14b53a1e-8519-4fb2-924f-6ed67ea963e9": "zip code",
                                                        "f3273b75-8afc-4dc1-8a9e-515cb1f60a37": "phone",
                                                        "d31047ff-1df8-4748-9a25-7f12750a0793": "city",
                                                        "6b1f8140-0a2b-4299-a39c-4067c3c44449": "country",
                                                        "8240aff1-2987-4bc7-9bc5-c01ed4cb9c4e": "notes",
                                                        "f0ba43cc-b263-4779-bbe9-ad7f1d78e2e5": "sid"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "ca8db3b3-4d89-4314-be21-34de49147ae1": "customer_list",
                                                        "4a05dd8a-f229-4043-b2ce-4ffa749bf197": "id",
                                                        "472bd1a0-b54d-40b8-af3d-dfc4163fe2d0": "name",
                                                        "65786076-c9c2-43b9-a09c-2664ed3fbfec": "address",
                                                        "a686eb9d-cc32-40cc-9d46-be1e878245b9": "zip code",
                                                        "27c432d8-870a-4545-86e8-ebf599c811eb": "phone",
                                                        "b4ec2a16-67e5-4cc0-bc46-287378046916": "city",
                                                        "d6405a48-427b-4759-a919-ae732c02d5b6": "country",
                                                        "f83998a6-521f-495a-a117-d29fbe943ffb": "notes",
                                                        "e563d08c-ae1b-4a0d-a98d-442c2fc17ac7": "sid"
                                                    },
                                                    "collectionData": {
                                                        "collectionRefsDefinitionsMap": {
                                                            "4a05dd8a-f229-4043-b2ce-4ffa749bf197": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "customer",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "c7bb4331-7269-4c8e-8ab4-ee28b7f32376",
                                                                                "indxName": "customer_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "2bedaf45-30e6-4c10-9984-d24202772582",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "9b196616-ad8a-49d9-9f32-2e34f79b16d0",
                                                                                "indxName": "idx_fk_address_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "ca148704-fa09-454f-a353-d42e25e538c4",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "006bba4a-a82d-4522-9d78-82395ff7fa9d",
                                                                                "indxName": "idx_fk_store_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "94e066ab-5b27-43a3-9286-446617f15916",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6aa902cf-aaef-4cfb-9e06-740aa0356577",
                                                                                "indxName": "idx_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "4ee52b98-e2ed-48d5-910c-ce699757e9b4",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "ac2568ee-8800-42d4-b081-016dacde0251",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "09886e36-2f46-4ed4-8e2d-2521f0050aa5",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "2bedaf45-30e6-4c10-9984-d24202772582",
                                                                "name": "customer_id",
                                                                "definition": {
                                                                    "name": "customer_id",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "integer",
                                                                    "precision": 32,
                                                                    "scale": 0,
                                                                    "required": true,
                                                                    "default": "nextval('customer_customer_id_seq'::regclass)",
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": true,
                                                                    "primaryKeyOptions": [
                                                                        {
                                                                            "constraintName": "customer_pkey",
                                                                            "indexStorageParameters": "",
                                                                            "indexTablespace": null,
                                                                            "GUID": "fbe0f64f-5383-46bb-aeaf-789b4867bb5d"
                                                                        }
                                                                    ],
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "472bd1a0-b54d-40b8-af3d-dfc4163fe2d0": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "customer",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "c7bb4331-7269-4c8e-8ab4-ee28b7f32376",
                                                                                "indxName": "customer_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "2bedaf45-30e6-4c10-9984-d24202772582",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "9b196616-ad8a-49d9-9f32-2e34f79b16d0",
                                                                                "indxName": "idx_fk_address_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "ca148704-fa09-454f-a353-d42e25e538c4",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "006bba4a-a82d-4522-9d78-82395ff7fa9d",
                                                                                "indxName": "idx_fk_store_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "94e066ab-5b27-43a3-9286-446617f15916",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6aa902cf-aaef-4cfb-9e06-740aa0356577",
                                                                                "indxName": "idx_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "4ee52b98-e2ed-48d5-910c-ce699757e9b4",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "ac2568ee-8800-42d4-b081-016dacde0251",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "09886e36-2f46-4ed4-8e2d-2521f0050aa5",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "72caa33f-c5d1-4306-a1f6-ba6db1ac2299",
                                                                "name": "first_name",
                                                                "definition": {
                                                                    "name": "first_name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 45,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "65786076-c9c2-43b9-a09c-2664ed3fbfec": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "address",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "47273ac7-e2cf-4d15-be47-bc6348b104a2",
                                                                                "indxName": "address_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "af25335c-6760-48d3-abb9-55f0b30d0ad4",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "ec71afe8-5b11-4ea8-9556-7493a420db71",
                                                                                "indxName": "idx_fk_city_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "ab8503f4-e1ab-4c12-b289-d89d61e443bd",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "e3153252-d2ac-452b-a19d-b7e8aa526eb9",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "c0ac543b-0b66-4921-a7e0-6ff2c01c9839",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "aaf3c8d1-0fee-4851-8fa2-cca5a9e7a752",
                                                                "name": "address",
                                                                "definition": {
                                                                    "name": "address",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 50,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "a686eb9d-cc32-40cc-9d46-be1e878245b9": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "address",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "47273ac7-e2cf-4d15-be47-bc6348b104a2",
                                                                                "indxName": "address_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "af25335c-6760-48d3-abb9-55f0b30d0ad4",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "ec71afe8-5b11-4ea8-9556-7493a420db71",
                                                                                "indxName": "idx_fk_city_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "ab8503f4-e1ab-4c12-b289-d89d61e443bd",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "e3153252-d2ac-452b-a19d-b7e8aa526eb9",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "c0ac543b-0b66-4921-a7e0-6ff2c01c9839",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "6c9067ab-beb6-4203-b2ee-ed9436a79948",
                                                                "name": "postal_code",
                                                                "definition": {
                                                                    "name": "postal_code",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 10,
                                                                    "required": false,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "27c432d8-870a-4545-86e8-ebf599c811eb": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "address",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "47273ac7-e2cf-4d15-be47-bc6348b104a2",
                                                                                "indxName": "address_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "af25335c-6760-48d3-abb9-55f0b30d0ad4",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "ec71afe8-5b11-4ea8-9556-7493a420db71",
                                                                                "indxName": "idx_fk_city_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "ab8503f4-e1ab-4c12-b289-d89d61e443bd",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "e3153252-d2ac-452b-a19d-b7e8aa526eb9",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "c0ac543b-0b66-4921-a7e0-6ff2c01c9839",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "42fa149e-69dd-488a-82e8-bc09ef988f6e",
                                                                "name": "phone",
                                                                "definition": {
                                                                    "name": "phone",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 20,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "b4ec2a16-67e5-4cc0-bc46-287378046916": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "city",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "d78a72c2-c66c-4937-991b-5df5c18edccb",
                                                                                "indxName": "city_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "720d157f-0416-41fe-91c3-b3e066b1d762",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "25ed5f14-85b7-444c-8d83-4d4a28c73a44",
                                                                                "indxName": "idx_fk_country_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "1ebcce57-acb5-49aa-9985-d81c16aad78c",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "c3469578-a312-45cc-9452-49b7e0a47c90",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "d65d715d-e76a-46c8-b75b-442d1156080e",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "2339b2d2-4aee-4ab1-b9c9-e7a02e036ac2",
                                                                "name": "city",
                                                                "definition": {
                                                                    "name": "city",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 50,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "d6405a48-427b-4759-a919-ae732c02d5b6": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "country",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b5caf785-cabe-48d5-8e5f-ab8da1102a7f",
                                                                                "indxName": "country_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "d3eaeb13-44d5-419f-96cd-69abbdc67f21",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "6ac07f62-52fd-4d77-95d7-c8af8e57851a",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "95750d9a-8cda-4e77-81c0-d258041a4f60",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "49cf0699-22aa-4d8d-ac7c-bc0742e793c2",
                                                                "name": "country",
                                                                "definition": {
                                                                    "name": "country",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 50,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "f83998a6-521f-495a-a117-d29fbe943ffb": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "customer",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "c7bb4331-7269-4c8e-8ab4-ee28b7f32376",
                                                                                "indxName": "customer_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "2bedaf45-30e6-4c10-9984-d24202772582",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "9b196616-ad8a-49d9-9f32-2e34f79b16d0",
                                                                                "indxName": "idx_fk_address_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "ca148704-fa09-454f-a353-d42e25e538c4",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "006bba4a-a82d-4522-9d78-82395ff7fa9d",
                                                                                "indxName": "idx_fk_store_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "94e066ab-5b27-43a3-9286-446617f15916",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6aa902cf-aaef-4cfb-9e06-740aa0356577",
                                                                                "indxName": "idx_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "4ee52b98-e2ed-48d5-910c-ce699757e9b4",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "ac2568ee-8800-42d4-b081-016dacde0251",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "09886e36-2f46-4ed4-8e2d-2521f0050aa5",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "318b2115-33ea-4fd5-9d8b-c9405dfd657b",
                                                                "name": "activebool",
                                                                "definition": {
                                                                    "name": "activebool",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "boolean",
                                                                    "required": true,
                                                                    "default": "true"
                                                                }
                                                            },
                                                            "e563d08c-ae1b-4a0d-a98d-442c2fc17ac7": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "customer",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "c7bb4331-7269-4c8e-8ab4-ee28b7f32376",
                                                                                "indxName": "customer_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "2bedaf45-30e6-4c10-9984-d24202772582",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "9b196616-ad8a-49d9-9f32-2e34f79b16d0",
                                                                                "indxName": "idx_fk_address_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "ca148704-fa09-454f-a353-d42e25e538c4",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "006bba4a-a82d-4522-9d78-82395ff7fa9d",
                                                                                "indxName": "idx_fk_store_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "94e066ab-5b27-43a3-9286-446617f15916",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6aa902cf-aaef-4cfb-9e06-740aa0356577",
                                                                                "indxName": "idx_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "4ee52b98-e2ed-48d5-910c-ce699757e9b4",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "ac2568ee-8800-42d4-b081-016dacde0251",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "09886e36-2f46-4ed4-8e2d-2521f0050aa5",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "94e066ab-5b27-43a3-9286-446617f15916",
                                                                "name": "store_id",
                                                                "definition": {
                                                                    "name": "store_id",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "smallint",
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            }
                                                        },
                                                        "entityData": [
                                                            {
                                                                "collectionName": "customer",
                                                                "code": "",
                                                                "isActivated": true,
                                                                "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                "additionalProperties": true,
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "ifNotExist": true,
                                                                "inherits": [],
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default"
                                                            },
                                                            {
                                                                "primaryKey": [],
                                                                "uniqueKey": []
                                                            },
                                                            {
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "c7bb4331-7269-4c8e-8ab4-ee28b7f32376",
                                                                        "indxName": "customer_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "2bedaf45-30e6-4c10-9984-d24202772582",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "9b196616-ad8a-49d9-9f32-2e34f79b16d0",
                                                                        "indxName": "idx_fk_address_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "ca148704-fa09-454f-a353-d42e25e538c4",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "006bba4a-a82d-4522-9d78-82395ff7fa9d",
                                                                        "indxName": "idx_fk_store_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "94e066ab-5b27-43a3-9286-446617f15916",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "6aa902cf-aaef-4cfb-9e06-740aa0356577",
                                                                        "indxName": "idx_last_name",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "4ee52b98-e2ed-48d5-910c-ce699757e9b4",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": "pg_catalog.\"default\"",
                                                                                "opclass": "pg_catalog.text_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "chkConstr": []
                                                            },
                                                            {
                                                                "triggers": [
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "ac2568ee-8800-42d4-b081-016dacde0251",
                                                                        "name": "last_updated",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "09886e36-2f46-4ed4-8e2d-2521f0050aa5",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "last_updated()"
                                                                    }
                                                                ]
                                                            },
                                                            {},
                                                            {}
                                                        ],
                                                        "relatedSchemas": {},
                                                        "relatedContainers": {}
                                                    }
                                                },
                                                "roleType": "view"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "b32da8c8-f444-4813-a50f-4317a64df482",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film_list",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "a499fb91-eae7-4f3b-8e79-11e276ae0119",
                                            "role": {
                                                "name": "film_list",
                                                "code": "",
                                                "isActivated": true,
                                                "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                "orReplace": false,
                                                "temporary": false,
                                                "recursive": false,
                                                "viewOptions": {
                                                    "GUID": "9998ea33-337c-4ec1-8820-6732ef4fcf7f"
                                                },
                                                "selectStatement": "SELECT film.film_id AS fid,\n    film.title,\n    film.description,\n    category.name AS category,\n    film.rental_rate AS price,\n    film.length,\n    film.rating,\n    group_concat((((actor.first_name)::text || ' '::text) || (actor.last_name)::text)) AS actors\n   FROM ((((category\n     LEFT JOIN film_category ON ((category.category_id = film_category.category_id)))\n     LEFT JOIN film ON ((film_category.film_id = film.film_id)))\n     JOIN film_actor ON ((film.film_id = film_actor.film_id)))\n     JOIN actor ON ((film_actor.actor_id = actor.actor_id)))\n  GROUP BY film.film_id, film.title, film.description, category.name, film.rental_rate, film.length, film.rating",
                                                "withCheckOption": false,
                                                "viewOn": "5288d4e7-503b-4abd-9303-72eae8476379",
                                                "triggers": [],
                                                "type": "object",
                                                "properties": [
                                                    {
                                                        "code": "",
                                                        "name": "fid",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/film_id",
                                                        "GUID": "a5834cf7-781a-446a-907a-72940bf3d823",
                                                        "refIdPath": [
                                                            "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                            "1929a9b3-c3e2-4a98-bea8-1241fe33de17"
                                                        ],
                                                        "ref": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "title",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/title",
                                                        "GUID": "43a1563d-f4ef-45ef-85f8-f8772ca81e7d",
                                                        "refIdPath": [
                                                            "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                            "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0"
                                                        ],
                                                        "ref": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "description",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/description",
                                                        "GUID": "75584446-17b4-4ffc-947c-6fd82ca791c5",
                                                        "refIdPath": [
                                                            "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                            "1a4553d6-14e3-4746-9e98-dedb2a099b00"
                                                        ],
                                                        "ref": "1a4553d6-14e3-4746-9e98-dedb2a099b00",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "category",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/category/name",
                                                        "GUID": "f743740e-8887-4ff8-a967-a75925186073",
                                                        "refIdPath": [
                                                            "5288d4e7-503b-4abd-9303-72eae8476379",
                                                            "da51a15d-dc9c-439d-aa2d-1fe6cfc979a6"
                                                        ],
                                                        "ref": "da51a15d-dc9c-439d-aa2d-1fe6cfc979a6",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "price",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/rental_rate",
                                                        "GUID": "7b280278-c7c1-47da-869b-8434acaf94d1",
                                                        "refIdPath": [
                                                            "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                            "66bb2149-7561-42a7-8510-d1d92e261d30"
                                                        ],
                                                        "ref": "66bb2149-7561-42a7-8510-d1d92e261d30",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "length",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/length",
                                                        "GUID": "c01210b3-3953-4606-b820-4ed09b499ec7",
                                                        "refIdPath": [
                                                            "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                            "5351d304-4c22-4578-b7c5-4c7a4831c4e7"
                                                        ],
                                                        "ref": "5351d304-4c22-4578-b7c5-4c7a4831c4e7",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "rating",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/rating",
                                                        "GUID": "04266031-4132-49c5-9f74-2525e96c6fee",
                                                        "refIdPath": [
                                                            "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                            "16c8cca0-5b9b-4210-ba41-b3eaf0d86395"
                                                        ],
                                                        "ref": "16c8cca0-5b9b-4210-ba41-b3eaf0d86395",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "actors",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/actor/first_name",
                                                        "GUID": "4b2cc544-8f5b-42f9-a01f-39b23cc54c7f",
                                                        "refIdPath": [
                                                            "f2c0d92e-0768-4439-b2e4-d108a4b66dc9",
                                                            "7057ab47-554a-4f61-87b3-a06c0e62d6d1"
                                                        ],
                                                        "ref": "7057ab47-554a-4f61-87b3-a06c0e62d6d1",
                                                        "error": {}
                                                    }
                                                ],
                                                "GUID": "2ba90d68-61df-4d49-817c-8141eb6a2b0d",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "name": {
                                                        "new": "film_list",
                                                        "old": "film_list"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "viewOptions": {
                                                        "new": {
                                                            "GUID": "9998ea33-337c-4ec1-8820-6732ef4fcf7f"
                                                        }
                                                    },
                                                    "selectStatement": {
                                                        "new": "SELECT film.film_id AS fid,\n    film.title,\n    film.description,\n    category.name AS category,\n    film.rental_rate AS price,\n    film.length,\n    film.rating,\n    group_concat((((actor.first_name)::text || ' '::text) || (actor.last_name)::text)) AS actors\n   FROM ((((category\n     LEFT JOIN film_category ON ((category.category_id = film_category.category_id)))\n     LEFT JOIN film ON ((film_category.film_id = film.film_id)))\n     JOIN film_actor ON ((film.film_id = film_actor.film_id)))\n     JOIN actor ON ((film_actor.actor_id = actor.actor_id)))\n  GROUP BY film.film_id, film.title, film.description, category.name, film.rental_rate, film.length, film.rating"
                                                    },
                                                    "viewOn": {
                                                        "new": "5288d4e7-503b-4abd-9303-72eae8476379",
                                                        "old": "2c2f066f-cb66-4247-b9ae-f8defe49f589"
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "bba0d326-fb86-4319-bd70-c897070d4dc9": "film_list",
                                                        "eac1e032-e1ba-4df3-b7f0-6c91f26f381d": "fid",
                                                        "aa74ad5d-f556-4f50-9c14-1e40bdf382d6": "title",
                                                        "57ae2514-67a6-4614-84a7-75737c2d9129": "description",
                                                        "ac53b71f-a350-4719-846b-793a74672a08": "category",
                                                        "81d0de53-5b5f-4bd9-843e-d731aa07f7af": "price",
                                                        "68475a95-9a22-42d9-bcb1-45fab1110fcb": "length",
                                                        "9abddcfd-0f19-4a7c-bc5a-0bcaa6248ffe": "rating",
                                                        "eb0b1333-1e13-4533-bdbe-21e156a92750": "actors"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "2ba90d68-61df-4d49-817c-8141eb6a2b0d": "film_list",
                                                        "a5834cf7-781a-446a-907a-72940bf3d823": "fid",
                                                        "43a1563d-f4ef-45ef-85f8-f8772ca81e7d": "title",
                                                        "75584446-17b4-4ffc-947c-6fd82ca791c5": "description",
                                                        "f743740e-8887-4ff8-a967-a75925186073": "category",
                                                        "7b280278-c7c1-47da-869b-8434acaf94d1": "price",
                                                        "c01210b3-3953-4606-b820-4ed09b499ec7": "length",
                                                        "04266031-4132-49c5-9f74-2525e96c6fee": "rating",
                                                        "4b2cc544-8f5b-42f9-a01f-39b23cc54c7f": "actors"
                                                    },
                                                    "collectionData": {
                                                        "collectionRefsDefinitionsMap": {
                                                            "a5834cf7-781a-446a-907a-72940bf3d823": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "77ca0061-522c-48b1-9082-f94897ddd934"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "f3d6d6cc-06b0-4752-a24e-e7d4d8d72294",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b1a26e9d-d4a6-4dc7-b293-2fb016d24826",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6ecc62a0-adb6-45d1-a098-9b1ea874c0fe",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b15b60e9-03d0-41a0-8cfb-ca4c429ff8e3",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "2e6d559d-fb1a-4773-b7dd-6926e9521536",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "925b7ee8-6bda-419b-b538-0bac9c472b53",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "a60ca72f-7ac7-4129-b69f-51076a5e5483",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "0ebee735-2442-41ca-b416-49879fc8fb6d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "3cca6ea9-e61c-4e64-b0a1-8a1217126487",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                "name": "film_id",
                                                                "definition": {
                                                                    "name": "film_id",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "integer",
                                                                    "precision": 32,
                                                                    "scale": 0,
                                                                    "required": true,
                                                                    "default": "nextval('film_film_id_seq'::regclass)",
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": true,
                                                                    "primaryKeyOptions": [
                                                                        {
                                                                            "constraintName": "film_pkey",
                                                                            "indexStorageParameters": "",
                                                                            "indexTablespace": null,
                                                                            "GUID": "e76b9024-b404-4980-8dcc-128d8e177b38"
                                                                        }
                                                                    ],
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "43a1563d-f4ef-45ef-85f8-f8772ca81e7d": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "77ca0061-522c-48b1-9082-f94897ddd934"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "f3d6d6cc-06b0-4752-a24e-e7d4d8d72294",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b1a26e9d-d4a6-4dc7-b293-2fb016d24826",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6ecc62a0-adb6-45d1-a098-9b1ea874c0fe",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b15b60e9-03d0-41a0-8cfb-ca4c429ff8e3",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "2e6d559d-fb1a-4773-b7dd-6926e9521536",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "925b7ee8-6bda-419b-b538-0bac9c472b53",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "a60ca72f-7ac7-4129-b69f-51076a5e5483",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "0ebee735-2442-41ca-b416-49879fc8fb6d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "3cca6ea9-e61c-4e64-b0a1-8a1217126487",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                "name": "title",
                                                                "definition": {
                                                                    "name": "title",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 255,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "75584446-17b4-4ffc-947c-6fd82ca791c5": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "77ca0061-522c-48b1-9082-f94897ddd934"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "f3d6d6cc-06b0-4752-a24e-e7d4d8d72294",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b1a26e9d-d4a6-4dc7-b293-2fb016d24826",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6ecc62a0-adb6-45d1-a098-9b1ea874c0fe",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b15b60e9-03d0-41a0-8cfb-ca4c429ff8e3",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "2e6d559d-fb1a-4773-b7dd-6926e9521536",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "925b7ee8-6bda-419b-b538-0bac9c472b53",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "a60ca72f-7ac7-4129-b69f-51076a5e5483",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "0ebee735-2442-41ca-b416-49879fc8fb6d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "3cca6ea9-e61c-4e64-b0a1-8a1217126487",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "1a4553d6-14e3-4746-9e98-dedb2a099b00",
                                                                "name": "description",
                                                                "definition": {
                                                                    "name": "description",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "text",
                                                                    "length": 10,
                                                                    "required": false,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "f743740e-8887-4ff8-a967-a75925186073": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "category",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "0a487001-75b6-40e1-8dff-471201343226",
                                                                                "indxName": "category_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "74d7881d-e3cc-4f7a-93b6-7c42f132c1ca",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "70e18771-16f1-437b-98e9-ad885196ad80",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "119a38d4-1239-4e71-850b-a816a3eb2259",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "da51a15d-dc9c-439d-aa2d-1fe6cfc979a6",
                                                                "name": "name",
                                                                "definition": {
                                                                    "name": "name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 25,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "7b280278-c7c1-47da-869b-8434acaf94d1": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "77ca0061-522c-48b1-9082-f94897ddd934"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "f3d6d6cc-06b0-4752-a24e-e7d4d8d72294",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b1a26e9d-d4a6-4dc7-b293-2fb016d24826",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6ecc62a0-adb6-45d1-a098-9b1ea874c0fe",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b15b60e9-03d0-41a0-8cfb-ca4c429ff8e3",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "2e6d559d-fb1a-4773-b7dd-6926e9521536",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "925b7ee8-6bda-419b-b538-0bac9c472b53",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "a60ca72f-7ac7-4129-b69f-51076a5e5483",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "0ebee735-2442-41ca-b416-49879fc8fb6d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "3cca6ea9-e61c-4e64-b0a1-8a1217126487",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "66bb2149-7561-42a7-8510-d1d92e261d30",
                                                                "name": "rental_rate",
                                                                "definition": {
                                                                    "name": "rental_rate",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "numeric",
                                                                    "precision": 4,
                                                                    "scale": 2,
                                                                    "required": true,
                                                                    "default": "4.99",
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "c01210b3-3953-4606-b820-4ed09b499ec7": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "77ca0061-522c-48b1-9082-f94897ddd934"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "f3d6d6cc-06b0-4752-a24e-e7d4d8d72294",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b1a26e9d-d4a6-4dc7-b293-2fb016d24826",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6ecc62a0-adb6-45d1-a098-9b1ea874c0fe",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b15b60e9-03d0-41a0-8cfb-ca4c429ff8e3",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "2e6d559d-fb1a-4773-b7dd-6926e9521536",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "925b7ee8-6bda-419b-b538-0bac9c472b53",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "a60ca72f-7ac7-4129-b69f-51076a5e5483",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "0ebee735-2442-41ca-b416-49879fc8fb6d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "3cca6ea9-e61c-4e64-b0a1-8a1217126487",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "5351d304-4c22-4578-b7c5-4c7a4831c4e7",
                                                                "name": "length",
                                                                "definition": {
                                                                    "name": "length",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "smallint",
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "required": false,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "04266031-4132-49c5-9f74-2525e96c6fee": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "77ca0061-522c-48b1-9082-f94897ddd934"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "f3d6d6cc-06b0-4752-a24e-e7d4d8d72294",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b1a26e9d-d4a6-4dc7-b293-2fb016d24826",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6ecc62a0-adb6-45d1-a098-9b1ea874c0fe",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b15b60e9-03d0-41a0-8cfb-ca4c429ff8e3",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "2e6d559d-fb1a-4773-b7dd-6926e9521536",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "925b7ee8-6bda-419b-b538-0bac9c472b53",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "a60ca72f-7ac7-4129-b69f-51076a5e5483",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "0ebee735-2442-41ca-b416-49879fc8fb6d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "3cca6ea9-e61c-4e64-b0a1-8a1217126487",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "16c8cca0-5b9b-4210-ba41-b3eaf0d86395",
                                                                "name": "rating",
                                                                "definition": {
                                                                    "name": "rating",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "$ref": "#model/definitions/mpaa_rating",
                                                                    "refType": "model"
                                                                }
                                                            },
                                                            "4b2cc544-8f5b-42f9-a01f-39b23cc54c7f": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "actor",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "70a2e6b2-27e6-4821-b8b5-62901199fc14",
                                                                                "indxName": "actor_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "3e3615e8-56e1-4d2a-844a-ce33ac707540",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "f8c59595-da17-4d86-a338-02300e832090",
                                                                                "indxName": "idx_actor_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c5a272b6-4da0-4052-bc36-9bc764604005",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "89f31f92-c684-4148-8ef7-eed4fee54222",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "e0ee5c88-8424-4623-b851-ea21ea758167",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "7057ab47-554a-4f61-87b3-a06c0e62d6d1",
                                                                "name": "first_name",
                                                                "definition": {
                                                                    "name": "first_name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 45,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            }
                                                        },
                                                        "entityData": [
                                                            {
                                                                "collectionName": "category",
                                                                "code": "",
                                                                "isActivated": true,
                                                                "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                "additionalProperties": true,
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "ifNotExist": true,
                                                                "inherits": [],
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default"
                                                            },
                                                            {
                                                                "primaryKey": [],
                                                                "uniqueKey": []
                                                            },
                                                            {
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "0a487001-75b6-40e1-8dff-471201343226",
                                                                        "indxName": "category_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "74d7881d-e3cc-4f7a-93b6-7c42f132c1ca",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "chkConstr": []
                                                            },
                                                            {
                                                                "triggers": [
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "70e18771-16f1-437b-98e9-ad885196ad80",
                                                                        "name": "last_updated",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "119a38d4-1239-4e71-850b-a816a3eb2259",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "last_updated()"
                                                                    }
                                                                ]
                                                            },
                                                            {},
                                                            {}
                                                        ],
                                                        "relatedSchemas": {},
                                                        "relatedContainers": {}
                                                    }
                                                },
                                                "roleType": "view"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "05597bb2-2610-4667-b436-c33bce04b917",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "nicer_but_slower_film_list",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "b6ee09cd-947f-426e-9214-2ac1c32566c0",
                                            "role": {
                                                "name": "nicer_but_slower_film_list",
                                                "code": "",
                                                "isActivated": true,
                                                "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                "orReplace": false,
                                                "temporary": false,
                                                "recursive": false,
                                                "viewOptions": {
                                                    "GUID": "b3ac4fb9-d890-4186-855b-0fb348c3f0b9"
                                                },
                                                "selectStatement": "SELECT film.film_id AS fid,\n    film.title,\n    film.description,\n    category.name AS category,\n    film.rental_rate AS price,\n    film.length,\n    film.rating,\n    group_concat((((upper(\"substring\"((actor.first_name)::text, 1, 1)) || lower(\"substring\"((actor.first_name)::text, 2))) || upper(\"substring\"((actor.last_name)::text, 1, 1))) || lower(\"substring\"((actor.last_name)::text, 2)))) AS actors\n   FROM ((((category\n     LEFT JOIN film_category ON ((category.category_id = film_category.category_id)))\n     LEFT JOIN film ON ((film_category.film_id = film.film_id)))\n     JOIN film_actor ON ((film.film_id = film_actor.film_id)))\n     JOIN actor ON ((film_actor.actor_id = actor.actor_id)))\n  GROUP BY film.film_id, film.title, film.description, category.name, film.rental_rate, film.length, film.rating",
                                                "withCheckOption": false,
                                                "viewOn": "5288d4e7-503b-4abd-9303-72eae8476379",
                                                "triggers": [],
                                                "type": "object",
                                                "properties": [
                                                    {
                                                        "code": "",
                                                        "name": "fid",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/film_id",
                                                        "GUID": "6dd51d8b-1786-4c66-a901-cc1bb0f6685b",
                                                        "refIdPath": [
                                                            "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                            "1929a9b3-c3e2-4a98-bea8-1241fe33de17"
                                                        ],
                                                        "ref": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "title",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/title",
                                                        "GUID": "1921c898-3392-42ac-85cf-2496007f5d91",
                                                        "refIdPath": [
                                                            "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                            "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0"
                                                        ],
                                                        "ref": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "description",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/description",
                                                        "GUID": "547022f9-1f52-4c10-8d43-620f9bd7d9d6",
                                                        "refIdPath": [
                                                            "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                            "1a4553d6-14e3-4746-9e98-dedb2a099b00"
                                                        ],
                                                        "ref": "1a4553d6-14e3-4746-9e98-dedb2a099b00",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "category",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/category/name",
                                                        "GUID": "24d38b8a-4034-443c-9dd7-450122301217",
                                                        "refIdPath": [
                                                            "5288d4e7-503b-4abd-9303-72eae8476379",
                                                            "da51a15d-dc9c-439d-aa2d-1fe6cfc979a6"
                                                        ],
                                                        "ref": "da51a15d-dc9c-439d-aa2d-1fe6cfc979a6",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "price",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/rental_rate",
                                                        "GUID": "62683810-cf74-4484-8c04-28c47ecdb03f",
                                                        "refIdPath": [
                                                            "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                            "66bb2149-7561-42a7-8510-d1d92e261d30"
                                                        ],
                                                        "ref": "66bb2149-7561-42a7-8510-d1d92e261d30",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "length",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/length",
                                                        "GUID": "ffe50aa9-f7b5-4ca6-8219-13c873cf9659",
                                                        "refIdPath": [
                                                            "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                            "5351d304-4c22-4578-b7c5-4c7a4831c4e7"
                                                        ],
                                                        "ref": "5351d304-4c22-4578-b7c5-4c7a4831c4e7",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "rating",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/rating",
                                                        "GUID": "4ab53697-15af-4257-992d-161a9745e5ad",
                                                        "refIdPath": [
                                                            "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                            "16c8cca0-5b9b-4210-ba41-b3eaf0d86395"
                                                        ],
                                                        "ref": "16c8cca0-5b9b-4210-ba41-b3eaf0d86395",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "actors",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/actor/first_name",
                                                        "GUID": "323b06da-83aa-44c8-9469-a97e812e83dd",
                                                        "refIdPath": [
                                                            "f2c0d92e-0768-4439-b2e4-d108a4b66dc9",
                                                            "7057ab47-554a-4f61-87b3-a06c0e62d6d1"
                                                        ],
                                                        "ref": "7057ab47-554a-4f61-87b3-a06c0e62d6d1",
                                                        "error": {}
                                                    }
                                                ],
                                                "GUID": "82ec9e14-87b4-4a16-8b22-c999db0f663f",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "name": {
                                                        "new": "nicer_but_slower_film_list",
                                                        "old": "nicer_but_slower_film_list"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "viewOptions": {
                                                        "new": {
                                                            "GUID": "b3ac4fb9-d890-4186-855b-0fb348c3f0b9"
                                                        }
                                                    },
                                                    "selectStatement": {
                                                        "new": "SELECT film.film_id AS fid,\n    film.title,\n    film.description,\n    category.name AS category,\n    film.rental_rate AS price,\n    film.length,\n    film.rating,\n    group_concat((((upper(\"substring\"((actor.first_name)::text, 1, 1)) || lower(\"substring\"((actor.first_name)::text, 2))) || upper(\"substring\"((actor.last_name)::text, 1, 1))) || lower(\"substring\"((actor.last_name)::text, 2)))) AS actors\n   FROM ((((category\n     LEFT JOIN film_category ON ((category.category_id = film_category.category_id)))\n     LEFT JOIN film ON ((film_category.film_id = film.film_id)))\n     JOIN film_actor ON ((film.film_id = film_actor.film_id)))\n     JOIN actor ON ((film_actor.actor_id = actor.actor_id)))\n  GROUP BY film.film_id, film.title, film.description, category.name, film.rental_rate, film.length, film.rating"
                                                    },
                                                    "viewOn": {
                                                        "new": "5288d4e7-503b-4abd-9303-72eae8476379",
                                                        "old": "2c2f066f-cb66-4247-b9ae-f8defe49f589"
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "d74f0d6d-b851-4b2e-b0b1-287fbc34d272": "nicer_but_slower_film_list",
                                                        "89fcf10a-11a2-4e72-bb00-4e10b6229390": "fid",
                                                        "9d19b37c-c644-41f9-8734-5e8719402321": "title",
                                                        "e59988cb-d94b-4f05-97f1-9b561de70753": "description",
                                                        "6f5fb2c9-ccbe-4a8e-aeec-65de14d659a7": "category",
                                                        "d0ef249c-afe8-4b88-b505-ffd6875abe6c": "price",
                                                        "64fd7de3-7016-45e4-b48f-296b8ce53238": "length",
                                                        "e03e1dce-2ef1-4aed-b1c0-1042d42c154d": "rating",
                                                        "519cddc9-fcd1-462f-b4bb-cf27537bdec5": "actors"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "82ec9e14-87b4-4a16-8b22-c999db0f663f": "nicer_but_slower_film_list",
                                                        "6dd51d8b-1786-4c66-a901-cc1bb0f6685b": "fid",
                                                        "1921c898-3392-42ac-85cf-2496007f5d91": "title",
                                                        "547022f9-1f52-4c10-8d43-620f9bd7d9d6": "description",
                                                        "24d38b8a-4034-443c-9dd7-450122301217": "category",
                                                        "62683810-cf74-4484-8c04-28c47ecdb03f": "price",
                                                        "ffe50aa9-f7b5-4ca6-8219-13c873cf9659": "length",
                                                        "4ab53697-15af-4257-992d-161a9745e5ad": "rating",
                                                        "323b06da-83aa-44c8-9469-a97e812e83dd": "actors"
                                                    },
                                                    "collectionData": {
                                                        "collectionRefsDefinitionsMap": {
                                                            "6dd51d8b-1786-4c66-a901-cc1bb0f6685b": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "77ca0061-522c-48b1-9082-f94897ddd934"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "f3d6d6cc-06b0-4752-a24e-e7d4d8d72294",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b1a26e9d-d4a6-4dc7-b293-2fb016d24826",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6ecc62a0-adb6-45d1-a098-9b1ea874c0fe",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b15b60e9-03d0-41a0-8cfb-ca4c429ff8e3",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "2e6d559d-fb1a-4773-b7dd-6926e9521536",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "925b7ee8-6bda-419b-b538-0bac9c472b53",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "a60ca72f-7ac7-4129-b69f-51076a5e5483",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "0ebee735-2442-41ca-b416-49879fc8fb6d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "3cca6ea9-e61c-4e64-b0a1-8a1217126487",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                "name": "film_id",
                                                                "definition": {
                                                                    "name": "film_id",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "integer",
                                                                    "precision": 32,
                                                                    "scale": 0,
                                                                    "required": true,
                                                                    "default": "nextval('film_film_id_seq'::regclass)",
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": true,
                                                                    "primaryKeyOptions": [
                                                                        {
                                                                            "constraintName": "film_pkey",
                                                                            "indexStorageParameters": "",
                                                                            "indexTablespace": null,
                                                                            "GUID": "e76b9024-b404-4980-8dcc-128d8e177b38"
                                                                        }
                                                                    ],
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "1921c898-3392-42ac-85cf-2496007f5d91": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "77ca0061-522c-48b1-9082-f94897ddd934"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "f3d6d6cc-06b0-4752-a24e-e7d4d8d72294",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b1a26e9d-d4a6-4dc7-b293-2fb016d24826",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6ecc62a0-adb6-45d1-a098-9b1ea874c0fe",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b15b60e9-03d0-41a0-8cfb-ca4c429ff8e3",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "2e6d559d-fb1a-4773-b7dd-6926e9521536",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "925b7ee8-6bda-419b-b538-0bac9c472b53",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "a60ca72f-7ac7-4129-b69f-51076a5e5483",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "0ebee735-2442-41ca-b416-49879fc8fb6d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "3cca6ea9-e61c-4e64-b0a1-8a1217126487",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                "name": "title",
                                                                "definition": {
                                                                    "name": "title",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 255,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "547022f9-1f52-4c10-8d43-620f9bd7d9d6": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "77ca0061-522c-48b1-9082-f94897ddd934"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "f3d6d6cc-06b0-4752-a24e-e7d4d8d72294",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b1a26e9d-d4a6-4dc7-b293-2fb016d24826",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6ecc62a0-adb6-45d1-a098-9b1ea874c0fe",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b15b60e9-03d0-41a0-8cfb-ca4c429ff8e3",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "2e6d559d-fb1a-4773-b7dd-6926e9521536",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "925b7ee8-6bda-419b-b538-0bac9c472b53",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "a60ca72f-7ac7-4129-b69f-51076a5e5483",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "0ebee735-2442-41ca-b416-49879fc8fb6d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "3cca6ea9-e61c-4e64-b0a1-8a1217126487",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "1a4553d6-14e3-4746-9e98-dedb2a099b00",
                                                                "name": "description",
                                                                "definition": {
                                                                    "name": "description",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "text",
                                                                    "length": 10,
                                                                    "required": false,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "24d38b8a-4034-443c-9dd7-450122301217": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "category",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "0a487001-75b6-40e1-8dff-471201343226",
                                                                                "indxName": "category_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "74d7881d-e3cc-4f7a-93b6-7c42f132c1ca",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "70e18771-16f1-437b-98e9-ad885196ad80",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "119a38d4-1239-4e71-850b-a816a3eb2259",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "da51a15d-dc9c-439d-aa2d-1fe6cfc979a6",
                                                                "name": "name",
                                                                "definition": {
                                                                    "name": "name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 25,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "62683810-cf74-4484-8c04-28c47ecdb03f": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "77ca0061-522c-48b1-9082-f94897ddd934"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "f3d6d6cc-06b0-4752-a24e-e7d4d8d72294",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b1a26e9d-d4a6-4dc7-b293-2fb016d24826",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6ecc62a0-adb6-45d1-a098-9b1ea874c0fe",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b15b60e9-03d0-41a0-8cfb-ca4c429ff8e3",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "2e6d559d-fb1a-4773-b7dd-6926e9521536",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "925b7ee8-6bda-419b-b538-0bac9c472b53",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "a60ca72f-7ac7-4129-b69f-51076a5e5483",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "0ebee735-2442-41ca-b416-49879fc8fb6d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "3cca6ea9-e61c-4e64-b0a1-8a1217126487",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "66bb2149-7561-42a7-8510-d1d92e261d30",
                                                                "name": "rental_rate",
                                                                "definition": {
                                                                    "name": "rental_rate",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "numeric",
                                                                    "precision": 4,
                                                                    "scale": 2,
                                                                    "required": true,
                                                                    "default": "4.99",
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "ffe50aa9-f7b5-4ca6-8219-13c873cf9659": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "77ca0061-522c-48b1-9082-f94897ddd934"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "f3d6d6cc-06b0-4752-a24e-e7d4d8d72294",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b1a26e9d-d4a6-4dc7-b293-2fb016d24826",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6ecc62a0-adb6-45d1-a098-9b1ea874c0fe",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b15b60e9-03d0-41a0-8cfb-ca4c429ff8e3",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "2e6d559d-fb1a-4773-b7dd-6926e9521536",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "925b7ee8-6bda-419b-b538-0bac9c472b53",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "a60ca72f-7ac7-4129-b69f-51076a5e5483",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "0ebee735-2442-41ca-b416-49879fc8fb6d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "3cca6ea9-e61c-4e64-b0a1-8a1217126487",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "5351d304-4c22-4578-b7c5-4c7a4831c4e7",
                                                                "name": "length",
                                                                "definition": {
                                                                    "name": "length",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "smallint",
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "required": false,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "4ab53697-15af-4257-992d-161a9745e5ad": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "77ca0061-522c-48b1-9082-f94897ddd934"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "f3d6d6cc-06b0-4752-a24e-e7d4d8d72294",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b1a26e9d-d4a6-4dc7-b293-2fb016d24826",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6ecc62a0-adb6-45d1-a098-9b1ea874c0fe",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b15b60e9-03d0-41a0-8cfb-ca4c429ff8e3",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "2e6d559d-fb1a-4773-b7dd-6926e9521536",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "925b7ee8-6bda-419b-b538-0bac9c472b53",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "a60ca72f-7ac7-4129-b69f-51076a5e5483",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "0ebee735-2442-41ca-b416-49879fc8fb6d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "3cca6ea9-e61c-4e64-b0a1-8a1217126487",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "16c8cca0-5b9b-4210-ba41-b3eaf0d86395",
                                                                "name": "rating",
                                                                "definition": {
                                                                    "name": "rating",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "$ref": "#model/definitions/mpaa_rating",
                                                                    "refType": "model"
                                                                }
                                                            },
                                                            "323b06da-83aa-44c8-9469-a97e812e83dd": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "actor",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "70a2e6b2-27e6-4821-b8b5-62901199fc14",
                                                                                "indxName": "actor_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "3e3615e8-56e1-4d2a-844a-ce33ac707540",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "f8c59595-da17-4d86-a338-02300e832090",
                                                                                "indxName": "idx_actor_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c5a272b6-4da0-4052-bc36-9bc764604005",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "89f31f92-c684-4148-8ef7-eed4fee54222",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "e0ee5c88-8424-4623-b851-ea21ea758167",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "7057ab47-554a-4f61-87b3-a06c0e62d6d1",
                                                                "name": "first_name",
                                                                "definition": {
                                                                    "name": "first_name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 45,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            }
                                                        },
                                                        "entityData": [
                                                            {
                                                                "collectionName": "category",
                                                                "code": "",
                                                                "isActivated": true,
                                                                "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                "additionalProperties": true,
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "ifNotExist": true,
                                                                "inherits": [],
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default"
                                                            },
                                                            {
                                                                "primaryKey": [],
                                                                "uniqueKey": []
                                                            },
                                                            {
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "0a487001-75b6-40e1-8dff-471201343226",
                                                                        "indxName": "category_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "74d7881d-e3cc-4f7a-93b6-7c42f132c1ca",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "chkConstr": []
                                                            },
                                                            {
                                                                "triggers": [
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "70e18771-16f1-437b-98e9-ad885196ad80",
                                                                        "name": "last_updated",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "119a38d4-1239-4e71-850b-a816a3eb2259",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "last_updated()"
                                                                    }
                                                                ]
                                                            },
                                                            {},
                                                            {}
                                                        ],
                                                        "relatedSchemas": {},
                                                        "relatedContainers": {}
                                                    }
                                                },
                                                "roleType": "view"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "0d89ad8e-7c7f-4c2c-aa4a-6335d2884be0",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "sales_by_film_category",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "b0275af0-c000-4b04-af58-da98046016c8",
                                            "role": {
                                                "name": "sales_by_film_category",
                                                "code": "",
                                                "isActivated": true,
                                                "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                "orReplace": false,
                                                "temporary": false,
                                                "recursive": false,
                                                "viewOptions": {
                                                    "GUID": "b641a4aa-0218-493a-9ac4-5e45ff92ce77"
                                                },
                                                "selectStatement": "SELECT c.name AS category,\n    sum(p.amount) AS total_sales\n   FROM (((((payment p\n     JOIN rental r ON ((p.rental_id = r.rental_id)))\n     JOIN inventory i ON ((r.inventory_id = i.inventory_id)))\n     JOIN film f ON ((i.film_id = f.film_id)))\n     JOIN film_category fc ON ((f.film_id = fc.film_id)))\n     JOIN category c ON ((fc.category_id = c.category_id)))\n  GROUP BY c.name\n  ORDER BY (sum(p.amount)) DESC",
                                                "withCheckOption": false,
                                                "viewOn": "f05c3a78-8284-4eac-a62a-61a3e04ba553",
                                                "triggers": [],
                                                "type": "object",
                                                "properties": [
                                                    {
                                                        "code": "",
                                                        "name": "category",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/category/name",
                                                        "GUID": "b2847236-7472-4f2c-ad6b-6d8ccec18326",
                                                        "refIdPath": [
                                                            "5288d4e7-503b-4abd-9303-72eae8476379",
                                                            "da51a15d-dc9c-439d-aa2d-1fe6cfc979a6"
                                                        ],
                                                        "ref": "da51a15d-dc9c-439d-aa2d-1fe6cfc979a6",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "total_sales",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/payment/amount",
                                                        "GUID": "7fd7823b-8e65-4254-8e85-9c3d033cf997",
                                                        "refIdPath": [
                                                            "f05c3a78-8284-4eac-a62a-61a3e04ba553",
                                                            "31b869ca-92bb-4058-ac3c-b46547a0bb2e"
                                                        ],
                                                        "ref": "31b869ca-92bb-4058-ac3c-b46547a0bb2e",
                                                        "error": {}
                                                    }
                                                ],
                                                "GUID": "e391bc15-8858-4cb8-93a3-e2601a4c30cf",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "name": {
                                                        "new": "sales_by_film_category",
                                                        "old": "sales_by_film_category"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "viewOptions": {
                                                        "new": {
                                                            "GUID": "b641a4aa-0218-493a-9ac4-5e45ff92ce77"
                                                        }
                                                    },
                                                    "selectStatement": {
                                                        "new": "SELECT c.name AS category,\n    sum(p.amount) AS total_sales\n   FROM (((((payment p\n     JOIN rental r ON ((p.rental_id = r.rental_id)))\n     JOIN inventory i ON ((r.inventory_id = i.inventory_id)))\n     JOIN film f ON ((i.film_id = f.film_id)))\n     JOIN film_category fc ON ((f.film_id = fc.film_id)))\n     JOIN category c ON ((fc.category_id = c.category_id)))\n  GROUP BY c.name\n  ORDER BY (sum(p.amount)) DESC"
                                                    },
                                                    "viewOn": {
                                                        "new": "f05c3a78-8284-4eac-a62a-61a3e04ba553",
                                                        "old": "9fe85521-30b3-4ab0-af6d-72071b837174"
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "2124b0b7-ad75-4489-8d89-024432252885": "sales_by_film_category",
                                                        "128be441-82e9-401c-a180-bceae91f1be9": "category",
                                                        "a4aa965e-6ed5-4e4f-997e-92cbd6d5502d": "total_sales"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "e391bc15-8858-4cb8-93a3-e2601a4c30cf": "sales_by_film_category",
                                                        "b2847236-7472-4f2c-ad6b-6d8ccec18326": "category",
                                                        "7fd7823b-8e65-4254-8e85-9c3d033cf997": "total_sales"
                                                    },
                                                    "collectionData": {
                                                        "collectionRefsDefinitionsMap": {
                                                            "b2847236-7472-4f2c-ad6b-6d8ccec18326": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "category",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "0a487001-75b6-40e1-8dff-471201343226",
                                                                                "indxName": "category_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "74d7881d-e3cc-4f7a-93b6-7c42f132c1ca",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "70e18771-16f1-437b-98e9-ad885196ad80",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "119a38d4-1239-4e71-850b-a816a3eb2259",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "da51a15d-dc9c-439d-aa2d-1fe6cfc979a6",
                                                                "name": "name",
                                                                "definition": {
                                                                    "name": "name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 25,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "7fd7823b-8e65-4254-8e85-9c3d033cf997": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "payment",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "acd3caa7-98a7-42d9-93fa-66f0a246dcde",
                                                                                "indxName": "idx_fk_customer_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "57bee1ff-9676-453d-b581-6adb95bb0b01",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8d50d421-3608-4187-86b9-1aa329b244e8",
                                                                                "indxName": "idx_fk_rental_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "7e173ae3-edb0-450d-a7b6-4baf4fd7592e",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "5c6f347f-7644-44ca-807d-3da292adb29e",
                                                                                "indxName": "idx_fk_staff_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "891afaa2-d334-412a-a844-1143286828d5",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "73f35f8f-2611-417f-b871-af77747ac1f8",
                                                                                "indxName": "payment_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "43c5c175-7506-4ca2-ba0e-a9ea5de9a826",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": []
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "31b869ca-92bb-4058-ac3c-b46547a0bb2e",
                                                                "name": "amount",
                                                                "definition": {
                                                                    "name": "amount",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "numeric",
                                                                    "precision": 5,
                                                                    "scale": 2,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            }
                                                        },
                                                        "entityData": [
                                                            {
                                                                "collectionName": "payment",
                                                                "code": "",
                                                                "isActivated": true,
                                                                "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                "additionalProperties": true,
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "ifNotExist": true,
                                                                "inherits": [],
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default"
                                                            },
                                                            {
                                                                "primaryKey": [],
                                                                "uniqueKey": []
                                                            },
                                                            {
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "acd3caa7-98a7-42d9-93fa-66f0a246dcde",
                                                                        "indxName": "idx_fk_customer_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "57bee1ff-9676-453d-b581-6adb95bb0b01",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "8d50d421-3608-4187-86b9-1aa329b244e8",
                                                                        "indxName": "idx_fk_rental_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "7e173ae3-edb0-450d-a7b6-4baf4fd7592e",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "5c6f347f-7644-44ca-807d-3da292adb29e",
                                                                        "indxName": "idx_fk_staff_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "891afaa2-d334-412a-a844-1143286828d5",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "73f35f8f-2611-417f-b871-af77747ac1f8",
                                                                        "indxName": "payment_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "43c5c175-7506-4ca2-ba0e-a9ea5de9a826",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "chkConstr": []
                                                            },
                                                            {
                                                                "triggers": []
                                                            },
                                                            {},
                                                            {}
                                                        ],
                                                        "relatedSchemas": {},
                                                        "relatedContainers": {}
                                                    }
                                                },
                                                "roleType": "view"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "9521f846-1434-4fc4-bb7f-3f0e9c0ff649",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "sales_by_store",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "703fb31d-f455-4b12-b3ef-c5cb1ec1466b",
                                            "role": {
                                                "name": "sales_by_store",
                                                "code": "",
                                                "isActivated": true,
                                                "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                "orReplace": false,
                                                "temporary": false,
                                                "recursive": false,
                                                "viewOptions": {
                                                    "GUID": "0a34fa52-c877-401c-8ce1-544d0c473836"
                                                },
                                                "selectStatement": "SELECT (((c.city)::text || ','::text) || (cy.country)::text) AS store,\n    (((m.first_name)::text || ' '::text) || (m.last_name)::text) AS manager,\n    sum(p.amount) AS total_sales\n   FROM (((((((payment p\n     JOIN rental r ON ((p.rental_id = r.rental_id)))\n     JOIN inventory i ON ((r.inventory_id = i.inventory_id)))\n     JOIN store s ON ((i.store_id = s.store_id)))\n     JOIN address a ON ((s.address_id = a.address_id)))\n     JOIN city c ON ((a.city_id = c.city_id)))\n     JOIN country cy ON ((c.country_id = cy.country_id)))\n     JOIN staff m ON ((s.manager_staff_id = m.staff_id)))\n  GROUP BY cy.country, c.city, s.store_id, m.first_name, m.last_name\n  ORDER BY cy.country, c.city",
                                                "withCheckOption": false,
                                                "viewOn": "f05c3a78-8284-4eac-a62a-61a3e04ba553",
                                                "triggers": [],
                                                "type": "object",
                                                "properties": [
                                                    {
                                                        "code": "",
                                                        "name": "store",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/city/city",
                                                        "GUID": "bd35a024-d05e-405f-9fdc-45ecbdf3e0a0",
                                                        "refIdPath": [
                                                            "9acec0ee-8817-446e-8ff3-6f3b1929fa3a",
                                                            "2339b2d2-4aee-4ab1-b9c9-e7a02e036ac2"
                                                        ],
                                                        "ref": "2339b2d2-4aee-4ab1-b9c9-e7a02e036ac2",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "manager",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/actor/first_name",
                                                        "GUID": "8aac523a-311c-4354-8836-40062828303c",
                                                        "refIdPath": [
                                                            "f2c0d92e-0768-4439-b2e4-d108a4b66dc9",
                                                            "7057ab47-554a-4f61-87b3-a06c0e62d6d1"
                                                        ],
                                                        "ref": "7057ab47-554a-4f61-87b3-a06c0e62d6d1",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "total_sales",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/payment/amount",
                                                        "GUID": "3b80c5cd-3a25-4845-a8ed-c2f1c1c8dca9",
                                                        "refIdPath": [
                                                            "f05c3a78-8284-4eac-a62a-61a3e04ba553",
                                                            "31b869ca-92bb-4058-ac3c-b46547a0bb2e"
                                                        ],
                                                        "ref": "31b869ca-92bb-4058-ac3c-b46547a0bb2e",
                                                        "error": {}
                                                    }
                                                ],
                                                "GUID": "3fe2294f-7e5f-4329-a81e-0f8294968b6b",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "name": {
                                                        "new": "sales_by_store",
                                                        "old": "sales_by_store"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "viewOptions": {
                                                        "new": {
                                                            "GUID": "0a34fa52-c877-401c-8ce1-544d0c473836"
                                                        }
                                                    },
                                                    "selectStatement": {
                                                        "new": "SELECT (((c.city)::text || ','::text) || (cy.country)::text) AS store,\n    (((m.first_name)::text || ' '::text) || (m.last_name)::text) AS manager,\n    sum(p.amount) AS total_sales\n   FROM (((((((payment p\n     JOIN rental r ON ((p.rental_id = r.rental_id)))\n     JOIN inventory i ON ((r.inventory_id = i.inventory_id)))\n     JOIN store s ON ((i.store_id = s.store_id)))\n     JOIN address a ON ((s.address_id = a.address_id)))\n     JOIN city c ON ((a.city_id = c.city_id)))\n     JOIN country cy ON ((c.country_id = cy.country_id)))\n     JOIN staff m ON ((s.manager_staff_id = m.staff_id)))\n  GROUP BY cy.country, c.city, s.store_id, m.first_name, m.last_name\n  ORDER BY cy.country, c.city"
                                                    },
                                                    "viewOn": {
                                                        "new": "f05c3a78-8284-4eac-a62a-61a3e04ba553",
                                                        "old": "9fe85521-30b3-4ab0-af6d-72071b837174"
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "57208685-83ef-49ea-a3d8-382651e5796d": "sales_by_store",
                                                        "f7548a47-df65-4b80-9585-062f82daf5c0": "store",
                                                        "854a3870-1cce-498c-a62b-4b9364a5539e": "manager",
                                                        "240dde99-3d42-4c1f-bc77-57ce565a48b2": "total_sales"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "3fe2294f-7e5f-4329-a81e-0f8294968b6b": "sales_by_store",
                                                        "bd35a024-d05e-405f-9fdc-45ecbdf3e0a0": "store",
                                                        "8aac523a-311c-4354-8836-40062828303c": "manager",
                                                        "3b80c5cd-3a25-4845-a8ed-c2f1c1c8dca9": "total_sales"
                                                    },
                                                    "collectionData": {
                                                        "collectionRefsDefinitionsMap": {
                                                            "bd35a024-d05e-405f-9fdc-45ecbdf3e0a0": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "city",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "d78a72c2-c66c-4937-991b-5df5c18edccb",
                                                                                "indxName": "city_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "720d157f-0416-41fe-91c3-b3e066b1d762",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "25ed5f14-85b7-444c-8d83-4d4a28c73a44",
                                                                                "indxName": "idx_fk_country_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "1ebcce57-acb5-49aa-9985-d81c16aad78c",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "c3469578-a312-45cc-9452-49b7e0a47c90",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "d65d715d-e76a-46c8-b75b-442d1156080e",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "2339b2d2-4aee-4ab1-b9c9-e7a02e036ac2",
                                                                "name": "city",
                                                                "definition": {
                                                                    "name": "city",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 50,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "8aac523a-311c-4354-8836-40062828303c": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "actor",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "70a2e6b2-27e6-4821-b8b5-62901199fc14",
                                                                                "indxName": "actor_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "3e3615e8-56e1-4d2a-844a-ce33ac707540",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "f8c59595-da17-4d86-a338-02300e832090",
                                                                                "indxName": "idx_actor_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c5a272b6-4da0-4052-bc36-9bc764604005",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "89f31f92-c684-4148-8ef7-eed4fee54222",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "e0ee5c88-8424-4623-b851-ea21ea758167",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "7057ab47-554a-4f61-87b3-a06c0e62d6d1",
                                                                "name": "first_name",
                                                                "definition": {
                                                                    "name": "first_name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 45,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "3b80c5cd-3a25-4845-a8ed-c2f1c1c8dca9": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "payment",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "acd3caa7-98a7-42d9-93fa-66f0a246dcde",
                                                                                "indxName": "idx_fk_customer_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "57bee1ff-9676-453d-b581-6adb95bb0b01",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8d50d421-3608-4187-86b9-1aa329b244e8",
                                                                                "indxName": "idx_fk_rental_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "7e173ae3-edb0-450d-a7b6-4baf4fd7592e",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "5c6f347f-7644-44ca-807d-3da292adb29e",
                                                                                "indxName": "idx_fk_staff_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "891afaa2-d334-412a-a844-1143286828d5",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "73f35f8f-2611-417f-b871-af77747ac1f8",
                                                                                "indxName": "payment_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "43c5c175-7506-4ca2-ba0e-a9ea5de9a826",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": []
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "31b869ca-92bb-4058-ac3c-b46547a0bb2e",
                                                                "name": "amount",
                                                                "definition": {
                                                                    "name": "amount",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "numeric",
                                                                    "precision": 5,
                                                                    "scale": 2,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            }
                                                        },
                                                        "entityData": [
                                                            {
                                                                "collectionName": "payment",
                                                                "code": "",
                                                                "isActivated": true,
                                                                "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                "additionalProperties": true,
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "ifNotExist": true,
                                                                "inherits": [],
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default"
                                                            },
                                                            {
                                                                "primaryKey": [],
                                                                "uniqueKey": []
                                                            },
                                                            {
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "acd3caa7-98a7-42d9-93fa-66f0a246dcde",
                                                                        "indxName": "idx_fk_customer_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "57bee1ff-9676-453d-b581-6adb95bb0b01",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "8d50d421-3608-4187-86b9-1aa329b244e8",
                                                                        "indxName": "idx_fk_rental_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "7e173ae3-edb0-450d-a7b6-4baf4fd7592e",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "5c6f347f-7644-44ca-807d-3da292adb29e",
                                                                        "indxName": "idx_fk_staff_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "891afaa2-d334-412a-a844-1143286828d5",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "73f35f8f-2611-417f-b871-af77747ac1f8",
                                                                        "indxName": "payment_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "43c5c175-7506-4ca2-ba0e-a9ea5de9a826",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "chkConstr": []
                                                            },
                                                            {
                                                                "triggers": []
                                                            },
                                                            {},
                                                            {}
                                                        ],
                                                        "relatedSchemas": {},
                                                        "relatedContainers": {}
                                                    }
                                                },
                                                "roleType": "view"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "1a36c310-eb5b-4e19-8b32-1f7366d7f8ae",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "staff_list",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "38b6fb6e-58e1-4d8e-bff2-8faeaf710e43",
                                            "role": {
                                                "name": "staff_list",
                                                "code": "",
                                                "isActivated": true,
                                                "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                "orReplace": false,
                                                "temporary": false,
                                                "recursive": false,
                                                "viewOptions": {
                                                    "GUID": "bae6d58d-55dd-4804-ad1f-a905c1bbb667"
                                                },
                                                "selectStatement": "SELECT s.staff_id AS id,\n    (((s.first_name)::text || ' '::text) || (s.last_name)::text) AS name,\n    a.address,\n    a.postal_code AS \"zip code\",\n    a.phone,\n    city.city,\n    country.country,\n    s.store_id AS sid\n   FROM (((staff s\n     JOIN address a ON ((s.address_id = a.address_id)))\n     JOIN city ON ((a.city_id = city.city_id)))\n     JOIN country ON ((city.country_id = country.country_id)))",
                                                "withCheckOption": false,
                                                "viewOn": "977626c1-66d4-4724-a693-c43f86935b9b",
                                                "triggers": [],
                                                "type": "object",
                                                "properties": [
                                                    {
                                                        "code": "",
                                                        "name": "id",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/staff/staff_id",
                                                        "GUID": "63d0f3cf-c1d2-464f-86ba-b43fc051eaf1",
                                                        "refIdPath": [
                                                            "977626c1-66d4-4724-a693-c43f86935b9b",
                                                            "65f2e1a8-93ec-4bea-be10-95d74ba53239"
                                                        ],
                                                        "ref": "65f2e1a8-93ec-4bea-be10-95d74ba53239",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "name",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/staff/first_name",
                                                        "GUID": "74a02fb1-5913-4f1d-92bd-e0ad02d9ad7a",
                                                        "refIdPath": [
                                                            "977626c1-66d4-4724-a693-c43f86935b9b",
                                                            "0bc42e21-c04d-4439-a6b8-78dec2e37578"
                                                        ],
                                                        "ref": "0bc42e21-c04d-4439-a6b8-78dec2e37578",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "address",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/address/address",
                                                        "GUID": "4b752b34-753c-4021-8e75-f0298367ddc5",
                                                        "refIdPath": [
                                                            "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                            "aaf3c8d1-0fee-4851-8fa2-cca5a9e7a752"
                                                        ],
                                                        "ref": "aaf3c8d1-0fee-4851-8fa2-cca5a9e7a752",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "zip code",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/address/postal_code",
                                                        "GUID": "7fffc493-89e6-4bb3-bb7f-3ea18e122e82",
                                                        "refIdPath": [
                                                            "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                            "6c9067ab-beb6-4203-b2ee-ed9436a79948"
                                                        ],
                                                        "ref": "6c9067ab-beb6-4203-b2ee-ed9436a79948",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "phone",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/address/phone",
                                                        "GUID": "b3f9cb92-130d-49c6-abdd-70d20debee35",
                                                        "refIdPath": [
                                                            "e8113c9e-f07c-414f-97f3-016dd38b46fc",
                                                            "42fa149e-69dd-488a-82e8-bc09ef988f6e"
                                                        ],
                                                        "ref": "42fa149e-69dd-488a-82e8-bc09ef988f6e",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "city",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/city/city",
                                                        "GUID": "62ca5cfe-d012-4c11-8b27-26e916ccd1fb",
                                                        "refIdPath": [
                                                            "9acec0ee-8817-446e-8ff3-6f3b1929fa3a",
                                                            "2339b2d2-4aee-4ab1-b9c9-e7a02e036ac2"
                                                        ],
                                                        "ref": "2339b2d2-4aee-4ab1-b9c9-e7a02e036ac2",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "country",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/country/country",
                                                        "GUID": "4c187649-80b8-45d4-b1a6-418e7d57d4e4",
                                                        "refIdPath": [
                                                            "9523c3ce-3481-4a12-8de9-e9866d52580a",
                                                            "49cf0699-22aa-4d8d-ac7c-bc0742e793c2"
                                                        ],
                                                        "ref": "49cf0699-22aa-4d8d-ac7c-bc0742e793c2",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "sid",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/staff/store_id",
                                                        "GUID": "792302dc-0e02-4b9f-aade-5e00c889e270",
                                                        "refIdPath": [
                                                            "977626c1-66d4-4724-a693-c43f86935b9b",
                                                            "5074a1e1-5f4b-49b7-94c4-82f381dcdf29"
                                                        ],
                                                        "ref": "5074a1e1-5f4b-49b7-94c4-82f381dcdf29",
                                                        "error": {}
                                                    }
                                                ],
                                                "GUID": "02d7e94b-e6c6-4ee1-8a50-bba2547380dc",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "name": {
                                                        "new": "staff_list",
                                                        "old": "staff_list"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "viewOptions": {
                                                        "new": {
                                                            "GUID": "bae6d58d-55dd-4804-ad1f-a905c1bbb667"
                                                        }
                                                    },
                                                    "selectStatement": {
                                                        "new": "SELECT s.staff_id AS id,\n    (((s.first_name)::text || ' '::text) || (s.last_name)::text) AS name,\n    a.address,\n    a.postal_code AS \"zip code\",\n    a.phone,\n    city.city,\n    country.country,\n    s.store_id AS sid\n   FROM (((staff s\n     JOIN address a ON ((s.address_id = a.address_id)))\n     JOIN city ON ((a.city_id = city.city_id)))\n     JOIN country ON ((city.country_id = country.country_id)))"
                                                    },
                                                    "viewOn": {
                                                        "new": "977626c1-66d4-4724-a693-c43f86935b9b",
                                                        "old": "606710fd-3963-4876-894f-4a67c06a802d"
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "315c22ce-0105-4d75-8c6f-1e50f4db6d27": "staff_list",
                                                        "4546954d-fa46-4483-9ad1-6c09d7ed643d": "id",
                                                        "e0a4d7b4-7443-48e4-a062-6777ad412c3a": "name",
                                                        "5524e9e0-bd9f-4da4-b245-595a47d4145a": "address",
                                                        "d5473fe7-e214-4e42-80f3-2bdc352b50ee": "zip code",
                                                        "9c8b2e00-c2b7-4cd0-a203-ece704922ca1": "phone",
                                                        "e9a83317-6a75-4431-bea3-74ef77848de0": "city",
                                                        "ffc8566b-3fee-429b-8d42-2ed525d4a19b": "country",
                                                        "997bfee4-ac6a-4604-8643-fbf9af48ad9b": "sid"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "02d7e94b-e6c6-4ee1-8a50-bba2547380dc": "staff_list",
                                                        "63d0f3cf-c1d2-464f-86ba-b43fc051eaf1": "id",
                                                        "74a02fb1-5913-4f1d-92bd-e0ad02d9ad7a": "name",
                                                        "4b752b34-753c-4021-8e75-f0298367ddc5": "address",
                                                        "7fffc493-89e6-4bb3-bb7f-3ea18e122e82": "zip code",
                                                        "b3f9cb92-130d-49c6-abdd-70d20debee35": "phone",
                                                        "62ca5cfe-d012-4c11-8b27-26e916ccd1fb": "city",
                                                        "4c187649-80b8-45d4-b1a6-418e7d57d4e4": "country",
                                                        "792302dc-0e02-4b9f-aade-5e00c889e270": "sid"
                                                    },
                                                    "collectionData": {
                                                        "collectionRefsDefinitionsMap": {
                                                            "63d0f3cf-c1d2-464f-86ba-b43fc051eaf1": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "staff",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "59b83880-bbc5-4250-9808-1ab024831ad2"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "c3105347-1f89-446a-aa27-59ef38755796",
                                                                                "indxName": "staff_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "65f2e1a8-93ec-4bea-be10-95d74ba53239",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "5187fb99-7310-4000-8399-9bf973355560",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "a8d0d299-0e63-4af5-8baf-d1ffaa2b5c57",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "65f2e1a8-93ec-4bea-be10-95d74ba53239",
                                                                "name": "staff_id",
                                                                "definition": {
                                                                    "name": "staff_id",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "integer",
                                                                    "precision": 32,
                                                                    "scale": 0,
                                                                    "required": true,
                                                                    "default": "nextval('staff_staff_id_seq'::regclass)",
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": true,
                                                                    "primaryKeyOptions": [
                                                                        {
                                                                            "constraintName": "staff_pkey",
                                                                            "indexStorageParameters": "",
                                                                            "indexTablespace": null,
                                                                            "GUID": "829d0e68-8b04-4de3-b11a-eb66ed78d741"
                                                                        }
                                                                    ],
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "74a02fb1-5913-4f1d-92bd-e0ad02d9ad7a": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "staff",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "59b83880-bbc5-4250-9808-1ab024831ad2"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "c3105347-1f89-446a-aa27-59ef38755796",
                                                                                "indxName": "staff_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "65f2e1a8-93ec-4bea-be10-95d74ba53239",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "5187fb99-7310-4000-8399-9bf973355560",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "a8d0d299-0e63-4af5-8baf-d1ffaa2b5c57",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "0bc42e21-c04d-4439-a6b8-78dec2e37578",
                                                                "name": "first_name",
                                                                "definition": {
                                                                    "name": "first_name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 45,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "4b752b34-753c-4021-8e75-f0298367ddc5": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "address",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "47273ac7-e2cf-4d15-be47-bc6348b104a2",
                                                                                "indxName": "address_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "af25335c-6760-48d3-abb9-55f0b30d0ad4",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "ec71afe8-5b11-4ea8-9556-7493a420db71",
                                                                                "indxName": "idx_fk_city_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "ab8503f4-e1ab-4c12-b289-d89d61e443bd",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "e3153252-d2ac-452b-a19d-b7e8aa526eb9",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "c0ac543b-0b66-4921-a7e0-6ff2c01c9839",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "aaf3c8d1-0fee-4851-8fa2-cca5a9e7a752",
                                                                "name": "address",
                                                                "definition": {
                                                                    "name": "address",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 50,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "7fffc493-89e6-4bb3-bb7f-3ea18e122e82": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "address",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "47273ac7-e2cf-4d15-be47-bc6348b104a2",
                                                                                "indxName": "address_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "af25335c-6760-48d3-abb9-55f0b30d0ad4",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "ec71afe8-5b11-4ea8-9556-7493a420db71",
                                                                                "indxName": "idx_fk_city_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "ab8503f4-e1ab-4c12-b289-d89d61e443bd",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "e3153252-d2ac-452b-a19d-b7e8aa526eb9",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "c0ac543b-0b66-4921-a7e0-6ff2c01c9839",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "6c9067ab-beb6-4203-b2ee-ed9436a79948",
                                                                "name": "postal_code",
                                                                "definition": {
                                                                    "name": "postal_code",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 10,
                                                                    "required": false,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "b3f9cb92-130d-49c6-abdd-70d20debee35": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "address",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "47273ac7-e2cf-4d15-be47-bc6348b104a2",
                                                                                "indxName": "address_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "af25335c-6760-48d3-abb9-55f0b30d0ad4",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "ec71afe8-5b11-4ea8-9556-7493a420db71",
                                                                                "indxName": "idx_fk_city_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "ab8503f4-e1ab-4c12-b289-d89d61e443bd",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "e3153252-d2ac-452b-a19d-b7e8aa526eb9",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "c0ac543b-0b66-4921-a7e0-6ff2c01c9839",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "42fa149e-69dd-488a-82e8-bc09ef988f6e",
                                                                "name": "phone",
                                                                "definition": {
                                                                    "name": "phone",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 20,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "62ca5cfe-d012-4c11-8b27-26e916ccd1fb": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "city",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "d78a72c2-c66c-4937-991b-5df5c18edccb",
                                                                                "indxName": "city_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "720d157f-0416-41fe-91c3-b3e066b1d762",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "25ed5f14-85b7-444c-8d83-4d4a28c73a44",
                                                                                "indxName": "idx_fk_country_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "1ebcce57-acb5-49aa-9985-d81c16aad78c",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "c3469578-a312-45cc-9452-49b7e0a47c90",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "d65d715d-e76a-46c8-b75b-442d1156080e",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "2339b2d2-4aee-4ab1-b9c9-e7a02e036ac2",
                                                                "name": "city",
                                                                "definition": {
                                                                    "name": "city",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 50,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "4c187649-80b8-45d4-b1a6-418e7d57d4e4": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "country",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b5caf785-cabe-48d5-8e5f-ab8da1102a7f",
                                                                                "indxName": "country_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "d3eaeb13-44d5-419f-96cd-69abbdc67f21",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "6ac07f62-52fd-4d77-95d7-c8af8e57851a",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "95750d9a-8cda-4e77-81c0-d258041a4f60",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "49cf0699-22aa-4d8d-ac7c-bc0742e793c2",
                                                                "name": "country",
                                                                "definition": {
                                                                    "name": "country",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 50,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "792302dc-0e02-4b9f-aade-5e00c889e270": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "32b8e99b-a337-4ba9-a102-94c80793d209",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "5c3a7205-97b9-455e-8117-49dcc07f2fe9",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "9f48023f-4351-4d06-8e45-09a0726750fd",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f2e8a2b0-46a7-4ad4-937a-96a119ea7ad8",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a822f530-00e6-4079-bdd4-917a0983d24f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "1eb8d972-ea35-4be6-b355-0bc70744b6dc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "050d1ce5-e428-4b30-a4ab-e52d0c068aae",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "b6666cb4-bd3e-4030-921a-8791b012f01c",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "45f6d9b2-8a9a-4b15-aeae-461949cc4bbb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d6f543e8-adf2-4921-8569-300be332e56f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "955b9228-ca52-4faa-adee-d1201df12c4c",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "0afe920c-4d8a-4639-9fdb-2a9ba6279289",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "22c0c2e6-0ead-4a3d-b73e-256768b9d718",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "565bbe33-2c6d-4487-86eb-45c1b3b2cf77",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "62eb2a83-9e8a-419c-b8d2-040bf81ae907",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "560acb0d-ff32-4f69-88d9-ba61ff7c1713",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "5df15ef8-f677-43c7-aae5-6a86c83ad520",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "eb1774d9-2058-4038-bce5-b8c7e7159a13",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "7bd5e212-d579-4748-ad02-7159e2182163",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "082c456d-134b-4876-bde6-e47d7b6578f0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f20e4f89-8155-4627-b8b2-d870a9b62c0b",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "63a9b344-84db-4729-b184-78db077f4d94",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "20de0afc-a98e-4ee2-84b0-b45f59752256",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8d39ffba-517b-4586-ad8c-e0345a01c94a",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "staff",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "59b83880-bbc5-4250-9808-1ab024831ad2"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "c3105347-1f89-446a-aa27-59ef38755796",
                                                                                "indxName": "staff_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "65f2e1a8-93ec-4bea-be10-95d74ba53239",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "5187fb99-7310-4000-8399-9bf973355560",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "a8d0d299-0e63-4af5-8baf-d1ffaa2b5c57",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "5074a1e1-5f4b-49b7-94c4-82f381dcdf29",
                                                                "name": "store_id",
                                                                "definition": {
                                                                    "name": "store_id",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "smallint",
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            }
                                                        },
                                                        "entityData": [
                                                            {
                                                                "collectionName": "staff",
                                                                "code": "",
                                                                "isActivated": true,
                                                                "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                "additionalProperties": true,
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "ifNotExist": true,
                                                                "inherits": [],
                                                                "storage_parameter": {
                                                                    "GUID": "59b83880-bbc5-4250-9808-1ab024831ad2"
                                                                },
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default"
                                                            },
                                                            {
                                                                "primaryKey": [],
                                                                "uniqueKey": []
                                                            },
                                                            {
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "c3105347-1f89-446a-aa27-59ef38755796",
                                                                        "indxName": "staff_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "65f2e1a8-93ec-4bea-be10-95d74ba53239",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "chkConstr": []
                                                            },
                                                            {
                                                                "triggers": [
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "5187fb99-7310-4000-8399-9bf973355560",
                                                                        "name": "last_updated",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "a8d0d299-0e63-4af5-8baf-d1ffaa2b5c57",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "last_updated()"
                                                                    }
                                                                ]
                                                            },
                                                            {},
                                                            {}
                                                        ],
                                                        "relatedSchemas": {},
                                                        "relatedContainers": {}
                                                    }
                                                },
                                                "roleType": "view"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "2fbacaa2-6001-4d2b-9565-008fac25a094",
                                    "arrayItem": true
                                }
                            ],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "ab4d59cf-aaae-4f51-9c62-0f592b4e858c"
                        }
                    ],
                    "childType": "object",
                    "type": "document",
                    "compositeKey": [
                        "compositePartitionKey",
                        "compositePrimaryKey",
                        "compositeUniqueKey",
                        "triggerUpdateColumns"
                    ],
                    "compositePartitionKey": false,
                    "compositePrimaryKey": false,
                    "compositeUniqueKey": false,
                    "triggerUpdateColumns": false,
                    "GUID": "35b1dd0b-e952-486f-8665-426bead2b1fd"
                },
                {
                    "name": "modelDefinitions",
                    "hackoladeMeta": {},
                    "isActivated": true,
                    "primaryKey": false,
                    "unique": false,
                    "subtype": "object",
                    "properties": [
                        {
                            "name": "added",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "31c9ac6c-2564-4ce7-a1f2-36b113405c30"
                        },
                        {
                            "name": "deleted",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "31ed4a51-f625-4a36-85b7-2d31be184db6"
                        },
                        {
                            "name": "modified",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "mpaa_rating",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "51e78a57-f40f-4591-8a29-3118113bad8a",
                                            "compMod": {
                                                "name": {
                                                    "new": "mpaa_rating",
                                                    "old": "mpaa_rating"
                                                },
                                                "isActivated": {
                                                    "new": true,
                                                    "old": true
                                                },
                                                "childType": {
                                                    "new": "enum",
                                                    "old": "enum"
                                                },
                                                "type": {
                                                    "new": "string",
                                                    "old": "string"
                                                },
                                                "compositeKey": {
                                                    "new": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "old": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ]
                                                },
                                                "enum": {
                                                    "new": [
                                                        "G",
                                                        "PG",
                                                        "PG-13",
                                                        "R",
                                                        "NC-17"
                                                    ],
                                                    "old": [
                                                        "G",
                                                        "PG",
                                                        "PG-13",
                                                        "R",
                                                        "NC-17"
                                                    ]
                                                },
                                                "GUID": {
                                                    "new": "b8a8c2d9-471a-4b9c-8bb8-ccd3a9aac456",
                                                    "old": "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                },
                                                "error": {
                                                    "new": {},
                                                    "old": {}
                                                },
                                                "definitionRefs": {
                                                    "new": [
                                                        [
                                                            "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                            "16c8cca0-5b9b-4210-ba41-b3eaf0d86395"
                                                        ]
                                                    ],
                                                    "old": [
                                                        [
                                                            "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                            "e68a1871-76ac-4681-81c3-ec253415c4b5"
                                                        ]
                                                    ]
                                                },
                                                "bucketsWithCurrentDefinition": {
                                                    "public": [
                                                        {
                                                            "collectionName": "film",
                                                            "type": "object",
                                                            "properties": [
                                                                {
                                                                    "code": "",
                                                                    "name": "film_id",
                                                                    "isActivated": true,
                                                                    "primaryKey": true,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "integer",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "nextval('film_film_id_seq'::regclass)",
                                                                    "precision": 32,
                                                                    "scale": 0,
                                                                    "udt_name": "int4",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "primaryKeyOptions": [
                                                                        {
                                                                            "constraintName": "film_pkey",
                                                                            "indexStorageParameters": "",
                                                                            "indexTablespace": null,
                                                                            "GUID": "e76b9024-b404-4980-8dcc-128d8e177b38"
                                                                        }
                                                                    ],
                                                                    "GUID": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                    "required": true,
                                                                    "childRelationships": [
                                                                        "83879be8-57dd-42ae-8c89-6d55830f67d7",
                                                                        "5f3a7439-69cd-4bb2-902f-2392ba91e61c",
                                                                        "cd01e55f-4b8b-4577-8c17-66e2c2c5e1c9"
                                                                    ],
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "film_id",
                                                                            "type": "numeric",
                                                                            "mode": "integer"
                                                                        },
                                                                        "newField": {
                                                                            "name": "film_id",
                                                                            "type": "numeric",
                                                                            "mode": "integer"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "title",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "varchar",
                                                                    "length": 255,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "varchar",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "title",
                                                                            "type": "char",
                                                                            "mode": "varchar"
                                                                        },
                                                                        "newField": {
                                                                            "name": "title",
                                                                            "type": "char",
                                                                            "mode": "varchar"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "description",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "text",
                                                                    "length": 10,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "text",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "1a4553d6-14e3-4746-9e98-dedb2a099b00",
                                                                    "required": false,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "description",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        },
                                                                        "newField": {
                                                                            "name": "description",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "GUID": "b7859878-94d1-4468-b4b2-6c527ef6b898",
                                                                    "type": "reference",
                                                                    "name": "release_year",
                                                                    "$ref": "#model/definitions/year",
                                                                    "refType": "model",
                                                                    "ref": "d50e17e9-da0e-4530-b393-3a5b364a89fe",
                                                                    "refIdPath": [
                                                                        "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                        "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                        "d50e17e9-da0e-4530-b393-3a5b364a89fe"
                                                                    ],
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "required": false,
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "release_year",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                                            ]
                                                                        },
                                                                        "newField": {
                                                                            "name": "release_year",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                                "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                                "d50e17e9-da0e-4530-b393-3a5b364a89fe"
                                                                            ]
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "language_id",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "smallint",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "udt_name": "int2",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                                    "required": true,
                                                                    "relationshipType": "Foreign Key",
                                                                    "foreignCollection": "bdee74fe-6bbd-4733-8714-9ff1e30e53c9",
                                                                    "foreignField": [
                                                                        "bdee74fe-6bbd-4733-8714-9ff1e30e53c9",
                                                                        "5833d28e-69e3-400e-81c4-981c8184e9e1"
                                                                    ],
                                                                    "parentRelationship": "5a2914fb-b66d-439e-bcc0-593427170510",
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "language_id",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        },
                                                                        "newField": {
                                                                            "name": "language_id",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "rental_duration",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "smallint",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "3",
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "udt_name": "int2",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "09b2d00b-cde4-4c53-89f6-8e61a8eb8aee",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "rental_duration",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        },
                                                                        "newField": {
                                                                            "name": "rental_duration",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "rental_rate",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "numeric",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "4.99",
                                                                    "precision": 4,
                                                                    "scale": 2,
                                                                    "udt_name": "numeric",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "66bb2149-7561-42a7-8510-d1d92e261d30",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "rental_rate",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        },
                                                                        "newField": {
                                                                            "name": "rental_rate",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "length",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "smallint",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "udt_name": "int2",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "5351d304-4c22-4578-b7c5-4c7a4831c4e7",
                                                                    "required": false,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "length",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        },
                                                                        "newField": {
                                                                            "name": "length",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "replacement_cost",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "numeric",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "19.99",
                                                                    "precision": 5,
                                                                    "scale": 2,
                                                                    "udt_name": "numeric",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "a585a8f8-c0e2-4702-8ac9-2d9603f869c2",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "replacement_cost",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        },
                                                                        "newField": {
                                                                            "name": "replacement_cost",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "GUID": "16c8cca0-5b9b-4210-ba41-b3eaf0d86395",
                                                                    "type": "reference",
                                                                    "name": "rating",
                                                                    "$ref": "#model/definitions/mpaa_rating",
                                                                    "refType": "model",
                                                                    "ref": "b8a8c2d9-471a-4b9c-8bb8-ccd3a9aac456",
                                                                    "refIdPath": [
                                                                        "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                        "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                        "b8a8c2d9-471a-4b9c-8bb8-ccd3a9aac456"
                                                                    ],
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "required": false,
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "rating",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                                            ]
                                                                        },
                                                                        "newField": {
                                                                            "name": "rating",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                                "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                                "b8a8c2d9-471a-4b9c-8bb8-ccd3a9aac456"
                                                                            ]
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "last_update",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "timestamp",
                                                                    "scale": 7,
                                                                    "childType": "datetime",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "now()",
                                                                    "timePrecision": "",
                                                                    "udt_name": "timestamp",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timezone": "WITHOUT TIME ZONE",
                                                                    "GUID": "b41c90d5-bd4b-4d0a-9a99-0b30c85f964b",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "last_update",
                                                                            "type": "datetime",
                                                                            "mode": "timestamp"
                                                                        },
                                                                        "newField": {
                                                                            "name": "last_update",
                                                                            "type": "datetime",
                                                                            "mode": "timestamp"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "special_features",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "text",
                                                                    "length": 10,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "_text",
                                                                    "numberOfArrayDimensions": 1,
                                                                    "timePrecision": "",
                                                                    "array_type": [
                                                                        {
                                                                            "GUID": "ca95a87d-1b5e-4216-ba03-c1d0e20bbd5a"
                                                                        }
                                                                    ],
                                                                    "GUID": "6954c08e-4542-42f4-aa1d-c723085c55da",
                                                                    "required": false,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "special_features",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        },
                                                                        "newField": {
                                                                            "name": "special_features",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "fulltext",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "tsvector",
                                                                    "length": 10,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "tsvector",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "fulltext",
                                                                            "type": "char",
                                                                            "mode": "char"
                                                                        },
                                                                        "newField": {
                                                                            "name": "fulltext",
                                                                            "type": "char",
                                                                            "mode": "tsvector"
                                                                        }
                                                                    }
                                                                }
                                                            ],
                                                            "definitions": {
                                                                "type": "definitions",
                                                                "GUID": "717f1198-3a80-4e3c-abe6-410967f76ac5",
                                                                "properties": []
                                                            },
                                                            "isActivated": true,
                                                            "additionalProperties": true,
                                                            "memory_optimized": false,
                                                            "collectionUsers": [],
                                                            "ifNotExist": true,
                                                            "on_commit": "PRESERVE ROWS",
                                                            "table_tablespace_name": "pg_default",
                                                            "GUID": "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                            "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                            "code": "",
                                                            "temporary": false,
                                                            "unlogged": false,
                                                            "inherits": [],
                                                            "storage_parameter": {
                                                                "GUID": "77ca0061-522c-48b1-9082-f94897ddd934"
                                                            },
                                                            "primaryKey": [],
                                                            "uniqueKey": [],
                                                            "Indxs": [
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "gist",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "f3d6d6cc-06b0-4752-a24e-e7d4d8d72294",
                                                                    "indxName": "film_fulltext_idx",
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                                            "collation": null,
                                                                            "opclass": "pg_catalog.tsvector_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                },
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "btree",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "b1a26e9d-d4a6-4dc7-b293-2fb016d24826",
                                                                    "indxName": "film_pkey",
                                                                    "unique": true,
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                            "sortOrder": "ASC",
                                                                            "nullsOrder": "NULLS LAST",
                                                                            "collation": null,
                                                                            "opclass": "pg_catalog.int4_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                },
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "btree",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "6ecc62a0-adb6-45d1-a098-9b1ea874c0fe",
                                                                    "indxName": "idx_fk_language_id",
                                                                    "unique": false,
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                                            "sortOrder": "ASC",
                                                                            "nullsOrder": "NULLS LAST",
                                                                            "collation": null,
                                                                            "opclass": "pg_catalog.int2_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                },
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "btree",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "b15b60e9-03d0-41a0-8cfb-ca4c429ff8e3",
                                                                    "indxName": "idx_title",
                                                                    "unique": false,
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                            "sortOrder": "ASC",
                                                                            "nullsOrder": "NULLS LAST",
                                                                            "collation": "pg_catalog.\"default\"",
                                                                            "opclass": "pg_catalog.text_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                }
                                                            ],
                                                            "chkConstr": [],
                                                            "triggers": [
                                                                {
                                                                    "triggerType": "BEFORE",
                                                                    "GUID": "2e6d559d-fb1a-4773-b7dd-6926e9521536",
                                                                    "name": "film_fulltext_trigger",
                                                                    "triggerDescription": null,
                                                                    "triggerConstraint": false,
                                                                    "triggerEvents": [
                                                                        {
                                                                            "GUID": "925b7ee8-6bda-419b-b538-0bac9c472b53",
                                                                            "triggerEvent": "INSERT"
                                                                        },
                                                                        {
                                                                            "GUID": "a60ca72f-7ac7-4129-b69f-51076a5e5483",
                                                                            "triggerEvent": "UPDATE"
                                                                        }
                                                                    ],
                                                                    "triggerUpdateColumns": [],
                                                                    "triggerReferencing": false,
                                                                    "triggerEachRowStatement": "FOR EACH ROW",
                                                                    "triggerCondition": null,
                                                                    "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                },
                                                                {
                                                                    "triggerType": "BEFORE",
                                                                    "GUID": "0ebee735-2442-41ca-b416-49879fc8fb6d",
                                                                    "name": "last_updated",
                                                                    "triggerDescription": null,
                                                                    "triggerConstraint": false,
                                                                    "triggerEvents": [
                                                                        {
                                                                            "GUID": "3cca6ea9-e61c-4e64-b0a1-8a1217126487",
                                                                            "triggerEvent": "UPDATE"
                                                                        }
                                                                    ],
                                                                    "triggerUpdateColumns": [],
                                                                    "triggerReferencing": false,
                                                                    "triggerEachRowStatement": "FOR EACH ROW",
                                                                    "triggerCondition": null,
                                                                    "triggerFunction": "last_updated()"
                                                                }
                                                            ],
                                                            "hackoladeMeta": {
                                                                "validationErrors": {}
                                                            }
                                                        }
                                                    ]
                                                },
                                                "created": false,
                                                "deleted": false,
                                                "modified": true
                                            },
                                            "role": {
                                                "code": "",
                                                "name": "mpaa_rating",
                                                "isActivated": true,
                                                "primaryKey": false,
                                                "unique": false,
                                                "childType": "enum",
                                                "type": "string",
                                                "compositeKey": [
                                                    "compositePartitionKey",
                                                    "compositePrimaryKey",
                                                    "compositeUniqueKey",
                                                    "triggerUpdateColumns"
                                                ],
                                                "compositePartitionKey": false,
                                                "compositePrimaryKey": false,
                                                "compositeUniqueKey": false,
                                                "triggerUpdateColumns": false,
                                                "enum": [
                                                    "G",
                                                    "PG",
                                                    "PG-13",
                                                    "R",
                                                    "NC-17"
                                                ],
                                                "GUID": "b8a8c2d9-471a-4b9c-8bb8-ccd3a9aac456",
                                                "error": {},
                                                "definitionRefs": [
                                                    [
                                                        "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                        "16c8cca0-5b9b-4210-ba41-b3eaf0d86395"
                                                    ]
                                                ],
                                                "compMod": {
                                                    "name": {
                                                        "new": "mpaa_rating",
                                                        "old": "mpaa_rating"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "childType": {
                                                        "new": "enum",
                                                        "old": "enum"
                                                    },
                                                    "type": {
                                                        "new": "string",
                                                        "old": "string"
                                                    },
                                                    "compositeKey": {
                                                        "new": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "old": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ]
                                                    },
                                                    "enum": {
                                                        "new": [
                                                            "G",
                                                            "PG",
                                                            "PG-13",
                                                            "R",
                                                            "NC-17"
                                                        ],
                                                        "old": [
                                                            "G",
                                                            "PG",
                                                            "PG-13",
                                                            "R",
                                                            "NC-17"
                                                        ]
                                                    },
                                                    "GUID": {
                                                        "new": "b8a8c2d9-471a-4b9c-8bb8-ccd3a9aac456",
                                                        "old": "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                    },
                                                    "error": {
                                                        "new": {},
                                                        "old": {}
                                                    },
                                                    "definitionRefs": {
                                                        "new": [
                                                            [
                                                                "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                                "16c8cca0-5b9b-4210-ba41-b3eaf0d86395"
                                                            ]
                                                        ],
                                                        "old": [
                                                            [
                                                                "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                                "e68a1871-76ac-4681-81c3-ec253415c4b5"
                                                            ]
                                                        ]
                                                    },
                                                    "bucketsWithCurrentDefinition": {
                                                        "public": [
                                                            {
                                                                "collectionName": "film",
                                                                "type": "object",
                                                                "properties": [
                                                                    {
                                                                        "code": "",
                                                                        "name": "film_id",
                                                                        "isActivated": true,
                                                                        "primaryKey": true,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "integer",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "nextval('film_film_id_seq'::regclass)",
                                                                        "precision": 32,
                                                                        "scale": 0,
                                                                        "udt_name": "int4",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "primaryKeyOptions": [
                                                                            {
                                                                                "constraintName": "film_pkey",
                                                                                "indexStorageParameters": "",
                                                                                "indexTablespace": null,
                                                                                "GUID": "e76b9024-b404-4980-8dcc-128d8e177b38"
                                                                            }
                                                                        ],
                                                                        "GUID": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                        "required": true,
                                                                        "childRelationships": [
                                                                            "83879be8-57dd-42ae-8c89-6d55830f67d7",
                                                                            "5f3a7439-69cd-4bb2-902f-2392ba91e61c",
                                                                            "cd01e55f-4b8b-4577-8c17-66e2c2c5e1c9"
                                                                        ],
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "film_id",
                                                                                "type": "numeric",
                                                                                "mode": "integer"
                                                                            },
                                                                            "newField": {
                                                                                "name": "film_id",
                                                                                "type": "numeric",
                                                                                "mode": "integer"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "title",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "varchar",
                                                                        "length": 255,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "varchar",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "title",
                                                                                "type": "char",
                                                                                "mode": "varchar"
                                                                            },
                                                                            "newField": {
                                                                                "name": "title",
                                                                                "type": "char",
                                                                                "mode": "varchar"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "description",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "text",
                                                                        "length": 10,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "text",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "1a4553d6-14e3-4746-9e98-dedb2a099b00",
                                                                        "required": false,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "description",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            },
                                                                            "newField": {
                                                                                "name": "description",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "GUID": "b7859878-94d1-4468-b4b2-6c527ef6b898",
                                                                        "type": "reference",
                                                                        "name": "release_year",
                                                                        "$ref": "#model/definitions/year",
                                                                        "refType": "model",
                                                                        "ref": "d50e17e9-da0e-4530-b393-3a5b364a89fe",
                                                                        "refIdPath": [
                                                                            "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                            "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                            "d50e17e9-da0e-4530-b393-3a5b364a89fe"
                                                                        ],
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "required": false,
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "release_year",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                    "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                    "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                                                ]
                                                                            },
                                                                            "newField": {
                                                                                "name": "release_year",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                                    "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                                    "d50e17e9-da0e-4530-b393-3a5b364a89fe"
                                                                                ]
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "language_id",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "smallint",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "precision": 16,
                                                                        "scale": 0,
                                                                        "udt_name": "int2",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                                        "required": true,
                                                                        "relationshipType": "Foreign Key",
                                                                        "foreignCollection": "bdee74fe-6bbd-4733-8714-9ff1e30e53c9",
                                                                        "foreignField": [
                                                                            "bdee74fe-6bbd-4733-8714-9ff1e30e53c9",
                                                                            "5833d28e-69e3-400e-81c4-981c8184e9e1"
                                                                        ],
                                                                        "parentRelationship": "5a2914fb-b66d-439e-bcc0-593427170510",
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "language_id",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            },
                                                                            "newField": {
                                                                                "name": "language_id",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "rental_duration",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "smallint",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "3",
                                                                        "precision": 16,
                                                                        "scale": 0,
                                                                        "udt_name": "int2",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "09b2d00b-cde4-4c53-89f6-8e61a8eb8aee",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "rental_duration",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            },
                                                                            "newField": {
                                                                                "name": "rental_duration",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "rental_rate",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "numeric",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "4.99",
                                                                        "precision": 4,
                                                                        "scale": 2,
                                                                        "udt_name": "numeric",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "66bb2149-7561-42a7-8510-d1d92e261d30",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "rental_rate",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            },
                                                                            "newField": {
                                                                                "name": "rental_rate",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "length",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "smallint",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "precision": 16,
                                                                        "scale": 0,
                                                                        "udt_name": "int2",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "5351d304-4c22-4578-b7c5-4c7a4831c4e7",
                                                                        "required": false,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "length",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            },
                                                                            "newField": {
                                                                                "name": "length",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "replacement_cost",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "numeric",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "19.99",
                                                                        "precision": 5,
                                                                        "scale": 2,
                                                                        "udt_name": "numeric",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "a585a8f8-c0e2-4702-8ac9-2d9603f869c2",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "replacement_cost",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            },
                                                                            "newField": {
                                                                                "name": "replacement_cost",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "GUID": "16c8cca0-5b9b-4210-ba41-b3eaf0d86395",
                                                                        "type": "reference",
                                                                        "name": "rating",
                                                                        "$ref": "#model/definitions/mpaa_rating",
                                                                        "refType": "model",
                                                                        "ref": "b8a8c2d9-471a-4b9c-8bb8-ccd3a9aac456",
                                                                        "refIdPath": [
                                                                            "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                            "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                            "b8a8c2d9-471a-4b9c-8bb8-ccd3a9aac456"
                                                                        ],
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "required": false,
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "rating",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                    "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                    "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                                                ]
                                                                            },
                                                                            "newField": {
                                                                                "name": "rating",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                                    "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                                    "b8a8c2d9-471a-4b9c-8bb8-ccd3a9aac456"
                                                                                ]
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "last_update",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "timestamp",
                                                                        "scale": 7,
                                                                        "childType": "datetime",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "now()",
                                                                        "timePrecision": "",
                                                                        "udt_name": "timestamp",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timezone": "WITHOUT TIME ZONE",
                                                                        "GUID": "b41c90d5-bd4b-4d0a-9a99-0b30c85f964b",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "last_update",
                                                                                "type": "datetime",
                                                                                "mode": "timestamp"
                                                                            },
                                                                            "newField": {
                                                                                "name": "last_update",
                                                                                "type": "datetime",
                                                                                "mode": "timestamp"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "special_features",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "text",
                                                                        "length": 10,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "_text",
                                                                        "numberOfArrayDimensions": 1,
                                                                        "timePrecision": "",
                                                                        "array_type": [
                                                                            {
                                                                                "GUID": "ca95a87d-1b5e-4216-ba03-c1d0e20bbd5a"
                                                                            }
                                                                        ],
                                                                        "GUID": "6954c08e-4542-42f4-aa1d-c723085c55da",
                                                                        "required": false,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "special_features",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            },
                                                                            "newField": {
                                                                                "name": "special_features",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "fulltext",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "tsvector",
                                                                        "length": 10,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "tsvector",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "fulltext",
                                                                                "type": "char",
                                                                                "mode": "char"
                                                                            },
                                                                            "newField": {
                                                                                "name": "fulltext",
                                                                                "type": "char",
                                                                                "mode": "tsvector"
                                                                            }
                                                                        }
                                                                    }
                                                                ],
                                                                "definitions": {
                                                                    "type": "definitions",
                                                                    "GUID": "717f1198-3a80-4e3c-abe6-410967f76ac5",
                                                                    "properties": []
                                                                },
                                                                "isActivated": true,
                                                                "additionalProperties": true,
                                                                "memory_optimized": false,
                                                                "collectionUsers": [],
                                                                "ifNotExist": true,
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default",
                                                                "GUID": "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                                "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                "code": "",
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "inherits": [],
                                                                "storage_parameter": {
                                                                    "GUID": "77ca0061-522c-48b1-9082-f94897ddd934"
                                                                },
                                                                "primaryKey": [],
                                                                "uniqueKey": [],
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "gist",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "f3d6d6cc-06b0-4752-a24e-e7d4d8d72294",
                                                                        "indxName": "film_fulltext_idx",
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.tsvector_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "b1a26e9d-d4a6-4dc7-b293-2fb016d24826",
                                                                        "indxName": "film_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "6ecc62a0-adb6-45d1-a098-9b1ea874c0fe",
                                                                        "indxName": "idx_fk_language_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "b15b60e9-03d0-41a0-8cfb-ca4c429ff8e3",
                                                                        "indxName": "idx_title",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": "pg_catalog.\"default\"",
                                                                                "opclass": "pg_catalog.text_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ],
                                                                "chkConstr": [],
                                                                "triggers": [
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "2e6d559d-fb1a-4773-b7dd-6926e9521536",
                                                                        "name": "film_fulltext_trigger",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "925b7ee8-6bda-419b-b538-0bac9c472b53",
                                                                                "triggerEvent": "INSERT"
                                                                            },
                                                                            {
                                                                                "GUID": "a60ca72f-7ac7-4129-b69f-51076a5e5483",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                    },
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "0ebee735-2442-41ca-b416-49879fc8fb6d",
                                                                        "name": "last_updated",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "3cca6ea9-e61c-4e64-b0a1-8a1217126487",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "last_updated()"
                                                                    }
                                                                ],
                                                                "hackoladeMeta": {
                                                                    "validationErrors": {}
                                                                }
                                                            }
                                                        ]
                                                    },
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "oldProperties": []
                                                },
                                                "roleType": "definition"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "a19bde93-a4f4-4a61-adcd-daeedc433cb8",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "year",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "afe91ec3-9805-406b-ba4b-38402ccda4d9",
                                            "compMod": {
                                                "name": {
                                                    "new": "year",
                                                    "old": "year"
                                                },
                                                "isActivated": {
                                                    "new": true,
                                                    "old": true
                                                },
                                                "childType": {
                                                    "new": "domain",
                                                    "old": "char"
                                                },
                                                "type": {
                                                    "new": "string",
                                                    "old": "string"
                                                },
                                                "compositeKey": {
                                                    "new": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "old": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ]
                                                },
                                                "GUID": {
                                                    "new": "d50e17e9-da0e-4530-b393-3a5b364a89fe",
                                                    "old": "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                },
                                                "error": {
                                                    "new": {},
                                                    "old": {}
                                                },
                                                "definitionRefs": {
                                                    "new": [
                                                        [
                                                            "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                            "b7859878-94d1-4468-b4b2-6c527ef6b898"
                                                        ]
                                                    ],
                                                    "old": [
                                                        [
                                                            "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                            "6fefbd25-0e5b-49ea-8597-da8c71a076db"
                                                        ]
                                                    ]
                                                },
                                                "bucketsWithCurrentDefinition": {
                                                    "public": [
                                                        {
                                                            "collectionName": "film",
                                                            "type": "object",
                                                            "properties": [
                                                                {
                                                                    "code": "",
                                                                    "name": "film_id",
                                                                    "isActivated": true,
                                                                    "primaryKey": true,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "integer",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "nextval('film_film_id_seq'::regclass)",
                                                                    "precision": 32,
                                                                    "scale": 0,
                                                                    "udt_name": "int4",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "primaryKeyOptions": [
                                                                        {
                                                                            "constraintName": "film_pkey",
                                                                            "indexStorageParameters": "",
                                                                            "indexTablespace": null,
                                                                            "GUID": "e76b9024-b404-4980-8dcc-128d8e177b38"
                                                                        }
                                                                    ],
                                                                    "GUID": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                    "required": true,
                                                                    "childRelationships": [
                                                                        "83879be8-57dd-42ae-8c89-6d55830f67d7",
                                                                        "5f3a7439-69cd-4bb2-902f-2392ba91e61c",
                                                                        "cd01e55f-4b8b-4577-8c17-66e2c2c5e1c9"
                                                                    ],
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "film_id",
                                                                            "type": "numeric",
                                                                            "mode": "integer"
                                                                        },
                                                                        "newField": {
                                                                            "name": "film_id",
                                                                            "type": "numeric",
                                                                            "mode": "integer"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "title",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "varchar",
                                                                    "length": 255,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "varchar",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "title",
                                                                            "type": "char",
                                                                            "mode": "varchar"
                                                                        },
                                                                        "newField": {
                                                                            "name": "title",
                                                                            "type": "char",
                                                                            "mode": "varchar"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "description",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "text",
                                                                    "length": 10,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "text",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "1a4553d6-14e3-4746-9e98-dedb2a099b00",
                                                                    "required": false,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "description",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        },
                                                                        "newField": {
                                                                            "name": "description",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "GUID": "b7859878-94d1-4468-b4b2-6c527ef6b898",
                                                                    "type": "reference",
                                                                    "name": "release_year",
                                                                    "$ref": "#model/definitions/year",
                                                                    "refType": "model",
                                                                    "ref": "d50e17e9-da0e-4530-b393-3a5b364a89fe",
                                                                    "refIdPath": [
                                                                        "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                        "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                        "d50e17e9-da0e-4530-b393-3a5b364a89fe"
                                                                    ],
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "required": false,
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "release_year",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                                            ]
                                                                        },
                                                                        "newField": {
                                                                            "name": "release_year",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                                "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                                "d50e17e9-da0e-4530-b393-3a5b364a89fe"
                                                                            ]
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "language_id",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "smallint",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "udt_name": "int2",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                                    "required": true,
                                                                    "relationshipType": "Foreign Key",
                                                                    "foreignCollection": "bdee74fe-6bbd-4733-8714-9ff1e30e53c9",
                                                                    "foreignField": [
                                                                        "bdee74fe-6bbd-4733-8714-9ff1e30e53c9",
                                                                        "5833d28e-69e3-400e-81c4-981c8184e9e1"
                                                                    ],
                                                                    "parentRelationship": "5a2914fb-b66d-439e-bcc0-593427170510",
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "language_id",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        },
                                                                        "newField": {
                                                                            "name": "language_id",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "rental_duration",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "smallint",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "3",
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "udt_name": "int2",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "09b2d00b-cde4-4c53-89f6-8e61a8eb8aee",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "rental_duration",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        },
                                                                        "newField": {
                                                                            "name": "rental_duration",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "rental_rate",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "numeric",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "4.99",
                                                                    "precision": 4,
                                                                    "scale": 2,
                                                                    "udt_name": "numeric",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "66bb2149-7561-42a7-8510-d1d92e261d30",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "rental_rate",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        },
                                                                        "newField": {
                                                                            "name": "rental_rate",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "length",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "smallint",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "udt_name": "int2",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "5351d304-4c22-4578-b7c5-4c7a4831c4e7",
                                                                    "required": false,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "length",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        },
                                                                        "newField": {
                                                                            "name": "length",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "replacement_cost",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "numeric",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "19.99",
                                                                    "precision": 5,
                                                                    "scale": 2,
                                                                    "udt_name": "numeric",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "a585a8f8-c0e2-4702-8ac9-2d9603f869c2",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "replacement_cost",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        },
                                                                        "newField": {
                                                                            "name": "replacement_cost",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "GUID": "16c8cca0-5b9b-4210-ba41-b3eaf0d86395",
                                                                    "type": "reference",
                                                                    "name": "rating",
                                                                    "$ref": "#model/definitions/mpaa_rating",
                                                                    "refType": "model",
                                                                    "ref": "b8a8c2d9-471a-4b9c-8bb8-ccd3a9aac456",
                                                                    "refIdPath": [
                                                                        "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                        "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                        "b8a8c2d9-471a-4b9c-8bb8-ccd3a9aac456"
                                                                    ],
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "required": false,
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "rating",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                                            ]
                                                                        },
                                                                        "newField": {
                                                                            "name": "rating",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                                "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                                "b8a8c2d9-471a-4b9c-8bb8-ccd3a9aac456"
                                                                            ]
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "last_update",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "timestamp",
                                                                    "scale": 7,
                                                                    "childType": "datetime",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "now()",
                                                                    "timePrecision": "",
                                                                    "udt_name": "timestamp",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timezone": "WITHOUT TIME ZONE",
                                                                    "GUID": "b41c90d5-bd4b-4d0a-9a99-0b30c85f964b",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "last_update",
                                                                            "type": "datetime",
                                                                            "mode": "timestamp"
                                                                        },
                                                                        "newField": {
                                                                            "name": "last_update",
                                                                            "type": "datetime",
                                                                            "mode": "timestamp"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "special_features",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "text",
                                                                    "length": 10,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "_text",
                                                                    "numberOfArrayDimensions": 1,
                                                                    "timePrecision": "",
                                                                    "array_type": [
                                                                        {
                                                                            "GUID": "ca95a87d-1b5e-4216-ba03-c1d0e20bbd5a"
                                                                        }
                                                                    ],
                                                                    "GUID": "6954c08e-4542-42f4-aa1d-c723085c55da",
                                                                    "required": false,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "special_features",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        },
                                                                        "newField": {
                                                                            "name": "special_features",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "fulltext",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "tsvector",
                                                                    "length": 10,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "tsvector",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "fulltext",
                                                                            "type": "char",
                                                                            "mode": "char"
                                                                        },
                                                                        "newField": {
                                                                            "name": "fulltext",
                                                                            "type": "char",
                                                                            "mode": "tsvector"
                                                                        }
                                                                    }
                                                                }
                                                            ],
                                                            "definitions": {
                                                                "type": "definitions",
                                                                "GUID": "717f1198-3a80-4e3c-abe6-410967f76ac5",
                                                                "properties": []
                                                            },
                                                            "isActivated": true,
                                                            "additionalProperties": true,
                                                            "memory_optimized": false,
                                                            "collectionUsers": [],
                                                            "ifNotExist": true,
                                                            "on_commit": "PRESERVE ROWS",
                                                            "table_tablespace_name": "pg_default",
                                                            "GUID": "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                            "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                            "code": "",
                                                            "temporary": false,
                                                            "unlogged": false,
                                                            "inherits": [],
                                                            "storage_parameter": {
                                                                "GUID": "77ca0061-522c-48b1-9082-f94897ddd934"
                                                            },
                                                            "primaryKey": [],
                                                            "uniqueKey": [],
                                                            "Indxs": [
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "gist",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "f3d6d6cc-06b0-4752-a24e-e7d4d8d72294",
                                                                    "indxName": "film_fulltext_idx",
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                                            "collation": null,
                                                                            "opclass": "pg_catalog.tsvector_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                },
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "btree",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "b1a26e9d-d4a6-4dc7-b293-2fb016d24826",
                                                                    "indxName": "film_pkey",
                                                                    "unique": true,
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                            "sortOrder": "ASC",
                                                                            "nullsOrder": "NULLS LAST",
                                                                            "collation": null,
                                                                            "opclass": "pg_catalog.int4_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                },
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "btree",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "6ecc62a0-adb6-45d1-a098-9b1ea874c0fe",
                                                                    "indxName": "idx_fk_language_id",
                                                                    "unique": false,
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                                            "sortOrder": "ASC",
                                                                            "nullsOrder": "NULLS LAST",
                                                                            "collation": null,
                                                                            "opclass": "pg_catalog.int2_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                },
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "btree",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "b15b60e9-03d0-41a0-8cfb-ca4c429ff8e3",
                                                                    "indxName": "idx_title",
                                                                    "unique": false,
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                            "sortOrder": "ASC",
                                                                            "nullsOrder": "NULLS LAST",
                                                                            "collation": "pg_catalog.\"default\"",
                                                                            "opclass": "pg_catalog.text_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                }
                                                            ],
                                                            "chkConstr": [],
                                                            "triggers": [
                                                                {
                                                                    "triggerType": "BEFORE",
                                                                    "GUID": "2e6d559d-fb1a-4773-b7dd-6926e9521536",
                                                                    "name": "film_fulltext_trigger",
                                                                    "triggerDescription": null,
                                                                    "triggerConstraint": false,
                                                                    "triggerEvents": [
                                                                        {
                                                                            "GUID": "925b7ee8-6bda-419b-b538-0bac9c472b53",
                                                                            "triggerEvent": "INSERT"
                                                                        },
                                                                        {
                                                                            "GUID": "a60ca72f-7ac7-4129-b69f-51076a5e5483",
                                                                            "triggerEvent": "UPDATE"
                                                                        }
                                                                    ],
                                                                    "triggerUpdateColumns": [],
                                                                    "triggerReferencing": false,
                                                                    "triggerEachRowStatement": "FOR EACH ROW",
                                                                    "triggerCondition": null,
                                                                    "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                },
                                                                {
                                                                    "triggerType": "BEFORE",
                                                                    "GUID": "0ebee735-2442-41ca-b416-49879fc8fb6d",
                                                                    "name": "last_updated",
                                                                    "triggerDescription": null,
                                                                    "triggerConstraint": false,
                                                                    "triggerEvents": [
                                                                        {
                                                                            "GUID": "3cca6ea9-e61c-4e64-b0a1-8a1217126487",
                                                                            "triggerEvent": "UPDATE"
                                                                        }
                                                                    ],
                                                                    "triggerUpdateColumns": [],
                                                                    "triggerReferencing": false,
                                                                    "triggerEachRowStatement": "FOR EACH ROW",
                                                                    "triggerCondition": null,
                                                                    "triggerFunction": "last_updated()"
                                                                }
                                                            ],
                                                            "hackoladeMeta": {
                                                                "validationErrors": {}
                                                            }
                                                        }
                                                    ]
                                                },
                                                "created": false,
                                                "deleted": false,
                                                "modified": true
                                            },
                                            "role": {
                                                "code": "",
                                                "name": "year",
                                                "isActivated": true,
                                                "primaryKey": false,
                                                "unique": false,
                                                "childType": "domain",
                                                "type": "string",
                                                "compositeKey": [
                                                    "compositePartitionKey",
                                                    "compositePrimaryKey",
                                                    "compositeUniqueKey",
                                                    "triggerUpdateColumns"
                                                ],
                                                "compositePartitionKey": false,
                                                "compositePrimaryKey": false,
                                                "compositeUniqueKey": false,
                                                "triggerUpdateColumns": false,
                                                "underlyingType": "integer",
                                                "collation": "",
                                                "default": "",
                                                "required": false,
                                                "checkConstraints": [
                                                    {
                                                        "name": "year_check",
                                                        "expression": "((VALUE >= 1901) AND (VALUE <= 2155))",
                                                        "GUID": "b78ba8e6-72fb-4fc4-be40-2638a31eaf03"
                                                    }
                                                ],
                                                "GUID": "d50e17e9-da0e-4530-b393-3a5b364a89fe",
                                                "error": {},
                                                "definitionRefs": [
                                                    [
                                                        "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                        "b7859878-94d1-4468-b4b2-6c527ef6b898"
                                                    ]
                                                ],
                                                "compMod": {
                                                    "name": {
                                                        "new": "year",
                                                        "old": "year"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "childType": {
                                                        "new": "domain",
                                                        "old": "char"
                                                    },
                                                    "type": {
                                                        "new": "string",
                                                        "old": "string"
                                                    },
                                                    "compositeKey": {
                                                        "new": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "old": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ]
                                                    },
                                                    "GUID": {
                                                        "new": "d50e17e9-da0e-4530-b393-3a5b364a89fe",
                                                        "old": "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                    },
                                                    "error": {
                                                        "new": {},
                                                        "old": {}
                                                    },
                                                    "definitionRefs": {
                                                        "new": [
                                                            [
                                                                "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                                "b7859878-94d1-4468-b4b2-6c527ef6b898"
                                                            ]
                                                        ],
                                                        "old": [
                                                            [
                                                                "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                                "6fefbd25-0e5b-49ea-8597-da8c71a076db"
                                                            ]
                                                        ]
                                                    },
                                                    "bucketsWithCurrentDefinition": {
                                                        "public": [
                                                            {
                                                                "collectionName": "film",
                                                                "type": "object",
                                                                "properties": [
                                                                    {
                                                                        "code": "",
                                                                        "name": "film_id",
                                                                        "isActivated": true,
                                                                        "primaryKey": true,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "integer",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "nextval('film_film_id_seq'::regclass)",
                                                                        "precision": 32,
                                                                        "scale": 0,
                                                                        "udt_name": "int4",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "primaryKeyOptions": [
                                                                            {
                                                                                "constraintName": "film_pkey",
                                                                                "indexStorageParameters": "",
                                                                                "indexTablespace": null,
                                                                                "GUID": "e76b9024-b404-4980-8dcc-128d8e177b38"
                                                                            }
                                                                        ],
                                                                        "GUID": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                        "required": true,
                                                                        "childRelationships": [
                                                                            "83879be8-57dd-42ae-8c89-6d55830f67d7",
                                                                            "5f3a7439-69cd-4bb2-902f-2392ba91e61c",
                                                                            "cd01e55f-4b8b-4577-8c17-66e2c2c5e1c9"
                                                                        ],
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "film_id",
                                                                                "type": "numeric",
                                                                                "mode": "integer"
                                                                            },
                                                                            "newField": {
                                                                                "name": "film_id",
                                                                                "type": "numeric",
                                                                                "mode": "integer"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "title",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "varchar",
                                                                        "length": 255,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "varchar",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "title",
                                                                                "type": "char",
                                                                                "mode": "varchar"
                                                                            },
                                                                            "newField": {
                                                                                "name": "title",
                                                                                "type": "char",
                                                                                "mode": "varchar"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "description",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "text",
                                                                        "length": 10,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "text",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "1a4553d6-14e3-4746-9e98-dedb2a099b00",
                                                                        "required": false,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "description",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            },
                                                                            "newField": {
                                                                                "name": "description",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "GUID": "b7859878-94d1-4468-b4b2-6c527ef6b898",
                                                                        "type": "reference",
                                                                        "name": "release_year",
                                                                        "$ref": "#model/definitions/year",
                                                                        "refType": "model",
                                                                        "ref": "d50e17e9-da0e-4530-b393-3a5b364a89fe",
                                                                        "refIdPath": [
                                                                            "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                            "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                            "d50e17e9-da0e-4530-b393-3a5b364a89fe"
                                                                        ],
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "required": false,
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "release_year",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                    "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                    "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                                                ]
                                                                            },
                                                                            "newField": {
                                                                                "name": "release_year",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                                    "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                                    "d50e17e9-da0e-4530-b393-3a5b364a89fe"
                                                                                ]
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "language_id",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "smallint",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "precision": 16,
                                                                        "scale": 0,
                                                                        "udt_name": "int2",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                                        "required": true,
                                                                        "relationshipType": "Foreign Key",
                                                                        "foreignCollection": "bdee74fe-6bbd-4733-8714-9ff1e30e53c9",
                                                                        "foreignField": [
                                                                            "bdee74fe-6bbd-4733-8714-9ff1e30e53c9",
                                                                            "5833d28e-69e3-400e-81c4-981c8184e9e1"
                                                                        ],
                                                                        "parentRelationship": "5a2914fb-b66d-439e-bcc0-593427170510",
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "language_id",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            },
                                                                            "newField": {
                                                                                "name": "language_id",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "rental_duration",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "smallint",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "3",
                                                                        "precision": 16,
                                                                        "scale": 0,
                                                                        "udt_name": "int2",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "09b2d00b-cde4-4c53-89f6-8e61a8eb8aee",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "rental_duration",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            },
                                                                            "newField": {
                                                                                "name": "rental_duration",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "rental_rate",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "numeric",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "4.99",
                                                                        "precision": 4,
                                                                        "scale": 2,
                                                                        "udt_name": "numeric",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "66bb2149-7561-42a7-8510-d1d92e261d30",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "rental_rate",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            },
                                                                            "newField": {
                                                                                "name": "rental_rate",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "length",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "smallint",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "precision": 16,
                                                                        "scale": 0,
                                                                        "udt_name": "int2",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "5351d304-4c22-4578-b7c5-4c7a4831c4e7",
                                                                        "required": false,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "length",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            },
                                                                            "newField": {
                                                                                "name": "length",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "replacement_cost",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "numeric",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "19.99",
                                                                        "precision": 5,
                                                                        "scale": 2,
                                                                        "udt_name": "numeric",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "a585a8f8-c0e2-4702-8ac9-2d9603f869c2",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "replacement_cost",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            },
                                                                            "newField": {
                                                                                "name": "replacement_cost",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "GUID": "16c8cca0-5b9b-4210-ba41-b3eaf0d86395",
                                                                        "type": "reference",
                                                                        "name": "rating",
                                                                        "$ref": "#model/definitions/mpaa_rating",
                                                                        "refType": "model",
                                                                        "ref": "b8a8c2d9-471a-4b9c-8bb8-ccd3a9aac456",
                                                                        "refIdPath": [
                                                                            "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                            "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                            "b8a8c2d9-471a-4b9c-8bb8-ccd3a9aac456"
                                                                        ],
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "required": false,
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "rating",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                    "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                    "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                                                ]
                                                                            },
                                                                            "newField": {
                                                                                "name": "rating",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "4ee9b515-6e59-4daa-849b-730d20ad5469",
                                                                                    "5e1161c7-5396-46b9-b032-2874d94572b8",
                                                                                    "b8a8c2d9-471a-4b9c-8bb8-ccd3a9aac456"
                                                                                ]
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "last_update",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "timestamp",
                                                                        "scale": 7,
                                                                        "childType": "datetime",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "now()",
                                                                        "timePrecision": "",
                                                                        "udt_name": "timestamp",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timezone": "WITHOUT TIME ZONE",
                                                                        "GUID": "b41c90d5-bd4b-4d0a-9a99-0b30c85f964b",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "last_update",
                                                                                "type": "datetime",
                                                                                "mode": "timestamp"
                                                                            },
                                                                            "newField": {
                                                                                "name": "last_update",
                                                                                "type": "datetime",
                                                                                "mode": "timestamp"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "special_features",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "text",
                                                                        "length": 10,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "_text",
                                                                        "numberOfArrayDimensions": 1,
                                                                        "timePrecision": "",
                                                                        "array_type": [
                                                                            {
                                                                                "GUID": "ca95a87d-1b5e-4216-ba03-c1d0e20bbd5a"
                                                                            }
                                                                        ],
                                                                        "GUID": "6954c08e-4542-42f4-aa1d-c723085c55da",
                                                                        "required": false,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "special_features",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            },
                                                                            "newField": {
                                                                                "name": "special_features",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "fulltext",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "tsvector",
                                                                        "length": 10,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "tsvector",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "fulltext",
                                                                                "type": "char",
                                                                                "mode": "char"
                                                                            },
                                                                            "newField": {
                                                                                "name": "fulltext",
                                                                                "type": "char",
                                                                                "mode": "tsvector"
                                                                            }
                                                                        }
                                                                    }
                                                                ],
                                                                "definitions": {
                                                                    "type": "definitions",
                                                                    "GUID": "717f1198-3a80-4e3c-abe6-410967f76ac5",
                                                                    "properties": []
                                                                },
                                                                "isActivated": true,
                                                                "additionalProperties": true,
                                                                "memory_optimized": false,
                                                                "collectionUsers": [],
                                                                "ifNotExist": true,
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default",
                                                                "GUID": "e03ceef3-b908-4da2-8510-2497f5427ff9",
                                                                "bucketId": "b3d26ace-fed4-47fd-98c6-3bf59c7f869e",
                                                                "code": "",
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "inherits": [],
                                                                "storage_parameter": {
                                                                    "GUID": "77ca0061-522c-48b1-9082-f94897ddd934"
                                                                },
                                                                "primaryKey": [],
                                                                "uniqueKey": [],
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "gist",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "f3d6d6cc-06b0-4752-a24e-e7d4d8d72294",
                                                                        "indxName": "film_fulltext_idx",
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "eb785d4a-53ee-469e-920f-b5ceeca54af3",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.tsvector_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "b1a26e9d-d4a6-4dc7-b293-2fb016d24826",
                                                                        "indxName": "film_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "1929a9b3-c3e2-4a98-bea8-1241fe33de17",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "6ecc62a0-adb6-45d1-a098-9b1ea874c0fe",
                                                                        "indxName": "idx_fk_language_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "c6952d3e-84f3-4aef-9aa4-79e2f751c686",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "b15b60e9-03d0-41a0-8cfb-ca4c429ff8e3",
                                                                        "indxName": "idx_title",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "f8aa0b75-87a4-42ff-9c42-ffd93181c6e0",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": "pg_catalog.\"default\"",
                                                                                "opclass": "pg_catalog.text_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ],
                                                                "chkConstr": [],
                                                                "triggers": [
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "2e6d559d-fb1a-4773-b7dd-6926e9521536",
                                                                        "name": "film_fulltext_trigger",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "925b7ee8-6bda-419b-b538-0bac9c472b53",
                                                                                "triggerEvent": "INSERT"
                                                                            },
                                                                            {
                                                                                "GUID": "a60ca72f-7ac7-4129-b69f-51076a5e5483",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                    },
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "0ebee735-2442-41ca-b416-49879fc8fb6d",
                                                                        "name": "last_updated",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "3cca6ea9-e61c-4e64-b0a1-8a1217126487",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "last_updated()"
                                                                    }
                                                                ],
                                                                "hackoladeMeta": {
                                                                    "validationErrors": {}
                                                                }
                                                            }
                                                        ]
                                                    },
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "oldProperties": []
                                                },
                                                "roleType": "definition"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "d9b46ee0-bc6a-46c7-8519-0182f07929c4",
                                    "arrayItem": true
                                }
                            ],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "47aa7ae5-0d31-41ed-b9d2-3bda64c46dab"
                        }
                    ],
                    "childType": "object",
                    "type": "document",
                    "compositeKey": [
                        "compositePartitionKey",
                        "compositePrimaryKey",
                        "compositeUniqueKey",
                        "triggerUpdateColumns"
                    ],
                    "compositePartitionKey": false,
                    "compositePrimaryKey": false,
                    "compositeUniqueKey": false,
                    "triggerUpdateColumns": false,
                    "GUID": "326d1795-ef51-45a1-8f53-bfd01a98f424"
                }
            ],
            "definitions": {
                "type": "definitions",
                "properties": [],
                "GUID": "5cabde8a-c5f7-4a6c-909f-fa6ab36f9533"
            },
            "isActivated": true,
            "additionalProperties": false,
            "memory_optimized": false,
            "collectionUsers": [],
            "ifNotExist": true,
            "on_commit": "PRESERVE ROWS",
            "table_tablespace_name": "pg_default",
            "GUID": "1b65ab83-3dc1-4a88-8173-3cb0949cf724"
        }
    ],
    "buckets": [],
    "views": [],
    "relationships": [],
    "users": [],
    "diagramViews": [],
    "idToNameHashTable": {
        "1b2563d3-2e47-490e-b835-41a5a592a049": "added",
        "ffd6caea-522f-41b9-b0e4-64642edf0913": "deleted",
        "2796b151-6f29-40f2-8fd4-78ee6fffbefe": "modified",
        "f63d012c-16f5-4cb8-ab0c-83ed07e00678": "public",
        "b3d26ace-fed4-47fd-98c6-3bf59c7f869e": "public",
        "df738482-6d33-4e1e-85c9-11083d777cb4": "public",
        "86eb1768-55b4-44aa-9ee1-e5f234e7074d": "added",
        "c4b0a9a3-eedc-41e3-a3ab-133e63e4d738": "deleted",
        "997fd2df-db44-4db3-8ec6-a32ade49421b": "modified",
        "598d6c54-2278-4e16-9776-ff10b7fc0049": "actor",
        "3aa8ab42-ca75-4e26-af78-c27ffae0b39d": "address",
        "2c2f066f-cb66-4247-b9ae-f8defe49f589": "category",
        "eec1da4e-c313-4cd1-99d3-6bf4b095645e": "city",
        "8d07f2f0-9546-49c8-8d00-f51f54b0d71e": "country",
        "9ffbb409-fe3e-425b-91b7-c63908114dac": "customer",
        "fe8365a0-9834-4bd4-a47b-911a9ae78e06": "film",
        "778aab3c-fb93-4786-90ff-7cbc4b08b4e0": "film_actor",
        "fe5a1aab-f5e2-4eec-8d67-edf3f2243110": "film_category",
        "f29c19d2-bda9-4560-bb22-439e8789d495": "inventory",
        "9fe85521-30b3-4ab0-af6d-72071b837174": "payment",
        "3090385d-d8f0-4b82-9df0-35bfe792ec63": "rental",
        "606710fd-3963-4876-894f-4a67c06a802d": "staff",
        "4fd7816d-5c9e-442a-912f-5724cc5c7d60": "store",
        "f2c0d92e-0768-4439-b2e4-d108a4b66dc9": "actor",
        "e8113c9e-f07c-414f-97f3-016dd38b46fc": "address",
        "5288d4e7-503b-4abd-9303-72eae8476379": "category",
        "9acec0ee-8817-446e-8ff3-6f3b1929fa3a": "city",
        "9523c3ce-3481-4a12-8de9-e9866d52580a": "country",
        "bc4695a0-e219-42e9-9d75-8f4d6c77f038": "customer",
        "e03ceef3-b908-4da2-8510-2497f5427ff9": "film",
        "706b2103-2ecc-4c75-a9cc-b5854d9b87c6": "film_actor",
        "50bb00c7-637f-4e85-9a39-54c0fbd067ed": "film_category",
        "0b6571d2-b208-41b1-aaf6-d0d30f81529a": "inventory",
        "bdee74fe-6bbd-4733-8714-9ff1e30e53c9": "language",
        "f05c3a78-8284-4eac-a62a-61a3e04ba553": "payment",
        "0930ac46-3122-4d4e-8629-d04d45015b60": "rental",
        "977626c1-66d4-4724-a693-c43f86935b9b": "staff",
        "15322aaf-80ac-4b5c-af79-0fcba80d21b8": "store",
        "3e3615e8-56e1-4d2a-844a-ce33ac707540": "actor_id",
        "91165d3e-670e-41ce-89eb-3ba6740700f7": "last_update",
        "af25335c-6760-48d3-abb9-55f0b30d0ad4": "address_id",
        "ab8503f4-e1ab-4c12-b289-d89d61e443bd": "city_id",
        "2f075cc7-9b69-4274-af39-d7488a2bb8a2": "last_update",
        "74d7881d-e3cc-4f7a-93b6-7c42f132c1ca": "category_id",
        "320ec1cd-4a77-42c2-9408-3703dd82c752": "last_update",
        "720d157f-0416-41fe-91c3-b3e066b1d762": "city_id",
        "1ebcce57-acb5-49aa-9985-d81c16aad78c": "country_id",
        "10a5e102-ccf5-4035-a23a-3aa637b5878e": "last_update",
        "d3eaeb13-44d5-419f-96cd-69abbdc67f21": "country_id",
        "a8b7143b-ba27-4b23-bfe6-c976d7454534": "last_update",
        "2bedaf45-30e6-4c10-9984-d24202772582": "customer_id",
        "94e066ab-5b27-43a3-9286-446617f15916": "store_id",
        "ca148704-fa09-454f-a353-d42e25e538c4": "address_id",
        "accd212a-16b6-4eed-8527-eb05f4d63265": "create_date",
        "6fdfa94f-ea9e-4149-aa3e-893407af5d7c": "last_update",
        "57b5fa53-f481-485e-ba34-f5ef41b9455b": "active",
        "1929a9b3-c3e2-4a98-bea8-1241fe33de17": "film_id",
        "c6952d3e-84f3-4aef-9aa4-79e2f751c686": "language_id",
        "09b2d00b-cde4-4c53-89f6-8e61a8eb8aee": "rental_duration",
        "5351d304-4c22-4578-b7c5-4c7a4831c4e7": "length",
        "b41c90d5-bd4b-4d0a-9a99-0b30c85f964b": "last_update",
        "6954c08e-4542-42f4-aa1d-c723085c55da": "special_features",
        "eb785d4a-53ee-469e-920f-b5ceeca54af3": "fulltext",
        "77a5978c-a743-4ac9-8221-dc74e5789d3c": "actor_id",
        "c7c38851-2259-4001-8661-0d408bb08012": "film_id",
        "0855ad7f-ce93-4aa2-bc11-eeeaba749c6d": "last_update",
        "2d53ff77-e354-4a7c-a6fa-6b92a22334b5": "film_id",
        "7ee63175-bf73-43cb-afde-938e08a0b9e4": "category_id",
        "852e7b45-36a5-44d8-8eb9-753042ea8765": "last_update",
        "75daa307-e569-44a8-bc17-2cfd58686914": "inventory_id",
        "55efea3d-80e9-4caf-aa9f-b87ad88f7629": "film_id",
        "c83559eb-39f7-4d1f-82da-d1ecd65235e6": "store_id",
        "a38e71ef-127f-43ce-95cb-4256924cf965": "last_update",
        "43c5c175-7506-4ca2-ba0e-a9ea5de9a826": "payment_id",
        "57bee1ff-9676-453d-b581-6adb95bb0b01": "customer_id",
        "891afaa2-d334-412a-a844-1143286828d5": "staff_id",
        "7e173ae3-edb0-450d-a7b6-4baf4fd7592e": "rental_id",
        "2b97f127-a11d-4952-9559-fd10497d2864": "payment_date",
        "a1414e93-9ecb-4c0d-b00f-e693a984f029": "rental_id",
        "07190063-af1d-4815-b26e-094a581c5e43": "rental_date",
        "848234d7-d902-4fee-8e9b-d94c910b523a": "inventory_id",
        "3a0c6d98-de84-431f-ac9b-ee0e0c6474a5": "customer_id",
        "45c02365-9721-439a-9abb-6dca8f4f14bb": "return_date",
        "36228c15-f559-4764-800d-52c41cd47925": "staff_id",
        "f6a34170-4b33-4339-9e00-8337dd6ac57d": "last_update",
        "65f2e1a8-93ec-4bea-be10-95d74ba53239": "staff_id",
        "7d5e8889-9855-4bc3-8e82-118ca2829648": "address_id",
        "5074a1e1-5f4b-49b7-94c4-82f381dcdf29": "store_id",
        "f070be70-575c-4845-960e-d4b2dbdf45cb": "last_update",
        "2ae7a1f2-3249-4715-a2e9-d373489ae8ef": "picture",
        "a9573c0a-9669-4a76-aea1-42cd7f74c8a0": "store_id",
        "5c426951-a569-4e1e-975f-289bf174f2d5": "manager_staff_id",
        "8717a4fe-4af8-4257-9916-e6f1814b10be": "address_id",
        "54240294-da77-436b-a327-c7e1b0c50ab8": "last_update",
        "d6c4c345-1fa1-483f-a9dc-233811fb9a80": "language",
        "aca2a605-7bb7-4ce8-94c0-505d74e1265d": "actor",
        "a3291088-ffd8-4e4f-baa5-acce11865032": "address",
        "e5ea9730-dd7d-40b3-8a3e-e6e27ff7d784": "category",
        "f2a3a976-359e-425b-8dca-4590dc15516f": "city",
        "107633fc-fce5-48f7-859c-c0cf72748d78": "country",
        "3331f3d8-158d-4c15-bb7b-e5e05b2c54d3": "customer",
        "5c801c31-43c1-4d69-9afa-56de52c0e893": "film",
        "f78198f7-11d6-428a-a761-dc4c25657dd5": "film_actor",
        "95d0fcca-820c-4a3a-941b-19c0336884c3": "film_category",
        "f9f74b93-69be-4f5b-8369-c34bc82b11cc": "inventory",
        "498e442b-600d-4b5e-afed-ab6b101f181d": "payment",
        "0656b983-18a6-470b-a128-f03a38c159c4": "rental",
        "d4a1eded-45e2-43f2-941b-085dcf4e189a": "staff",
        "fb887bb9-7bb9-4b59-bd9e-4f3834e110f8": "store",
        "7407b408-905e-4220-b45a-b82009e96bf4": "added",
        "3661a183-397c-43a9-8b97-a454a85de186": "deleted",
        "ccef4716-bcfe-4507-8db1-74c6531ad109": "modified",
        "e538fb3b-8473-4562-8f5a-0eb51f93247f": "store_address_id_fkey",
        "f9b0f681-a0da-4772-a56f-7635f3edea6a": "store_manager_staff_id_fkey",
        "5b249fee-16bc-40e4-9fd1-2cc46c80b472": "fk_address_city",
        "d374bba1-7534-4b1b-8812-6aa507c55623": "fk_city",
        "895c41b9-14d8-4f7c-a4aa-266885a40463": "customer_address_id_fkey",
        "3b8f74ab-376d-49fe-8808-6241fa630e32": "film_actor_actor_id_fkey",
        "b5042932-7c3b-4f73-afec-43ac367c7a1f": "film_actor_film_id_fkey",
        "d03dd0f4-e0ba-481d-830d-6a3d8a197237": "film_category_category_id_fkey",
        "fd86f209-5a4b-4ea7-b035-f61e8f5c2380": "film_category_film_id_fkey",
        "9a562a77-30a2-4ccb-b5e0-0d8b01ee9f6b": "inventory_film_id_fkey",
        "c1c0d07a-bcfc-4365-9a16-6e69b51b83a7": "rental_customer_id_fkey",
        "7e0103a3-1f38-493a-aa5a-86fa4266ffc4": "rental_inventory_id_fkey",
        "1176da73-580a-44d1-bb64-b194cfe0c480": "rental_staff_id_key",
        "de5d6fab-0969-4e75-8d15-13e259c84972": "staff_address_id_fkey",
        "bb069ade-4229-4938-a44d-e3a732655054": "payment_customer_id_fkey",
        "e0c8efb3-5638-47c5-97f9-0d1c7ac7bfe8": "payment_rental_id_fkey",
        "0efc6208-cac1-4e6c-8ec7-f48a71ad5742": "payment_staff_id_fkey",
        "d705d2e1-bc3f-48ce-ba3f-e24723698859": "store_address_id_fkey",
        "1151d3ae-aef8-4d66-84f9-7246519f0912": "store_manager_staff_id_fkey",
        "de48a35a-5c6a-4c1a-a9e8-217ca69ada84": "fk_address_city",
        "5dda9f39-ede1-4032-9cc8-25bdea32137d": "fk_city",
        "9880e24c-16d5-4d0c-a06c-f8540140a5d1": "customer_address_id_fkey",
        "35c1fd9a-64d4-4b9d-a6a2-cade4633ccea": "film_actor_actor_id_fkey",
        "83879be8-57dd-42ae-8c89-6d55830f67d7": "film_actor_film_id_fkey",
        "b7dd8a18-6a44-47af-8eaf-e6acb061b1b2": "film_category_category_id_fkey",
        "5f3a7439-69cd-4bb2-902f-2392ba91e61c": "film_category_film_id_fkey",
        "cd01e55f-4b8b-4577-8c17-66e2c2c5e1c9": "inventory_film_id_fkey",
        "f52b3acd-a183-4d03-b96b-9ae4c2d57dda": "rental_customer_id_fkey",
        "0b1fbbb4-799a-40f8-a0f0-712c284f24ff": "rental_inventory_id_fkey",
        "56da40cc-7178-4252-9b45-79b519716868": "rental_staff_id_key",
        "d457285e-5ff7-4240-934a-ddbcf3016924": "staff_address_id_fkey",
        "a4bbc494-6562-45d2-93b7-6538f55d7030": "payment_customer_id_fkey",
        "b7838df1-b3cd-4241-a4a6-07f536699620": "payment_rental_id_fkey",
        "0c47fa9c-5b12-4f64-95cb-a9b543c961c2": "payment_staff_id_fkey",
        "5a2914fb-b66d-439e-bcc0-593427170510": "film_language_id_fkey",
        "5833d28e-69e3-400e-81c4-981c8184e9e1": "language_id",
        "1fbad153-6792-4974-973a-6571e17625c1": "film_language_id_fkey",
        "be5f5fbc-c5cc-4ee6-a2b3-08e0d0e26fc2": "store_address_id_fkey",
        "fee31bfe-033e-4f93-9c8e-065aa99074d1": "store_manager_staff_id_fkey",
        "aa7686e9-959d-4a16-93e8-66c24b4a79d5": "fk_address_city",
        "c867ef0e-7aeb-4acf-aecd-4d3a0a266f2e": "fk_city",
        "c5f8660f-4683-4b7f-b565-308aa45848a1": "customer_address_id_fkey",
        "3b2de996-7ae0-48aa-bc5d-a1c5742389f1": "film_actor_actor_id_fkey",
        "3ead2ac8-dfae-42c6-b9fb-e6d30cc7a222": "film_actor_film_id_fkey",
        "e56124a2-a5fa-4e24-9496-89e348991114": "film_category_category_id_fkey",
        "62d8b542-f877-4e4c-bea1-656967d1f023": "film_category_film_id_fkey",
        "709dfc47-503c-48a8-a718-4e10ea0bbc55": "inventory_film_id_fkey",
        "2f8e856d-3a7f-4066-82c8-d56d33eedd23": "rental_customer_id_fkey",
        "bf8262e8-480d-4741-a60b-ea2767d97f45": "rental_inventory_id_fkey",
        "2574bccb-edcf-40b4-bf02-5fc5134f9a9b": "rental_staff_id_key",
        "a52720d6-42fb-46cc-bae8-fe5f8dac791d": "staff_address_id_fkey",
        "fc4e669e-025d-4286-9d2f-67ae6498d33b": "payment_customer_id_fkey",
        "dea8f2f8-8737-460f-9820-94b0b97c094b": "payment_rental_id_fkey",
        "cd27ddfb-cba5-47e7-95ac-9138c589198e": "payment_staff_id_fkey",
        "ba0cac20-89c4-46b5-a211-ade32d51861b": "added",
        "68e7949f-5f73-43fd-b8cb-5f42123a5501": "deleted",
        "ab4d59cf-aaae-4f51-9c62-0f592b4e858c": "modified",
        "6031f9e9-f39e-408b-8db4-749873a39ef6": "actor_info",
        "8e64d6b2-7304-4cd3-9fea-9396f39e4ff3": "customer_list",
        "bba0d326-fb86-4319-bd70-c897070d4dc9": "film_list",
        "d74f0d6d-b851-4b2e-b0b1-287fbc34d272": "nicer_but_slower_film_list",
        "2124b0b7-ad75-4489-8d89-024432252885": "sales_by_film_category",
        "57208685-83ef-49ea-a3d8-382651e5796d": "sales_by_store",
        "315c22ce-0105-4d75-8c6f-1e50f4db6d27": "staff_list",
        "122e7e7e-335e-430d-8d98-e709675f10b7": "actor_info",
        "ca8db3b3-4d89-4314-be21-34de49147ae1": "customer_list",
        "2ba90d68-61df-4d49-817c-8141eb6a2b0d": "film_list",
        "82ec9e14-87b4-4a16-8b22-c999db0f663f": "nicer_but_slower_film_list",
        "e391bc15-8858-4cb8-93a3-e2601a4c30cf": "sales_by_film_category",
        "3fe2294f-7e5f-4329-a81e-0f8294968b6b": "sales_by_store",
        "02d7e94b-e6c6-4ee1-8a50-bba2547380dc": "staff_list",
        "9a640175-147b-4cd4-8072-b7c87ca4382a": "actor_info",
        "c1a0e942-ac6c-4d4a-810e-fae924cbc2ea": "customer_list",
        "a499fb91-eae7-4f3b-8e79-11e276ae0119": "film_list",
        "b6ee09cd-947f-426e-9214-2ac1c32566c0": "nicer_but_slower_film_list",
        "b0275af0-c000-4b04-af58-da98046016c8": "sales_by_film_category",
        "703fb31d-f455-4b12-b3ef-c5cb1ec1466b": "sales_by_store",
        "38b6fb6e-58e1-4d8e-bff2-8faeaf710e43": "staff_list",
        "31c9ac6c-2564-4ce7-a1f2-36b113405c30": "added",
        "31ed4a51-f625-4a36-85b7-2d31be184db6": "deleted",
        "47aa7ae5-0d31-41ed-b9d2-3bda64c46dab": "modified",
        "aef4047c-1b18-4be6-8785-760ae34f2043": "mpaa_rating",
        "52a01f94-9d41-4f97-8576-634c7b91c85f": "year",
        "b8a8c2d9-471a-4b9c-8bb8-ccd3a9aac456": "mpaa_rating",
        "d50e17e9-da0e-4530-b393-3a5b364a89fe": "year",
        "51e78a57-f40f-4591-8a29-3118113bad8a": "mpaa_rating",
        "afe91ec3-9805-406b-ba4b-38402ccda4d9": "year",
        "1b65ab83-3dc1-4a88-8173-3cb0949cf724": "comparisonModelCollection",
        "47a33b88-dfb1-44b1-9c0d-b03517c27151": "containers",
        "2280d165-105a-4b6b-87e6-68192933023a": "entities",
        "40f80381-ae87-4d43-83a1-ca935bffec4f": "relationships",
        "35b1dd0b-e952-486f-8665-426bead2b1fd": "views",
        "326d1795-ef51-45a1-8f53-bfd01a98f424": "modelDefinitions"
    },
    "definitions": {
        "type": "definitions",
        "properties": [
            {
                "childType": "enum",
                "type": "string",
                "compositeKey": [
                    "compositePartitionKey",
                    "compositePrimaryKey",
                    "compositeUniqueKey",
                    "triggerUpdateColumns"
                ],
                "name": "mpaa_rating",
                "isActivated": true,
                "primaryKey": false,
                "enum": [
                    "G",
                    "PG",
                    "PG-13",
                    "R",
                    "NC-17"
                ],
                "hackoladeMeta": {},
                "error": {},
                "GUID": "aef4047c-1b18-4be6-8785-760ae34f2043",
                "parentRelationship": "",
                "childRelationships": [],
                "properties": [],
                "definitionRefs": []
            },
            {
                "primaryKey": false,
                "mode": "varchar",
                "length": 10,
                "childType": "char",
                "type": "string",
                "compositeKey": [
                    "compositePartitionKey",
                    "compositePrimaryKey",
                    "compositeUniqueKey",
                    "triggerUpdateColumns"
                ],
                "compositePrimaryKey": false,
                "compositeUniqueKey": false,
                "name": "year",
                "isActivated": true,
                "required": false,
                "unique": false,
                "default": "",
                "hackoladeMeta": {},
                "error": {},
                "GUID": "52a01f94-9d41-4f97-8576-634c7b91c85f",
                "parentRelationship": "",
                "childRelationships": [],
                "properties": [],
                "definitionRefs": []
            }
        ],
        "GUID": "5e1161c7-5396-46b9-b032-2874d94572b8"
    },
    "polyglotDefinitions": {
        "type": "polyglotDefinitions",
        "properties": [],
        "GUID": "5d52543f-c479-436f-8eda-c3a721688b55"
    },
    "externalDefinitions": {
        "type": "externalDefinitions",
        "properties": [],
        "GUID": "9c0df559-f7fe-4d1b-aac5-5ad6f9783c39"
    },
    "sources": [],
    "decorativeSymbols": [],
    "dbVersion": "v5.0",
    "dbVendor": "PostgreSQL",
    "tablespace_name": "pg_default",
    "encoding": "UTF8",
    "appTarget": "PostgreSQL",
    "creationTS": "2023-05-31T13:28:53.204Z",
    "GUID": "04b96e32-29e2-4dcb-a829-ede4cc27953c",
    "compMode": true,
    "isCreatedByPlugin": true,
    "pluginInformation": {
        "pluginName": "PostgreSQL",
        "pluginVersion": "0.1.42",
        "pluginEngineVersion": "1.0.0"
    },
    "lastModifTS": "2023-05-31T13:28:53.288Z",
    "persistenceSchemaVersion": "6",
    "applicationInformation": {
        "version": "6.10.3"
    },
    "settings": {
        "centralPane": {
            "dbLevel": {
                "erd": [
                    {
                        "GUID": "1b65ab83-3dc1-4a88-8173-3cb0949cf724",
                        "x": 50,
                        "y": 50,
                        "width": 200,
                        "height": 100,
                        "color": {}
                    }
                ],
                "erdDefinitions": {
                    "erd": [],
                    "rootPath": [],
                    "entities": [],
                    "decorativeSymbols": []
                },
                "buckets": [],
                "collapsedNodes": [],
                "activeRelationship": "",
                "activeRelationshipFields": {
                    "childField": [],
                    "parentField": []
                },
                "selectedCollections": [],
                "displayColorPicker": false,
                "graphView": {
                    "erd": [],
                    "buckets": [],
                    "decorativeSymbols": [],
                    "forceLayout": true,
                    "defaultLinkLength": 300
                },
                "diagramViews": [],
                "decorativeSymbols": [],
                "nestedCollectionsLayout": "horizontal",
                "options": [],
                "relationshipUpdateDisabled": false
            },
            "collectionLevel": {},
            "changed": false
        },
        "dtDiagram": {
            "collapsedNodes": [],
            "shouldDistributeCollections": false
        }
    }
}